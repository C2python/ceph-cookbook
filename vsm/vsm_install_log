[cephuser@vsm-controller 2.0.0-216]$ sudo ./install.sh -u cephuser -v 2.0
+ echo 'Before auto deploy the vsm, please be sure that you have set the manifest
such as manifest/192.168.100.100/server.manifest. And you have changed the file, too.'
Before auto deploy the vsm, please be sure that you have set the manifest
such as manifest/192.168.100.100/server.manifest. And you have changed the file, too.
+ sleep 5
+++ dirname ./install.sh
++ cd .
++ pwd
+ TOPDIR=/home/cephuser/2.0.0-216
++ mktemp
+ TEMP=/tmp/tmp.tTsTD6plW0
+ rm -rfv /tmp/tmp.tTsTD6plW0
+ mkdir -p /tmp/tmp.tTsTD6plW0
++ hostname
+ HOSTNAME=vsm-controller
++ hostname -I
+ HOSTIP='10.0.2.15 192.168.123.100 '
+ PATH_N=/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
+ source /home/cephuser/2.0.0-216/installrc
++ AGENT_ADDRESS_LIST='192.168.123.101 192.168.123.102 192.168.123.103'
++ CONTROLLER_ADDRESS=192.168.123.100
+ '[' -z ']'
+ MANIFEST_PATH=manifest
+ [[ '' != '' ]]
+ IS_CONTROLLER=0
+ for ip in '$HOSTIP'
+ '[' 10.0.2.15 == 192.168.123.100 ']'
+ for ip in '$HOSTIP'
+ '[' 192.168.123.100 == 192.168.123.100 ']'
+ IS_CONTROLLER=1
+ [[ vsm-controller == 192.168.123.100 ]]
+ '[' 1 -eq 0 ']'
+ echo '[Info]: You run the tool in the controller server.'
[Info]: You run the tool in the controller server.
+ [[ False == False ]]
+ [[ False == False ]]
+ [[ False == False ]]
+ prepare
+ check_vsm_package
+ [[ ! -d vsmrepo ]]
+ cd vsmrepo
++ ls
++ grep python-vsmclient-2.0.0-216.noarch.rpm
++ wc -l
+ IS_PYTHON_VSMCLIENT=1
++ wc -l
++ grep -v python-vsmclient
++ grep -v vsm-dashboard
++ grep -v vsm-deploy
++ grep vsm
++ ls
+ IS_VSM=1
++ ls
++ grep vsm-dashboard-2.0.0-216.noarch.rpm
++ wc -l
+ IS_VSM_DASHBOARD=1
++ ls
++ grep vsm-deploy-2.0.0-216.x86_64.rpm
++ wc -l
+ IS_VSM_DEPLOY=1
+ [[ 1 -gt 0 ]]
+ [[ 1 -gt 0 ]]
+ [[ 1 -gt 0 ]]
+ [[ 1 -gt 0 ]]
+ echo 'The vsm pachages have been already prepared'
The vsm pachages have been already prepared
+ cd /home/cephuser/2.0.0-216
+ download_dependencies
+ [[ ! -d vsm-dep-repo ]]
+ [[ -d vsm-dep-repo ]]
+ [[ False == True ]]
+ prepare_repo
+ sudo -E yum makecache
Loaded plugins: fastestmirror
base                                                                                                                                                                    | 3.6 kB  00:00:00
epel/x86_64/metalink                                                                                                                                                    |  26 kB  00:00:00
extras                                                                                                                                                                  | 3.4 kB  00:00:00
updates                                                                                                                                                                 | 3.4 kB  00:00:00
vsmdeprepo                                                                                                                                                              | 2.9 kB  00:00:00
vsmrepo                                                                                                                                                                 | 2.9 kB  00:00:00
Loading mirror speeds from cached hostfile
 * base: ftp.df.lth.se
 * epel: fedora.cu.be
 * extras: centos.uib.no
 * updates: ftp.df.lth.se
Metadata Cache Created
++ grep -i createrepo
++ rpm -qa
++ wc -l
+ IS_CREATEREPO=1
+ [[ 1 -eq 0 ]]
+ mkdir -p vsm-dep-repo/vsm-dep-repo
+ cd vsm-dep-repo
+ cp apr-util-ldap-1.5.2-6.el7.x86_64.rpm diamond-4-0.noarch.rpm openstack-keystone-2014.2.1-1.el7.centos.noarch.rpm openstack-utils-2014.2-1.el7.centos.noarch.rpm python-alembic-0.6.5-3.el7.centos.noarch.rpm python-cinderclient-1.1.1-1.el7.centos.noarch.rpm python-django-horizon-2014.2.1-1.el7.centos.noarch.rpm python-django-openstack-auth-1.1.7-1.el7.centos.noarch.rpm python-flask-0.10.1-4.el7.noarch.rpm python-greenlet-0.4.2-3.el7.x86_64.rpm python-itsdangerous-0.23-2.el7.noarch.rpm python-jinja2-2.7.2-2.el7.noarch.rpm python-keystone-2014.2.1-1.el7.centos.noarch.rpm python-keystoneclient-0.11.1-1.el7.centos.noarch.rpm python-keystonemiddleware-1.2.0-1.el7.centos.noarch.rpm python-ldappool-1.0-4.el7.centos.noarch.rpm python-novaclient-2.20.0-1.el7.centos.noarch.rpm python-oslo-config-1.4.0-1.el7.centos.noarch.rpm python-oslo-db-1.0.2-2.el7.centos.noarch.rpm python-oslo-i18n-1.0.0-1.el7.centos.noarch.rpm python-oslo-messaging-1.4.0.0-4.el7.centos.noarch.rpm python-oslo-utils-1.0.0-1.el7.centos.noarch.rpm python-pycadf-0.6.0-2.el7.centos.noarch.rpm python-six-1.7.3-1.el7.centos.noarch.rpm python-webob-1.2.3-6.el7.noarch.rpm python-werkzeug-0.9.1-2.el7.noarch.rpm vsm-dep-repo
+ sudo -E createrepo vsm-dep-repo
Spawning worker 0 with 209 pkgs
Workers Finished
Saving Primary metadata
Saving file lists metadata
Saving other metadata
Generating sqlite DBs
Sqlite DBs complete
+ cd /home/cephuser/2.0.0-216
+ sudo -E createrepo vsmrepo
Spawning worker 0 with 4 pkgs
Workers Finished
Saving Primary metadata
Saving file lists metadata
Saving other metadata
Generating sqlite DBs
Sqlite DBs complete
+ rm -rf vsm.repo vsm-dep.repo
+ cat
+ cat
+ install_controller
+ check_manifest 192.168.123.100
+ [[ 192.168.123.100 == 192.168.123.100 ]]
+ [[ ! -d manifest/192.168.123.100 ]]
+ [[ ! -f manifest/192.168.123.100/cluster.manifest ]]
+ [[ 1 -eq 0 ]]
+ set_local_repo
+ sudo -E rm -rf /etc/yum.repos.d/vsm.repo /etc/yum.repos.d/vsm-dep.repo
+ sudo -E rm -rf /opt/vsm-dep-repo /opt/vsmrepo
+ sudo -E cp -r vsm-dep-repo/vsm-dep-repo /opt
+ sudo -E cp -r vsmrepo /opt
+ sudo -E cp vsm.repo /etc/yum.repos.d
+ sudo -E cp vsm-dep.repo /etc/yum.repos.d
+ sudo -E yum makecache
Loaded plugins: fastestmirror
base                                                                                                                                                                    | 3.6 kB  00:00:00
epel/x86_64/metalink                                                                                                                                                    |  26 kB  00:00:00
extras                                                                                                                                                                  | 3.4 kB  00:00:00
updates                                                                                                                                                                 | 3.4 kB  00:00:00
vsmdeprepo                                                                                                                                                              | 2.9 kB  00:00:00
vsmrepo                                                                                                                                                                 | 2.9 kB  00:00:00
vsmdeprepo/primary_db                                                                                                                                                   | 139 kB  00:00:00
Loading mirror speeds from cached hostfile
 * base: ftp.df.lth.se
 * epel: ftp.linux.cz
 * extras: mirror.jgotteswinter.com
 * updates: ftp.df.lth.se
Metadata Cache Created
+ sudo -E systemctl stop firewalld
+ sudo -E systemctl disable firewalld
+ sudo -E sed -i s/SELINUX=enforcing/SELINUX=disabled/g /etc/selinux/config
++ sudo -E getenforce
+ [[ Disabled != \D\i\s\a\b\l\e\d ]]
+ sudo -E sed -i s/keepcache=0/keepcache=1/g /etc/yum.conf
+ sudo -E yum install -y vsm vsm-deploy vsm-dashboard python-vsmclient
Loaded plugins: fastestmirror
base                                                                                                                                                                    | 3.6 kB  00:00:00
Loading mirror speeds from cached hostfile
 * base: ftp.df.lth.se
 * epel: mirror.duomenucentras.lt
 * extras: centos.vianett.no
 * updates: ftp.df.lth.se
Resolving Dependencies
--> Running transaction check
---> Package python-vsmclient.noarch 0:2.0.0-216 will be installed
---> Package vsm.noarch 0:2.0.0-216 will be installed
--> Processing Dependency: mod_ssl for package: vsm-2.0.0-216.noarch
--> Processing Dependency: ceph for package: vsm-2.0.0-216.noarch
---> Package vsm-dashboard.noarch 0:2.0.0-216 will be installed
--> Processing Dependency: mod_wsgi for package: vsm-dashboard-2.0.0-216.noarch
--> Processing Dependency: httpd for package: vsm-dashboard-2.0.0-216.noarch
---> Package vsm-deploy.x86_64 0:2.0.0-216 will be installed
--> Running transaction check
---> Package ceph.x86_64 1:0.80.7-0.6.el7 will be installed
---> Package httpd.x86_64 0:2.4.6-31.el7.centos.1 will be installed
---> Package mod_ssl.x86_64 1:2.4.6-31.el7.centos.1 will be installed
---> Package mod_wsgi.x86_64 0:3.4-12.el7_0 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                          Arch                                   Version                                                 Repository                               Size
===============================================================================================================================================================================================
Installing:
 python-vsmclient                                 noarch                                 2.0.0-216                                               vsmrepo                                 132 k
 vsm                                              noarch                                 2.0.0-216                                               vsmrepo                                 2.0 M
 vsm-dashboard                                    noarch                                 2.0.0-216                                               vsmrepo                                 2.7 M
 vsm-deploy                                       x86_64                                 2.0.0-216                                               vsmrepo                                  61 k
Installing for dependencies:
 ceph                                             x86_64                                 1:0.80.7-0.6.el7                                        epel                                    9.4 M
 httpd                                            x86_64                                 2.4.6-31.el7.centos.1                                   updates                                 2.7 M
 mod_ssl                                          x86_64                                 1:2.4.6-31.el7.centos.1                                 updates                                 100 k
 mod_wsgi                                         x86_64                                 3.4-12.el7_0                                            base                                     76 k

Transaction Summary
===============================================================================================================================================================================================
Install  4 Packages (+4 Dependent packages)

Total size: 17 M
Total download size: 4.9 M
Installed size: 66 M
Downloading packages:
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                                                           83 MB/s | 4.9 MB  00:00:00
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : httpd-2.4.6-31.el7.centos.1.x86_64                                                                                                                                          1/8
  Installing : mod_wsgi-3.4-12.el7_0.x86_64                                                                                                                                                2/8
  Installing : 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64                                                                                                                                      3/8
  Installing : python-vsmclient-2.0.0-216.noarch                                                                                                                                           4/8
  Installing : 1:ceph-0.80.7-0.6.el7.x86_64                                                                                                                                                5/8
  Installing : vsm-2.0.0-216.noarch                                                                                                                                                        6/8
  Installing : vsm-dashboard-2.0.0-216.noarch                                                                                                                                              7/8
  Installing : vsm-deploy-2.0.0-216.x86_64                                                                                                                                                 8/8
  Verifying  : 1:ceph-0.80.7-0.6.el7.x86_64                                                                                                                                                1/8
  Verifying  : mod_wsgi-3.4-12.el7_0.x86_64                                                                                                                                                2/8
  Verifying  : vsm-dashboard-2.0.0-216.noarch                                                                                                                                              3/8
  Verifying  : vsm-2.0.0-216.noarch                                                                                                                                                        4/8
  Verifying  : vsm-deploy-2.0.0-216.x86_64                                                                                                                                                 5/8
  Verifying  : httpd-2.4.6-31.el7.centos.1.x86_64                                                                                                                                          6/8
  Verifying  : python-vsmclient-2.0.0-216.noarch                                                                                                                                           7/8
  Verifying  : 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64                                                                                                                                      8/8

Installed:
  python-vsmclient.noarch 0:2.0.0-216                  vsm.noarch 0:2.0.0-216                  vsm-dashboard.noarch 0:2.0.0-216                  vsm-deploy.x86_64 0:2.0.0-216

Dependency Installed:
  ceph.x86_64 1:0.80.7-0.6.el7              httpd.x86_64 0:2.4.6-31.el7.centos.1              mod_ssl.x86_64 1:2.4.6-31.el7.centos.1              mod_wsgi.x86_64 0:3.4-12.el7_0

Complete!
+ sudo -E env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin preinstall controller
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: ftp.df.lth.se
 * epel: mirror.de.leaseweb.net
 * extras: centos.vianett.no
 * updates: ftp.df.lth.se
Package 1:ceph-0.80.7-0.6.el7.x86_64 already installed and latest version
Package httpd-2.4.6-31.el7.centos.1.x86_64 already installed and latest version
Package 1:librbd1-devel-0.80.7-2.el7.x86_64 already installed and latest version
Package 1:librbd1-0.80.7-2.el7.x86_64 already installed and latest version
Package 1:mariadb-5.5.44-1.el7_1.x86_64 already installed and latest version
Package 1:mariadb-devel-5.5.44-1.el7_1.x86_64 already installed and latest version
Package 1:mariadb-server-5.5.44-1.el7_1.x86_64 already installed and latest version
Package ntp-4.2.6p5-19.el7.centos.3.x86_64 already installed and latest version
Package openssh-server-6.6.1p1-12.el7_1.x86_64 already installed and latest version
Package 1:openssl-1.0.1e-42.el7.9.x86_64 already installed and latest version
Package openstack-keystone-2014.2.1-1.el7.centos.noarch already installed and latest version
Package openstack-utils-2014.2-1.el7.centos.noarch already installed and latest version
Package python-devel-2.7.5-18.el7_1.1.x86_64 already installed and latest version
Package 1:smartmontools-6.2-4.el7.x86_64 already installed and latest version
Resolving Dependencies
--> Running transaction check
---> Package memcached.x86_64 0:1.4.15-9.el7 will be installed
---> Package rabbitmq-server.noarch 0:3.3.5-6.el7 will be installed
---> Package rbd-fuse.x86_64 1:0.80.7-0.6.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                           Arch                                     Version                                               Repository                              Size
===============================================================================================================================================================================================
Installing:
 memcached                                         x86_64                                   1.4.15-9.el7                                          base                                    84 k
 rabbitmq-server                                   noarch                                   3.3.5-6.el7                                           epel                                   4.0 M
 rbd-fuse                                          x86_64                                   1:0.80.7-0.6.el7                                      epel                                    23 k

Transaction Summary
===============================================================================================================================================================================================
Install  3 Packages

Total size: 4.1 M
Installed size: 4.9 M
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : memcached-1.4.15-9.el7.x86_64                                                                                                                                               1/3
  Installing : rabbitmq-server-3.3.5-6.el7.noarch                                                                                                                                          2/3
  Installing : 1:rbd-fuse-0.80.7-0.6.el7.x86_64                                                                                                                                            3/3
  Verifying  : 1:rbd-fuse-0.80.7-0.6.el7.x86_64                                                                                                                                            1/3
  Verifying  : rabbitmq-server-3.3.5-6.el7.noarch                                                                                                                                          2/3
  Verifying  : memcached-1.4.15-9.el7.x86_64                                                                                                                                               3/3

Installed:
  memcached.x86_64 0:1.4.15-9.el7                              rabbitmq-server.noarch 0:3.3.5-6.el7                              rbd-fuse.x86_64 1:0.80.7-0.6.el7

Complete!
+ sudo -E rm -rf /etc/manifest/cluster.manifest
+ sudo -E cp manifest/192.168.123.100/cluster.manifest /etc/manifest
+ sudo -E chown root:vsm /etc/manifest/cluster.manifest
+ sudo -E chmod 755 /etc/manifest/cluster.manifest
++ wc -l
++ grep error
++ env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin cluster_manifest
+ '[' 0 -gt 0 ']'
+ [[ -n '' ]]
+ sudo -E env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin vsm-controller

Stopping vsm-agent (via systemctl):                        [  OK  ]
+ cat
+ service sshd restart
Redirecting to /bin/systemctl restart  sshd.service
+ [[ ! 1 -eq 1 ]]
+ VSM_RC_FILE=/etc/vsmdeploy/deployrc
+++ dirname /usr/local/bin/vsm-installer
++ cd /usr/local/bin
++ pwd
+ TOPDIR=/usr/local/bin
++ mktemp
+ TEMP=/tmp/tmp.TyAFs1MxZa
+ rm -rfv /tmp/tmp.TyAFs1MxZa
+ mkdir -p /tmp/tmp.TyAFs1MxZa
+ [[ -e /etc/vsmdeploy/deployrc ]]
+ source /etc/vsmdeploy/deployrc
++ STACK_USER=stack
++ REPO_HOST=192.168.123.100
++ VSM_HTTPS_PASSWORD=d8bc641984ebd4ec6c18
++ MYSQL_ROOT_PASSWORD=4bdef4f446d34469d273
++ MYSQL_HOST=192.168.123.100
++ RABBITMQ_HOST=192.168.123.100
++ RABBITMQ_USER=guest
++ RABBITMQ_PASSWORD=4f464a36cfe791ecde59
++ RABBITMQ_NODENAME=deploy_rabbitmq
++ RABBITMQ_PORT=5673
++ MYSQL_KEYSTONE_USER=keystone
++ MYSQL_KEYSTONE_PASSWORD=9178410ea75208991a3e
++ KEYSTONE_HOST=192.168.123.100
++ ADMIN_PASSWORD=638404a913cb18d6543d
++ ADMIN_TOKEN=4c6e4d205a80939e0e69
++ AGENT_PASSWORD=a0d9eca47d38df291271
++ VSM_HOST=192.168.123.100
++ MYSQL_VSM_USER=vsm
++ MYSQL_VSM_PASSWORD=d1daebe97c7580e2a091
++ KEYSTONE_VSM_SERVICE_PASSWORD=90d438b695923decaf8a
++ VSM_RUNNING_SERVICE=vsm-api,vsm-conductor,vsm-scheduler
++ DASHBOARD_HOST=192.168.123.100
++ MYSQL_DASHBOARD_USER=dashboard
++ MYSQL_DASHBOARD_PASSWORD=83e3104f2066577cc328
+ source /usr/local/bin/tools/lib/services
+ source /usr/local/bin/tools/lib/mysql
+ source /usr/local/bin/tools/lib/ntp
++ grep -v services
++ grep -v manifest
++ grep -v check
++ ls /usr/local/bin/tools/lib/
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/createrepo
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/dir
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/keystone
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/mysql
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/network
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/ntp
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/rabbitmq
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/repo
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/user
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/vsm
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest| grep -v check`'
+ source /usr/local/bin/tools/lib/vsmdash
+ cluster_manifest
[cluster]
{'name': 'ec_profiles', 'third': ['jerasure'], 'second': ['/usr/lib64/ceph/erasure-code'], 'single': [], 'fourth': ['3'], 'fifth': ['{"k":2,"m":1,"technique":"reed_sol_van"}'], 'first': ['default_profile']}
{'name': 'ec_profiles', 'third': ['jerasure'], 'second': ['/usr/lib64/ceph/erasure-code'], 'single': [], 'fourth': ['3'], 'fifth': ['{"k":2,"m":1,"technique":"reed_sol_van"}'], 'first': ['default_profile']}
Warning: There are some networks be the same.
management_network = 192.168.123.0/24
ceph_public_network = 192.168.123.0/24
cluster_network = 192.168.123.0/24
--------------------------------------
Check Success ~~
{
  "cache_tier_defaults": [
    {
      "default_value": "1",
      "name": "ct_hit_set_count"
    },
    {
      "default_value": "3600",
      "name": "ct_hit_set_period_s"
    },
    {
      "default_value": "1000000",
      "name": "ct_target_max_mem_mb"
    },
    {
      "default_value": "0.4",
      "name": "ct_target_dirty_ratio"
    },
    {
      "default_value": "0.8",
      "name": "ct_target_full_ratio"
    },
    {
      "default_value": "1000000",
      "name": "ct_target_max_objects"
    },
    {
      "default_value": "10",
      "name": "ct_target_min_flush_age_m"
    },
    {
      "default_value": "20",
      "name": "ct_target_min_evict_age_m"
    }
  ],
  "cluster": {
    "ceph_public_network": "192.168.123.0/24",
    "cluster_addr": "192.168.123.0/24",
    "cluster_name": "cluster_a",
    "cluster_network": "192.168.123.0/24",
    "file_system": "xfs",
    "management_network": "192.168.123.0/24",
    "name": "cluster_a",
    "osd_heartbeat_grace": null,
    "osd_heartbeat_interval": null,
    "public_addr": "192.168.123.0/24",
    "secondary_public_addr": "192.168.123.0/24"
  },
  "ec_profiles": [
    {
      "name": "default_profile",
      "pg_num": "3",
      "plugin": "jerasure",
      "plugin_kv_pair": "{\"k\":2,\"m\":1,\"technique\":\"reed_sol_van\"}",
      "plugin_path": "/usr/lib64/ceph/erasure-code"
    }
  ],
  "ntp_keys": null,
  "openstack_ip": [],
  "settings": [
    {
      "default_value": "65",
      "name": "storage_group_near_full_threshold"
    },
    {
      "default_value": "85",
      "name": "storage_group_full_threshold"
    },
    {
      "default_value": "75",
      "name": "ceph_near_full_threshold"
    },
    {
      "default_value": "90",
      "name": "ceph_full_threshold"
    },
    {
      "default_value": "100",
      "name": "pg_count_factor"
    },
    {
      "default_value": "5",
      "name": "heartbeat_interval"
    },
    {
      "default_value": "10",
      "name": "osd_heartbeat_interval"
    },
    {
      "default_value": "10",
      "name": "osd_heartbeat_grace"
    },
    {
      "default_value": "75",
      "name": "disk_near_full_threshold"
    },
    {
      "default_value": "90",
      "name": "disk_full_threshold"
    },
    {
      "default_value": "3",
      "name": "osd_pool_default_size"
    }
  ],
  "storage_class": [
    "10krpm_sas",
    "7200_rpm_sata",
    "ssd"
  ],
  "storage_group": [
    {
      "friendly_name": "Performance_Disk",
      "name": "performance",
      "storage_class": "10krpm_sas"
    },
    {
      "friendly_name": "Economy_Disk",
      "name": "capacity",
      "storage_class": "7200_rpm_sata"
    },
    {
      "friendly_name": "High_Performance",
      "name": "high_performance",
      "storage_class": "ssd"
    }
  ],
  "zone": [
    "zone_one"
  ]
}
Check Success ~~
--------------------------------------
++ nic_ip
++ local nic=
++ [[ 0 != 1 ]]
++ echo '************ERROR***********'
++ echo 'You must input one nic or bridge name.'
++ exit 0
+ HOST_IP='************ERROR***********
You must input one nic or bridge name.'
+ REPO_HOST=192.168.123.100
+ STACK_USER=stack
+ MYSQL_ROOT_PASSWORD=4bdef4f446d34469d273
+ MYSQL_HOST=192.168.123.100
+ setup_mysql
++ is_service_enabled 192.168.123.100
++ set +o xtrace
+ [[ 1 -gt 0 ]]
+ echo 'Begin to install MySQL'
Begin to install MySQL
++ cat /etc/my.cnf
++ grep firsttime
++ wc -l
+ [[ 1 -eq 0 ]]
+ echo 'Comes here'
Comes here
+ RABBITMQ_HOST=192.168.123.100
+ RABBITMQ_USER=guest
+ RABBITMQ_PASSWORD=4f464a36cfe791ecde59
+ RABBITMQ_NODENAME=deploy_rabbitmq
+ RABBITMQ_PORT=5673
+ setup_rabbitmq
++ is_service_enabled 192.168.123.100
++ set +o xtrace
+ [[ 1 -gt 0 ]]
+ _setup_rabbitmq
++ hostname
+ host_name=vsm-controller
++ wc -l
++ grep rabbitmq-server
++ rpm -qa
+ cnt=1
++ grep rabbitmq-server
++ wc -l
++ rpm -qa
+ cnt=1
+ [[ ! 1 -gt 0 ]]
+ file=/etc/rabbitmq/rabbitmq-env.conf
+ rm -rf /etc/rabbitmq/rabbitmq-env.conf
+ cat
+ sed -i s,%RABBITMQ_NODENAME%,deploy_rabbitmq,g /etc/rabbitmq/rabbitmq-env.conf
+ sed -i s,%RABBITMQ_NODE_PORT%,5673,g /etc/rabbitmq/rabbitmq-env.conf
+ sed -i s,%RABBITMQ_NODE_IP_ADDRESS%,192.168.123.100,g /etc/rabbitmq/rabbitmq-env.conf
+ config=/etc/rabbitmq/rabbitmq.config
+ rm -fr /etc/rabbitmq/rabbitmq.config
+ cat
+ service rabbitmq-server restart
Redirecting to /bin/systemctl restart  rabbitmq-server.service
+ sleep 3
+ rabbitmqctl change_password guest 4f464a36cfe791ecde59
Changing password for user "guest" ...
...done.
+ service rabbitmq-server restart
Redirecting to /bin/systemctl restart  rabbitmq-server.service
+ chkconfig rabbitmq-server on
Note: Forwarding request to 'systemctl enable rabbitmq-server.service'.
ln -s '/usr/lib/systemd/system/rabbitmq-server.service' '/etc/systemd/system/multi-user.target.wants/rabbitmq-server.service'
+ sleep 3
+ MYSQL_KEYSTONE_USER=keystone
+ MYSQL_KEYSTONE_PASSWORD=9178410ea75208991a3e
+ KEYSTONE_HOST=192.168.123.100
+ ADMIN_PASSWORD=638404a913cb18d6543d
+ ADMIN_TOKEN=4c6e4d205a80939e0e69
+ SERVICE_TOKEN=4c6e4d205a80939e0e69
+ ADMIN_USER=admin
+ SERVICE_TENANT_NAME=service
+ setup_keystone
++ is_service_enabled 192.168.123.100
++ set +o xtrace
+ [[ 1 -gt 0 ]]
+ unset http_proxy
+ unset https_proxy
+ unset ftp_proxy
+ export OS_USERNAME=
+ OS_USERNAME=
+ export OS_AUTH_KEY=
+ OS_AUTH_KEY=
+ export OS_AUTH_TENANT=
+ OS_AUTH_TENANT=
+ export OS_STRATEGY=
+ OS_STRATEGY=
+ export OS_AUTH_STRATEGY=
+ OS_AUTH_STRATEGY=
+ export OS_AUTH_URL=
+ OS_AUTH_URL=
+ export SERVICE_ENDPOINT=
+ SERVICE_ENDPOINT=
+ BASE_SQL_CONN=mysql://keystone:9178410ea75208991a3e@192.168.123.100
+ KEYSTONE_AUTH_HOST=192.168.123.100
+ KEYSTONE_AUTH_PORT=35357
+ KEYSTONE_AUTH_PROTOCOL=http
+ KEYSTONE_SERVICE_HOST=192.168.123.100
+ KEYSTONE_SERVICE_PORT=5000
+ KEYSTONE_SERVICE_PROTOCOL=http
+ SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
+ KEYSTONE_CATALOG_BACKEND=sql
+ logfile=/var/log/keystone/keystone.log
+ service openstack-keystone stop
Redirecting to /bin/systemctl stop  openstack-keystone.service
+ [[ -d /etc/keystone ]]
+ rm -rf /etc/keystone/default_catalog.templates /etc/keystone/keystone.conf /etc/keystone/logging.conf /etc/keystone/policy.json
+ mkdir -p /etc/keystone/
+ cp -rf /usr/local/bin/tools/etc/keystone/default_catalog.templates /usr/local/bin/tools/etc/keystone/keystone.conf /usr/local/bin/tools/etc/keystone/logging.conf /usr/local/bin/tools/etc/keystone/policy.json /etc/keystone/
+ chown -R keystone /etc/keystone
+ chmod +x /usr/local/bin/tools/script/openstack-db
+ /usr/local/bin/tools/script/openstack-db --drop --yes --password 9178410ea75208991a3e --rootpw 4bdef4f446d34469d273 --service keystone --host 192.168.123.100
+ systemctl --version
+ systemctl=1
+ '[' 10 -gt 0 ']'
+ case "$1" in
+ MODE=drop
+ shift
+ '[' 9 -gt 0 ']'
+ case "$1" in
+ ASSUME_YES=yes
+ shift
+ '[' 8 -gt 0 ']'
+ case "$1" in
+ shift
+ MYSQL_APP_PW=9178410ea75208991a3e
+ shift
+ '[' 6 -gt 0 ']'
+ case "$1" in
+ shift
+ MYSQL_ROOT_PW=4bdef4f446d34469d273
+ shift
+ '[' 4 -gt 0 ']'
+ case "$1" in
+ shift
+ APP=keystone
+ shift
+ '[' 2 -gt 0 ']'
+ case "$1" in
+ shift
+ MYSQL_HOST_IP=192.168.123.100
+ shift
+ '[' 0 -gt 0 ']'
+ '[' '!' drop ']'
+ '[' '!' keystone ']'
+ case "$APP" in
+ MYSQL_APP_PW_DEFAULT=keystone
+ : 9178410ea75208991a3e
+ '[' keystone = glance ']'
+ APP_CONFIG=/etc/keystone/keystone.conf
+ NEW_MYSQL_INSTALL=0
+ rpm -q --whatprovides mariadb-server
+ service_running mariadb
+ test 1
+ systemctl status mariadb.service
+ '[' 0 -eq 1 ']'
+ '[' '!' defined ']'
+ MYSQL_ROOT_PW_ARG=
+ echo 'SELECT 1;'
+ mysql -uroot -p4bdef4f446d34469d273 -h192.168.123.100
+ echo 'Verified connectivity to MySQL.'
Verified connectivity to MySQL.
+ '[' drop = init ']'
+ '[' drop = init ']'
+ echo 'Dropping '\''keystone'\'' database.'
Dropping 'keystone' database.
+ mysql -uroot -p4bdef4f446d34469d273 -h192.168.123.100
++ mysql -uroot -p4bdef4f446d34469d273 -h192.168.123.100
++ sed -n 's/\(keystone\)[\t ]*\(.*\)/DROP USER '\''\1'\''@'\''\2'\'';/p'
++ echo 'SELECT User,Host FROM mysql.user WHERE User = '\''keystone'\'';'
+ drop_users='DROP USER '\''keystone'\''@'\''%'\'';
DROP USER '\''keystone'\''@'\''localhost'\'';'
+ cat
+ '[' drop = init ']'
+ echo 'Complete!'
Complete!
+ set +o xtrace
+ /usr/local/bin/tools/script/openstack-db --init --yes --password 9178410ea75208991a3e --rootpw 4bdef4f446d34469d273 --service keystone --host 192.168.123.100
+ systemctl --version
+ systemctl=1
+ '[' 10 -gt 0 ']'
+ case "$1" in
+ MODE=init
+ shift
+ '[' 9 -gt 0 ']'
+ case "$1" in
+ ASSUME_YES=yes
+ shift
+ '[' 8 -gt 0 ']'
+ case "$1" in
+ shift
+ MYSQL_APP_PW=9178410ea75208991a3e
+ shift
+ '[' 6 -gt 0 ']'
+ case "$1" in
+ shift
+ MYSQL_ROOT_PW=4bdef4f446d34469d273
+ shift
+ '[' 4 -gt 0 ']'
+ case "$1" in
+ shift
+ APP=keystone
+ shift
+ '[' 2 -gt 0 ']'
+ case "$1" in
+ shift
+ MYSQL_HOST_IP=192.168.123.100
+ shift
+ '[' 0 -gt 0 ']'
+ '[' '!' init ']'
+ '[' '!' keystone ']'
+ case "$APP" in
+ MYSQL_APP_PW_DEFAULT=keystone
+ : 9178410ea75208991a3e
+ '[' keystone = glance ']'
+ APP_CONFIG=/etc/keystone/keystone.conf
+ NEW_MYSQL_INSTALL=0
+ rpm -q --whatprovides mariadb-server
+ service_running mariadb
+ test 1
+ systemctl status mariadb.service
+ '[' 0 -eq 1 ']'
+ '[' '!' defined ']'
+ MYSQL_ROOT_PW_ARG=
+ echo 'SELECT 1;'
+ mysql -uroot -p4bdef4f446d34469d273 -h192.168.123.100
+ echo 'Verified connectivity to MySQL.'
Verified connectivity to MySQL.
+ '[' init = init ']'
++ mysql -uroot -p4bdef4f446d34469d273 -h192.168.123.100
++ tail -n+2
++ echo 'SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME='\''keystone'\'';'
+ dbs=0
+ '[' 0 '!=' 0 ']'
++ mysql -uroot -p4bdef4f446d34469d273 -h192.168.123.100
++ tail -n+2
++ echo 'SELECT COUNT(*) FROM mysql.user WHERE User = '\''keystone'\'';'
+ users=0
+ '[' 0 '!=' 0 ']'
+ '[' init = init ']'
+ echo 'Creating '\''keystone'\'' database.'
Creating 'keystone' database.
+ cat
+ mysql -uroot -p4bdef4f446d34469d273 -h192.168.123.100
+ '[' init = init ']'
+ '[' 9178410ea75208991a3e '!=' keystone ']'
+ echo 'Updating '\''keystone'\'' database password in /etc/keystone/keystone.conf'
Updating 'keystone' database password in /etc/keystone/keystone.conf
+ sed -i -e 's|^#* *\(\(sql_\)*connection *= *mysql://keystone\):.*@|\1:9178410ea75208991a3e@|' /etc/keystone/keystone.conf
+ echo 'Initializing the keystone database, please wait...'
Initializing the keystone database, please wait...
+ '[' keystone = nova ']'
+ '[' keystone = cinder ']'
+ db_sync=db_sync
+ runuser -s /bin/sh keystone -c 'keystone-manage db_sync'
+ echo 'SELECT * FROM migrate_version;'
+ mysql -u keystone --password=9178410ea75208991a3e keystone
+ echo 'Complete!'
Complete!
+ set +o xtrace
+ file=/etc/keystone/keystone.conf
+ sed -i 's,# admin_token = .*,admin_token = 4c6e4d205a80939e0e69,g' /etc/keystone/keystone.conf
+ sed -i 's,connection = .*,connection = mysql://keystone:9178410ea75208991a3e@192.168.123.100/keystone,g' /etc/keystone/keystone.conf
+ sed -i 's,#token_format =.*,token_format = UUID,g' /etc/keystone/keystone.conf
+ keystone-manage --config-file /etc/keystone/keystone.conf db_sync
+ service openstack-keystone restart
Redirecting to /bin/systemctl restart  openstack-keystone.service
+ chkconfig openstack-keystone on
Note: Forwarding request to 'systemctl enable openstack-keystone.service'.
+ sleep 5
+ grep keystone
+ ps aux
keystone  9739 23.8  5.8 353828 59104 ?        Ss   17:43   0:01 /usr/bin/python /usr/bin/keystone-all
keystone  9748  0.0  5.2 353828 53724 ?        S    17:43   0:00 /usr/bin/python /usr/bin/keystone-all
keystone  9749  0.0  5.2 353828 53720 ?        S    17:43   0:00 /usr/bin/python /usr/bin/keystone-all
keystone  9750  0.0  5.2 353828 53728 ?        S    17:43   0:00 /usr/bin/python /usr/bin/keystone-all
keystone  9751  0.0  5.2 353828 53728 ?        S    17:43   0:00 /usr/bin/python /usr/bin/keystone-all
root      9764  0.0  0.0 112640   952 pts/1    S+   17:43   0:00 grep keystone
+ sleep 5
+ echo http://192.168.123.100:35357/v2.0
http://192.168.123.100:35357/v2.0
+ timeout 5 sh -c 'while ! curl -s http://192.168.123.100:35357/v2.0/ >/dev/null; do sleep 1; done'
+ cp -rf /usr/local/bin/tools/script/keystone_data.sh /tmp/
+ sed -i s,%KEYSTONE_HOST%,192.168.123.100,g /tmp/keystone_data.sh
+ sed -i s,%SERVICE_TOKEN%,4c6e4d205a80939e0e69,g /tmp/keystone_data.sh
+ sed -i s,%ADMIN_PASSWORD%,638404a913cb18d6543d,g /tmp/keystone_data.sh
+ sed -i s,%SERVICE_TENANT_NAME%,service,g /tmp/keystone_data.sh
+ sed -i s,%KEYSTONE_CATALOG_BACKEND%,sql,g /tmp/keystone_data.sh
+ sed -i s,%SERVICE_ENDPOINT%,http://192.168.123.100:35357/v2.0,g /tmp/keystone_data.sh
+ sed -i s,%AGENT_PASSWORD%,a0d9eca47d38df291271,g /tmp/keystone_data.sh
+ chmod +x /tmp/keystone_data.sh
+ /tmp/keystone_data.sh
+ export OS_USERNAME=
+ OS_USERNAME=
+ export OS_AUTH_KEY=
+ OS_AUTH_KEY=
+ export OS_AUTH_TENANT=
+ OS_AUTH_TENANT=
+ export OS_STRATEGY=
+ OS_STRATEGY=
+ export OS_AUTH_STRATEGY=
+ OS_AUTH_STRATEGY=
+ export OS_AUTH_URL=
+ OS_AUTH_URL=
+ export SERVICE_ENDPOINT=
+ SERVICE_ENDPOINT=
+ export SERVICE_TOKEN=4c6e4d205a80939e0e69
+ SERVICE_TOKEN=4c6e4d205a80939e0e69
+ export ADMIN_PASSWORD=638404a913cb18d6543d
+ ADMIN_PASSWORD=638404a913cb18d6543d
+ export SERVICE_TENANT_NAME=service
+ SERVICE_TENANT_NAME=service
+ export KEYSTONE_HOST=192.168.123.100
+ KEYSTONE_HOST=192.168.123.100
+ export SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
+ SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
+ export KEYSTONE_CATALOG_BACKEND=sql
+ KEYSTONE_CATALOG_BACKEND=sql
+ export AGENT_PASSWORD=a0d9eca47d38df291271
+ AGENT_PASSWORD=a0d9eca47d38df291271
+ keyrc=/root/keyrc
++ get_id keystone tenant-create --name=admin
+++ keystone tenant-create --name=admin
+++ awk '/ id / { print $4 }'
++ echo 65e2f23c29e9474b8ef8e22df9c2da58
+ ADMIN_TENANT=65e2f23c29e9474b8ef8e22df9c2da58
+ echo 'export ADMIN_TENANT=65e2f23c29e9474b8ef8e22df9c2da58'
++ get_id keystone tenant-create --name=service
+++ keystone tenant-create --name=service
+++ awk '/ id / { print $4 }'
++ echo 8b8f36e762a749f9abe6869a61f65369
+ SERVICE_TENANT=8b8f36e762a749f9abe6869a61f65369
+ echo 'export SERVICE_TENANT=8b8f36e762a749f9abe6869a61f65369'
++ get_id keystone tenant-create --name=demo
+++ awk '/ id / { print $4 }'
+++ keystone tenant-create --name=demo
++ echo 7f55322a803745adaf3c36cd10bb9130
+ DEMO_TENANT=7f55322a803745adaf3c36cd10bb9130
+ echo 'export DEMO_TENANT=7f55322a803745adaf3c36cd10bb9130'
++ get_id keystone tenant-create --name=agent
+++ awk '/ id / { print $4 }'
+++ keystone tenant-create --name=agent
++ echo 891d5f7f7fe64882955cb9c3feb3fcba
+ AGENT_TENANT=891d5f7f7fe64882955cb9c3feb3fcba
+ echo 'export AGENT_TENANT=891d5f7f7fe64882955cb9c3feb3fcba'
++ get_id keystone tenant-create --name=invisible_to_admin
+++ keystone tenant-create --name=invisible_to_admin
+++ awk '/ id / { print $4 }'
++ echo d6ba96b1584745fb88192dded594fe6c
+ INVIS_TENANT=d6ba96b1584745fb88192dded594fe6c
++ get_id keystone user-create --name=admin --pass=638404a913cb18d6543d --email=admin@intel.com
+++ keystone user-create --name=admin --pass=638404a913cb18d6543d --email=admin@intel.com
+++ awk '/ id / { print $4 }'
++ echo 43ad35f976e040a9ab3b4aaeb8ccf5b0
+ ADMIN_USER=43ad35f976e040a9ab3b4aaeb8ccf5b0
++ get_id keystone user-create --name=demo --pass=638404a913cb18d6543d --email=demo@intel.com
+++ awk '/ id / { print $4 }'
+++ keystone user-create --name=demo --pass=638404a913cb18d6543d --email=demo@intel.com
++ echo 7193c99f49624fdeacbfb028b1c528c7
+ DEMO_USER=7193c99f49624fdeacbfb028b1c528c7
++ get_id keystone user-create --name=agent --pass=a0d9eca47d38df291271 --email=agent@intel.com
+++ awk '/ id / { print $4 }'
+++ keystone user-create --name=agent --pass=a0d9eca47d38df291271 --email=agent@intel.com
++ echo cce0be831e624457832680081d6a0ec6
+ AGENT_USER=cce0be831e624457832680081d6a0ec6
++ get_id keystone role-create --name=admin
+++ awk '/ id / { print $4 }'
+++ keystone role-create --name=admin
++ echo 6f55a73c854d480e83518bd7c3dbae70
+ ADMIN_ROLE=6f55a73c854d480e83518bd7c3dbae70
+ echo 'export ADMIN_ROLE=6f55a73c854d480e83518bd7c3dbae70'
++ get_id keystone role-create --name=agent
+++ keystone role-create --name=agent
+++ awk '/ id / { print $4 }'
++ echo 8225bfa9769c4c84a4c2d9eba3615624
+ AGENT_ROLE=8225bfa9769c4c84a4c2d9eba3615624
+ echo 'export AGENT_ROLE=8225bfa9769c4c84a4c2d9eba3615624'
++ get_id keystone role-create --name=KeystoneAdmin
+++ keystone role-create --name=KeystoneAdmin
+++ awk '/ id / { print $4 }'
++ echo 2f71caeaf946467e802153c97c3ce07f
+ KEYSTONEADMIN_ROLE=2f71caeaf946467e802153c97c3ce07f
+ echo 'export KEYSTONEADMIN_ROLE=2f71caeaf946467e802153c97c3ce07f'
++ get_id keystone role-create --name=KeystoneServiceAdmin
+++ awk '/ id / { print $4 }'
+++ keystone role-create --name=KeystoneServiceAdmin
++ echo 3aeff427f88b4cb3ab03eb0de3559c4e
+ KEYSTONESERVICE_ROLE=3aeff427f88b4cb3ab03eb0de3559c4e
++ get_id keystone role-create --name=anotherrole
+++ keystone role-create --name=anotherrole
+++ awk '/ id / { print $4 }'
++ echo df6ce0459459445c9a3a0d28e126eef4
+ ANOTHER_ROLE=df6ce0459459445c9a3a0d28e126eef4
+ keystone user-role-add --user_id 43ad35f976e040a9ab3b4aaeb8ccf5b0 --role_id 6f55a73c854d480e83518bd7c3dbae70 --tenant_id 65e2f23c29e9474b8ef8e22df9c2da58
+ keystone user-role-add --user_id 43ad35f976e040a9ab3b4aaeb8ccf5b0 --role_id 6f55a73c854d480e83518bd7c3dbae70 --tenant_id 7f55322a803745adaf3c36cd10bb9130
+ keystone user-role-add --user_id 7193c99f49624fdeacbfb028b1c528c7 --role_id df6ce0459459445c9a3a0d28e126eef4 --tenant_id 7f55322a803745adaf3c36cd10bb9130
+ keystone user-role-add --user_id cce0be831e624457832680081d6a0ec6 --role_id 8225bfa9769c4c84a4c2d9eba3615624 --tenant_id 891d5f7f7fe64882955cb9c3feb3fcba
+ keystone user-role-add --user_id 43ad35f976e040a9ab3b4aaeb8ccf5b0 --role_id 2f71caeaf946467e802153c97c3ce07f --tenant_id 65e2f23c29e9474b8ef8e22df9c2da58
+ keystone user-role-add --user_id 43ad35f976e040a9ab3b4aaeb8ccf5b0 --role_id 3aeff427f88b4cb3ab03eb0de3559c4e --tenant_id 65e2f23c29e9474b8ef8e22df9c2da58
++ get_id keystone role-create --name=Member
+++ keystone role-create --name=Member
+++ awk '/ id / { print $4 }'
++ echo 28588a727304464cbc73175753ff9492
+ MEMBER_ROLE=28588a727304464cbc73175753ff9492
+ keystone user-role-add --user_id 7193c99f49624fdeacbfb028b1c528c7 --role_id 28588a727304464cbc73175753ff9492 --tenant_id 7f55322a803745adaf3c36cd10bb9130
+ keystone user-role-add --user_id 7193c99f49624fdeacbfb028b1c528c7 --role_id 28588a727304464cbc73175753ff9492 --tenant_id d6ba96b1584745fb88192dded594fe6c
++ get_id keystone service-create --name=keystone --type=identity '--description=Keystone Identity Service'
+++ awk '/ id / { print $4 }'
+++ keystone service-create --name=keystone --type=identity '--description=Keystone Identity Service'
++ echo 4afb2eefc3a24f09910ecf217f0609da
+ KEYSTONE_SERVICE=4afb2eefc3a24f09910ecf217f0609da
+ keystone endpoint-create --region RegionOne --service_id 4afb2eefc3a24f09910ecf217f0609da --publicurl 'http://192.168.123.100:$(public_port)s/v2.0' --adminurl 'http://192.168.123.100:$(admin_port)s/v2.0' --internalurl 'http://192.168.123.100:$(admin_port)s/v2.0'
+-------------+---------------------------------------------+
|   Property  |                    Value                    |
+-------------+---------------------------------------------+
|   adminurl  |  http://192.168.123.100:$(admin_port)s/v2.0 |
|      id     |       ec52d2e19a174dcdb1f9f3f2daafa22a      |
| internalurl |  http://192.168.123.100:$(admin_port)s/v2.0 |
|  publicurl  | http://192.168.123.100:$(public_port)s/v2.0 |
|    region   |                  RegionOne                  |
|  service_id |       4afb2eefc3a24f09910ecf217f0609da      |
+-------------+---------------------------------------------+
+ set +o xtrace
+ python -mjson.tool
+ curl -d '{"auth": {"tenantName": "admin", "passwordCredentials":{"username": "admin", "password": "638404a913cb18d6543d"}}}' -H 'Content-type: application/json' http://192.168.123.100:35357/v2.0/tokens
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  1072  100   958  100   114   3434    408 --:--:-- --:--:-- --:--:--  3446
{
    "access": {
        "metadata": {
            "is_admin": 0,
            "roles": [
                "6f55a73c854d480e83518bd7c3dbae70",
                "3aeff427f88b4cb3ab03eb0de3559c4e",
                "2f71caeaf946467e802153c97c3ce07f"
            ]
        },
        "serviceCatalog": [
            {
                "endpoints": [
                    {
                        "adminURL": "http://192.168.123.100:35357/v2.0",
                        "id": "bb8a684102c54be3b3a3ab42a8cc8a70",
                        "internalURL": "http://192.168.123.100:35357/v2.0",
                        "publicURL": "http://192.168.123.100:5000/v2.0",
                        "region": "RegionOne"
                    }
                ],
                "endpoints_links": [],
                "name": "keystone",
                "type": "identity"
            }
        ],
        "token": {
            "audit_ids": [
                "_rZMPD0yTL-ncCzng6FAqA"
            ],
            "expires": "2015-11-05T16:44:06Z",
            "id": "4ba3e88b77f14539aee4f6c2bcfb8b33",
            "issued_at": "2015-11-05T15:44:06.208694",
            "tenant": {
                "description": null,
                "enabled": true,
                "id": "65e2f23c29e9474b8ef8e22df9c2da58",
                "name": "admin"
            }
        },
        "user": {
            "id": "43ad35f976e040a9ab3b4aaeb8ccf5b0",
            "name": "admin",
            "roles": [
                {
                    "name": "admin"
                },
                {
                    "name": "KeystoneServiceAdmin"
                },
                {
                    "name": "KeystoneAdmin"
                }
            ],
            "roles_links": [],
            "username": "admin"
        }
    }
}
++ python -c 'import sys; import json; tok = json.loads(sys.stdin.read()); print tok['\''access'\'']['\''token'\'']['\''id'\''];'
++ curl -s -d '{"auth":{"passwordCredentials": {"username": "admin", "password": "638404a913cb18d6543d"}, "tenantName": "admin"}}' -H 'Content-type: application/json' http://192.168.123.100:35357/v2.0/tokens
+ TOKEN=3901f87c6a14452fa10c6257d7e57975
+ echo 3901f87c6a14452fa10c6257d7e57975
3901f87c6a14452fa10c6257d7e57975
+ cat
+ VSM_HOST=192.168.123.100
+ MYSQL_VSM_USER=vsm
+ MYSQL_VSM_PASSWORD=d1daebe97c7580e2a091
+ KEYSTONE_VSM_SERVICE_PASSWORD=90d438b695923decaf8a
+ setup_vsm
++ is_service_enabled 192.168.123.100
++ set +o xtrace
+ [[ 1 -gt 0 ]]
+ BASE_SQL_CONN=mysql://vsm:d1daebe97c7580e2a091@192.168.123.100
+ unset OS_USERNAME
+ unset OS_AUTH_KEY
+ unset OS_AUTH_TENANT
+ unset OS_STRATEGY
+ unset OS_AUTH_STRATEGY
+ unset OS_AUTH_URL
+ unset SERVICE_TOKEN
+ unset SERVICE_ENDPOINT
+ unset http_proxy
+ unset https_proxy
+ unset ftp_proxy
+ KEYSTONE_AUTH_HOST=192.168.123.100
+ KEYSTONE_AUTH_PORT=35357
+ KEYSTONE_AUTH_PROTOCOL=http
+ KEYSTONE_SERVICE_HOST=192.168.123.100
+ KEYSTONE_SERVICE_PORT=5000
+ KEYSTONE_SERVICE_PROTOCOL=http
+ SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
+ for n in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ -e /etc/init.d/vsm-api ]]
+ service vsm-api stop
Stopping vsm-api (via systemctl):                          [  OK  ]
+ for n in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ -e /etc/init.d/vsm-conductor ]]
+ service vsm-conductor stop
Stopping vsm-conductor (via systemctl):                    [  OK  ]
+ for n in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ -e /etc/init.d/vsm-scheduler ]]
+ service vsm-scheduler stop
Stopping vsm-scheduler (via systemctl):                    [  OK  ]
+ [[ -d /etc/vsm ]]
+ rm -rf /etc/vsm/api-paste.ini /etc/vsm/cache-tier.conf /etc/vsm/ceph.conf.template /etc/vsm/ceph.conf.template.rpmsave /etc/vsm/cluster.manifest /etc/vsm/logging.conf /etc/vsm/logging_sample.conf /etc/vsm/policy.json /etc/vsm/prepools /etc/vsm/rootwrap.conf /etc/vsm/rootwrap.conf.rpmsave /etc/vsm/rootwrap.d /etc/vsm/server.manifest /etc/vsm/vsm.conf /etc/vsm/vsm.conf.rpmsave /etc/vsm/vsm.conf.sample
+ mkdir -p /etc/vsm
+ cp -rf /usr/local/bin/tools/etc/vsm/api-paste.ini /usr/local/bin/tools/etc/vsm/cache-tier.conf /usr/local/bin/tools/etc/vsm/ceph.conf.template /usr/local/bin/tools/etc/vsm/cluster.manifest /usr/local/bin/tools/etc/vsm/logging_sample.conf /usr/local/bin/tools/etc/vsm/policy.json /usr/local/bin/tools/etc/vsm/prepools /usr/local/bin/tools/etc/vsm/rootwrap.conf /usr/local/bin/tools/etc/vsm/rootwrap.d /usr/local/bin/tools/etc/vsm/server.manifest /usr/local/bin/tools/etc/vsm/vsm.conf.sample /etc/vsm/
+ mysql_cmd 'DROP DATABASE IF EXISTS vsm;'
+ set +o xtrace
+ export SERVICE_TOKEN=4c6e4d205a80939e0e69
+ SERVICE_TOKEN=4c6e4d205a80939e0e69
+ export SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
+ SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
+ get_tenant SERVICE_TENANT service
+ set +o xtrace
4c6e4d205a80939e0e69
+ get_role ADMIN_ROLE admin
+ set +o xtrace
++ grep vsm
++ wc -l
++ keystone user-list
+ [[ 0 -eq 0 ]]
++ get_id keystone user-create --name=vsm --pass=90d438b695923decaf8a --tenant_id 8b8f36e762a749f9abe6869a61f65369 --email=vsm@example.com
++ export SERVICE_TOKEN=4c6e4d205a80939e0e69
++ SERVICE_TOKEN=4c6e4d205a80939e0e69
++ export SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
++ SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
+++ awk '/ id / { print $4 }'
+++ keystone user-create --name=vsm --pass=90d438b695923decaf8a --tenant_id 8b8f36e762a749f9abe6869a61f65369 --email=vsm@example.com
++ echo 0373ef8984ff40de8b0bf9c05c763f12
+ VSM_USER=0373ef8984ff40de8b0bf9c05c763f12
+ keystone user-role-add --tenant_id 8b8f36e762a749f9abe6869a61f65369 --user_id 0373ef8984ff40de8b0bf9c05c763f12 --role_id 6f55a73c854d480e83518bd7c3dbae70
++ get_id keystone service-create --name=vsm --type=vsm '--description=VSM Service'
++ export SERVICE_TOKEN=4c6e4d205a80939e0e69
++ SERVICE_TOKEN=4c6e4d205a80939e0e69
++ export SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
++ SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
+++ keystone service-create --name=vsm --type=vsm '--description=VSM Service'
+++ awk '/ id / { print $4 }'
++ echo 5ab854a07e1a4ab0b6946fc3affef576
+ VSM_SERVICE=5ab854a07e1a4ab0b6946fc3affef576
+ keystone endpoint-create --region RegionOne --service_id 5ab854a07e1a4ab0b6946fc3affef576 --publicurl 'http://192.168.123.100:8778/v1/$(tenant_id)s' --adminurl 'http://192.168.123.100:8778/v1/$(tenant_id)s' --internalurl 'http://192.168.123.100:8778/v1/$(tenant_id)s'
+-------------+----------------------------------------------+
|   Property  |                    Value                     |
+-------------+----------------------------------------------+
|   adminurl  | http://192.168.123.100:8778/v1/$(tenant_id)s |
|      id     |       91f19a8010bf458683eda146d01148e3       |
| internalurl | http://192.168.123.100:8778/v1/$(tenant_id)s |
|  publicurl  | http://192.168.123.100:8778/v1/$(tenant_id)s |
|    region   |                  RegionOne                   |
|  service_id |       5ab854a07e1a4ab0b6946fc3affef576       |
+-------------+----------------------------------------------+
+ unset SERVICE_TOKEN
+ unset SERVICE_ENDPOINT
++ mysql_cmd 'select * from mysql.user;'
++ set +o xtrace
++ grep -w vsm
++ wc -l
+ cnt=1
+ [[ 1 -eq 0 ]]
++ grep -w vsm
++ wc -l
++ mysql_cmd 'show databases;'
++ set +o xtrace
+ cnt=0
+ [[ 0 -eq 0 ]]
+ mysql_cmd 'create database vsm CHARACTER SET utf8;'
+ set +o xtrace
+ mysql_cmd 'grant all privileges on vsm.* to '\''vsm'\''@'\''%'\'' identified by '\''d1daebe97c7580e2a091'\'';'
+ set +o xtrace
+ mysql_cmd 'grant all privileges on vsm.* to '\''root'\''@'\''%'\'' identified by '\''4bdef4f446d34469d273'\'';'
+ set +o xtrace
+ mysql_cmd 'flush privileges;'
+ set +o xtrace
+ [[ -d /etc/vsm ]]
+ rm -rf /etc/vsm/api-paste.ini /etc/vsm/cache-tier.conf /etc/vsm/ceph.conf.template /etc/vsm/cluster.manifest /etc/vsm/logging_sample.conf /etc/vsm/policy.json /etc/vsm/prepools /etc/vsm/rootwrap.conf /etc/vsm/rootwrap.d /etc/vsm/server.manifest /etc/vsm/vsm.conf.sample
+ mkdir -p /etc/vsm
+ cp -rf /usr/local/bin/tools/etc/vsm/api-paste.ini /usr/local/bin/tools/etc/vsm/cache-tier.conf /usr/local/bin/tools/etc/vsm/ceph.conf.template /usr/local/bin/tools/etc/vsm/cluster.manifest /usr/local/bin/tools/etc/vsm/logging_sample.conf /usr/local/bin/tools/etc/vsm/policy.json /usr/local/bin/tools/etc/vsm/prepools /usr/local/bin/tools/etc/vsm/rootwrap.conf /usr/local/bin/tools/etc/vsm/rootwrap.d /usr/local/bin/tools/etc/vsm/server.manifest /usr/local/bin/tools/etc/vsm/vsm.conf.sample /etc/vsm/
+ cp -rf /etc/vsm/vsm.conf.sample /etc/vsm/vsm.conf
+ file=/etc/vsm/rootwrap.conf
+ sed -i 's,filters_path=.*,filters_path=/etc/vsm/rootwrap.d,g' /etc/vsm/rootwrap.conf
+ file=/etc/vsm/vsm.conf
+ sed -i s,%RABBITMQ_PASSWORD%,4f464a36cfe791ecde59,g /etc/vsm/vsm.conf
+ sed -i s,%RABBITMQ_HOST%,192.168.123.100,g /etc/vsm/vsm.conf
+ sed -i s,%RABBITMQ_PORT%,5673,g /etc/vsm/vsm.conf
+ sed -i s,%MYSQL_VSM_USER%,vsm,g /etc/vsm/vsm.conf
+ sed -i s,%MYSQL_VSM_PASSWORD%,d1daebe97c7580e2a091,g /etc/vsm/vsm.conf
+ sed -i s,%MYSQL_HOST%,192.168.123.100,g /etc/vsm/vsm.conf
+ sed -i s,%KEYSTONE_HOST%,192.168.123.100,g /etc/vsm/vsm.conf
+ sed -i s,%KEYSTONE_VSM_SERVICE_PASSWORD%,90d438b695923decaf8a,g /etc/vsm/vsm.conf
+ mkdir -p /opt/stack/data/vsm
+ chmod a+w -R /opt/stack/data/vsm
+ vsm-manage db sync
2015-11-05 17:44:12     INFO [migrate.versioning.api] 0 -> 1...
2015-11-05 17:44:12     INFO [migrate.versioning.api] done
2015-11-05 17:44:12     INFO [migrate.versioning.api] 1 -> 2...
2015-11-05 17:44:12     INFO [migrate.versioning.api] done
2015-11-05 17:44:12     INFO [migrate.versioning.api] 2 -> 3...
2015-11-05 17:44:12     INFO [migrate.versioning.api] done
2015-11-05 17:44:12     INFO [migrate.versioning.api] 3 -> 4...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 4 -> 5...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 5 -> 6...
/usr/lib64/python2.7/site-packages/sqlalchemy/engine/default.py:436: Warning: Converting column 'ceph_conf' from VARCHAR to TEXT
  cursor.execute(statement, parameters)
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 6 -> 7...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 7 -> 8...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 8 -> 9...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 9 -> 10...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 10 -> 11...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 11 -> 12...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 12 -> 13...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 13 -> 14...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 14 -> 15...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 15 -> 16...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 16 -> 17...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 17 -> 18...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 18 -> 19...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 19 -> 20...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 20 -> 21...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 21 -> 22...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 22 -> 23...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 23 -> 24...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 24 -> 25...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 25 -> 26...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 26 -> 27...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 27 -> 28...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 28 -> 29...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 29 -> 30...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 30 -> 31...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 31 -> 32...
2015-11-05 17:44:13     INFO [migrate.versioning.api] done
2015-11-05 17:44:13     INFO [migrate.versioning.api] 32 -> 33...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 33 -> 34...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 34 -> 35...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 35 -> 36...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 36 -> 37...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 37 -> 38...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 38 -> 39...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 39 -> 40...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 40 -> 41...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 41 -> 42...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 42 -> 43...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 43 -> 44...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
2015-11-05 17:44:14     INFO [migrate.versioning.api] 44 -> 45...
2015-11-05 17:44:14     INFO [migrate.versioning.api] done
+ rm -rf '/tmp/pip*'
+ rm -rf /tmp/tmp.thNv2junz5 /tmp/tmp.tTsTD6plW0 /tmp/tmp.TyAFs1MxZa
+ echo vsm-api,vsm-conductor,vsm-scheduler
vsm-api,vsm-conductor,vsm-scheduler
+ for n in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ -e /etc/init.d/vsm-api ]]
+ service vsm-api restart
Restarting vsm-api (via systemctl):                        [  OK  ]
+ chkconfig vsm-api on
+ for n in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ -e /etc/init.d/vsm-conductor ]]
+ service vsm-conductor restart
Restarting vsm-conductor (via systemctl):                  [  OK  ]
+ chkconfig vsm-conductor on
+ for n in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ -e /etc/init.d/vsm-scheduler ]]
+ service vsm-scheduler restart
Restarting vsm-scheduler (via systemctl):                  [  OK  ]
+ chkconfig vsm-scheduler on
++ ls /etc/init.d
++ grep vsm
+ for n in '`ls /etc/init.d | grep vsm`'
+ cnt=0
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-api == vsm-agent ]]
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-conductor == vsm-agent ]]
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-scheduler == vsm-agent ]]
+ for n in '`ls /etc/init.d | grep vsm`'
+ cnt=0
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-api == vsm-api ]]
+ let cnt=cnt+1
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-conductor == vsm-api ]]
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-scheduler == vsm-api ]]
+ for n in '`ls /etc/init.d | grep vsm`'
+ cnt=0
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-api == vsm-conductor ]]
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-conductor == vsm-conductor ]]
+ let cnt=cnt+1
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-scheduler == vsm-conductor ]]
+ for n in '`ls /etc/init.d | grep vsm`'
+ cnt=0
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-api == vsm-physical ]]
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-conductor == vsm-physical ]]
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-scheduler == vsm-physical ]]
+ for n in '`ls /etc/init.d | grep vsm`'
+ cnt=0
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-api == vsm-scheduler ]]
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-conductor == vsm-scheduler ]]
+ for x in '${VSM_RUNNING_SERVICE//,/ }'
+ [[ vsm-scheduler == vsm-scheduler ]]
+ let cnt=cnt+1
++ find /etc/vsm/prepools -name '*'
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/LICENSE ]]
++ wc -l
++ head -1 /etc/vsm/prepools/LICENSE
++ grep bash
+ cnt=0
+ [[ 0 -gt 0 ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/files ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/files/cinder ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/files/cinder/ceph.conf ]]
++ head -1 /etc/vsm/prepools/files/cinder/ceph.conf
++ grep bash
++ wc -l
+ cnt=0
+ [[ 0 -gt 0 ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/files/cinder/cinder.keyring ]]
++ wc -l
++ grep bash
++ head -1 /etc/vsm/prepools/files/cinder/cinder.keyring
+ cnt=0
+ [[ 0 -gt 0 ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/files/glance ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/files/glance/ceph.conf ]]
++ wc -l
++ grep bash
++ head -1 /etc/vsm/prepools/files/glance/ceph.conf
+ cnt=0
+ [[ 0 -gt 0 ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/files/glance/glance.keyring ]]
++ head -1 /etc/vsm/prepools/files/glance/glance.keyring
++ wc -l
++ grep bash
+ cnt=0
+ [[ 0 -gt 0 ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/files/nova ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/files/nova/ceph.conf ]]
++ head -1 /etc/vsm/prepools/files/nova/ceph.conf
++ wc -l
++ grep bash
+ cnt=0
+ [[ 0 -gt 0 ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/files/nova/nova.keyring ]]
++ head -1 /etc/vsm/prepools/files/nova/nova.keyring
++ grep bash
++ wc -l
+ cnt=0
+ [[ 0 -gt 0 ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib/ceph.conf ]]
++ wc -l
++ head -1 /etc/vsm/prepools/lib/ceph.conf
++ grep bash
+ cnt=0
+ [[ 0 -gt 0 ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib/cinder ]]
++ wc -l
++ head -1 /etc/vsm/prepools/lib/cinder
++ grep bash
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/lib/cinder
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib/config-cinder ]]
++ head -1 /etc/vsm/prepools/lib/config-cinder
++ grep bash
++ wc -l
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/lib/config-cinder
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib/config-nova ]]
++ wc -l
++ head -1 /etc/vsm/prepools/lib/config-nova
++ grep bash
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/lib/config-nova
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib/glance ]]
++ grep bash
++ wc -l
++ head -1 /etc/vsm/prepools/lib/glance
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/lib/glance
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib/libvirt ]]
++ grep bash
++ wc -l
++ head -1 /etc/vsm/prepools/lib/libvirt
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/lib/libvirt
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib/nova ]]
++ head -1 /etc/vsm/prepools/lib/nova
++ grep bash
++ wc -l
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/lib/nova
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib/package ]]
++ wc -l
++ head -1 /etc/vsm/prepools/lib/package
++ grep bash
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/lib/package
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib/service ]]
++ grep bash
++ wc -l
++ head -1 /etc/vsm/prepools/lib/service
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/lib/service
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/lib/update ]]
++ wc -l
++ head -1 /etc/vsm/prepools/lib/update
++ grep bash
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/lib/update
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/localrc ]]
++ wc -l
++ head -1 /etc/vsm/prepools/localrc
++ grep bash
+ cnt=0
+ [[ 0 -gt 0 ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/main ]]
++ wc -l
++ head -1 /etc/vsm/prepools/main
++ grep bash
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/main
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/server ]]
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/server/ceph ]]
++ wc -l
++ head -1 /etc/vsm/prepools/server/ceph
++ grep bash
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/server/ceph
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/server/cinder ]]
++ wc -l
++ head -1 /etc/vsm/prepools/server/cinder
++ grep bash
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/server/cinder
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/server/glance ]]
++ head -1 /etc/vsm/prepools/server/glance
++ grep bash
++ wc -l
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/server/glance
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/server/monitor ]]
++ head -1 /etc/vsm/prepools/server/monitor
++ grep bash
++ wc -l
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/server/monitor
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/server/nova ]]
++ wc -l
++ head -1 /etc/vsm/prepools/server/nova
++ grep bash
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/server/nova
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/server/presentpool-cinder ]]
++ wc -l
++ head -1 /etc/vsm/prepools/server/presentpool-cinder
++ grep bash
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/server/presentpool-cinder
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/server/presentpool-nova ]]
++ head -1 /etc/vsm/prepools/server/presentpool-nova
++ grep bash
++ wc -l
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/server/presentpool-nova
+ for n in '`find /etc/vsm/prepools -name "*"`'
+ [[ ! -d /etc/vsm/prepools/server/tarfile ]]
++ head -1 /etc/vsm/prepools/server/tarfile
++ grep bash
++ wc -l
+ cnt=1
+ [[ 1 -gt 0 ]]
+ chmod +x /etc/vsm/prepools/server/tarfile
+ echo 'After setup vsm.'
After setup vsm.
+ DASHBOARD_HOST=192.168.123.100
+ MYSQL_DASHBOARD_USER=dashboard
+ MYSQL_DASHBOARD_PASSWORD=83e3104f2066577cc328
+ echo 'Begin to set up vsm dashboard.'
Begin to set up vsm dashboard.
+ setup_vsmdash
++ is_service_enabled 192.168.123.100
++ set +o xtrace
+ [[ 1 -gt 0 ]]
+ echo ''
+ BASE_SQL_CONN=mysql://dashboard:83e3104f2066577cc328@192.168.123.100
+ unset OS_USERNAME
+ unset OS_AUTH_KEY
+ unset OS_AUTH_TENANT
+ unset OS_STRATEGY
+ unset OS_AUTH_STRATEGY
+ unset OS_AUTH_URL
+ unset SERVICE_TOKEN
+ unset SERVICE_ENDPOINT
+ unset https_proxy
+ unset http_proxy
+ unset ftp_proxy
+ KEYSTONE_AUTH_HOST=192.168.123.100
+ KEYSTONE_AUTH_PORT=35357
+ KEYSTONE_AUTH_PROTOCOL=http
+ KEYSTONE_SERVICE_HOST=192.168.123.100
+ KEYSTONE_SERVICE_PORT=5000
+ KEYSTONE_SERVICE_PROTOCOL=http
+ SERVICE_ENDPOINT=http://192.168.123.100:35357/v2.0
+ HORIZON_DIR=/usr/share/openstack-dashboard
+ mysql_cmd 'DROP DATABASE IF EXISTS dashboard;'
+ set +o xtrace
++ wc -l
++ mysql_cmd 'select * from mysql.user;'
++ set +o xtrace
++ grep dashboard
+ cnt=1
+ [[ 1 -eq 0 ]]
++ wc -l
++ mysql_cmd 'show databases;'
++ set +o xtrace
++ grep dashboard
+ cnt=0
+ [[ 0 -eq 0 ]]
+ mysql_cmd 'create database dashboard CHARACTER SET utf8;'
+ set +o xtrace
+ mysql_cmd 'grant all privileges on dashboard.* to '\''dashboard'\''@'\''%'\'' identified by '\''83e3104f2066577cc328'\'';'
+ set +o xtrace
+ mysql_cmd 'GRANT ALL PRIVILEGES ON *.* TO '\''root'\''@'\''%'\'' identified by '\''4bdef4f446d34469d273'\''; FLUSH PRIVILEGES;'
+ set +o xtrace
+ mysql_cmd 'GRANT ALL PRIVILEGES ON *.* TO '\''root'\''@'\''%'\'' identified by '\''4bdef4f446d34469d273'\''  WITH GRANT OPTION; FLUSH PRIVILEGES;'
+ set +o xtrace
+ mysql_cmd 'flush privileges;'
+ set +o xtrace
+ file=/usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py
+ [[ -e /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py ]]
+ rm -rf /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py
+ cp -rf /usr/local/bin/tools/etc/vsm-dashboard/local_settings.template /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py
+ rm -rf /etc/vsm-dashboard/local_settings
+ ln -s /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py /etc/vsm-dashboard/local_settings
+ sed -i s,%MYSQL_VSM_DASHBOARD_DATABASE%,dashboard,g /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py
+ sed -i s,%MYSQL_VSM_DASHBOARD_USER_NAME%,dashboard,g /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py
+ sed -i s,%MYSQL_VSM_DASHBOARD_PASSWORD%,83e3104f2066577cc328,g /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py
+ sed -i s,%MYSQL_HOST%,192.168.123.100,g /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py
+ sed -i 's,OPENSTACK_HOST =.*,OPENSTACK_HOST = "%KEYSTONE_HOST%",g' /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py
+ sed -i s,%KEYSTONE_HOST%,192.168.123.100,g /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py
+ sed -i s,%KEYSTONE_VSM_SERVICE_PASSWORD%,90d438b695923decaf8a,g /usr/share/vsm-dashboard/vsm_dashboard/local/local_settings.py
+ cd /usr/share/vsm-dashboard/
+ python manage.py syncdb --noinput
Warning: The "vsm" dashboard name is deprecated. Please update your HORIZON_CONFIG["dashboards"] setting to use the new "vsm" dashboard name.
Creating tables ...
Creating table django_content_type
Creating table auth_permission
Creating table auth_group_permissions
Creating table auth_group
Creating table auth_user_groups
Creating table auth_user_user_permissions
Creating table auth_user
Creating table django_session
Installing custom SQL ...
Installing indexes ...
Installed 0 object(s) from 0 fixture(s)
+ cd /usr/local/bin
+ service httpd restart
Redirecting to /bin/systemctl restart  httpd.service
+ chkconfig httpd on
Note: Forwarding request to 'systemctl enable httpd.service'.
ln -s '/usr/lib/systemd/system/httpd.service' '/etc/systemd/system/multi-user.target.wants/httpd.service'
+ rm -rf '/tmp/pip*'
+ rm -rf '/tmp/tmp*'
+ VSM_HTTPS_PASSWORD=d8bc641984ebd4ec6c18
+ source /usr/local/bin/keys/https
+ setup_https
++ pwd
+ old_dir=/usr/local/bin
++ hostname
+ host_name=vsm-controller
+ sed -i s,%HOSTNAME%,vsm-controller,g /usr/local/bin/keys/exp_csr
+ _generate_keys
+ mkdir -p /tmp/__keys
+ for n in exp_key exp_sec exp_csr exp_crt
+ cp -rf /usr/local/bin/keys/exp_key /tmp/__keys
+ chmod 755 /tmp/__keys/exp_key
+ for n in exp_key exp_sec exp_csr exp_crt
+ cp -rf /usr/local/bin/keys/exp_sec /tmp/__keys
+ chmod 755 /tmp/__keys/exp_sec
+ for n in exp_key exp_sec exp_csr exp_crt
+ cp -rf /usr/local/bin/keys/exp_csr /tmp/__keys
+ chmod 755 /tmp/__keys/exp_csr
+ for n in exp_key exp_sec exp_csr exp_crt
+ cp -rf /usr/local/bin/keys/exp_crt /tmp/__keys
+ chmod 755 /tmp/__keys/exp_crt
+ mkdir -p /tmp/__keys
+ cd /tmp/__keys/
++ ls
+ for n in '`ls`'
+ sed -i s,%PASSWORD%,d8bc641984ebd4ec6c18,g exp_crt
+ for n in '`ls`'
+ sed -i s,%PASSWORD%,d8bc641984ebd4ec6c18,g exp_csr
+ for n in '`ls`'
+ sed -i s,%PASSWORD%,d8bc641984ebd4ec6c18,g exp_key
+ for n in '`ls`'
+ sed -i s,%PASSWORD%,d8bc641984ebd4ec6c18,g exp_sec
+ ./exp_key
spawn openssl genrsa -des3 -out server.key 1024
Generating RSA private key, 1024 bit long modulus
..........................++++++
..............++++++
e is 65537 (0x10001)
Enter pass phrase for server.key:
Verifying - Enter pass phrase for server.key:
+ cp -rf server.key server.key.secure
+ ./exp_sec
spawn openssl rsa -in server.key.secure -out server.key
Enter pass phrase for server.key.secure:
writing RSA key
+ ./exp_csr
spawn openssl req -new -key server.key -out server.csr
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [XX]:CC
State or Province Name (full name) []:some
Locality Name (eg, city) [Default City]:ceph
Organization Name (eg, company) [Default Company Ltd]:opensource
Organizational Unit Name (eg, section) []:storage
Common Name (eg, your name or your server's hostname) []:vsm-controller
Email Address []:ceph@storage.com

Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:d8bc641984ebd4ec6c18
An optional company name []:cephsystem
+ openssl x509 -req -days 7000 -in server.csr -signkey server.key -out server.crt
Signature ok
subject=/C=CC/ST=some/L=ceph/O=opensource/OU=storage/CN=vsm-controller/emailAddress=ceph@storage.com
Getting Private key
+ mkdir -p /etc/httpd/conf.d/keys/
+ rm -rf /etc/httpd/conf.d/keys/exp_crt /etc/httpd/conf.d/keys/exp_csr /etc/httpd/conf.d/keys/exp_key /etc/httpd/conf.d/keys/exp_sec /etc/httpd/conf.d/keys/server.crt /etc/httpd/conf.d/keys/server.csr /etc/httpd/conf.d/keys/server.key /etc/httpd/conf.d/keys/server.key.secure
+ cp -rf exp_crt exp_csr exp_key exp_sec server.crt server.csr server.key server.key.secure /etc/httpd/conf.d/keys/
+ sed -i 's,SSLCertificateFile /etc/pki/tls/certs/localhost.crt,SSLCertificateFile /etc/httpd/conf.d/keys/server.crt,g' /etc/httpd/conf.d/ssl.conf
+ sed -i 's,SSLCertificateKeyFile /etc/pki/tls/private/localhost.key,SSLCertificateKeyFile /etc/httpd/conf.d/keys/server.key,g' /etc/httpd/conf.d/ssl.conf
+ sed -i 's,Listen 80,#Listen 80,g' /etc/httpd/conf/httpd.conf
+ sed -i 's,Require all denied,#Require all denied,g' /etc/httpd/conf/httpd.conf
+ service httpd restart
Redirecting to /bin/systemctl restart  httpd.service
+ rm -rf /tmp/__keys
+ cd /usr/local/bin
+ sed -i /exit/d /etc/rc.local
+ sed -i '/service vsm-api restart/d' /etc/rc.local
+ sed -i '/service vsm-scheduler restart/d' /etc/rc.local
+ sed -i '/service vsm-conductor restart/d' /etc/rc.local
+ sed -i '/service httpd restart/d' /etc/rc.local
+ sed -i '/service rabbitmq-server restart/d' /etc/rc.local
+ sed -i '/service mariadb restart/d' /etc/rc.local
+ echo 'service mariadb restart'
+ echo 'service rabbitmq-server restart'
+ echo 'service vsm-api restart'
+ echo 'service vsm-scheduler restart'
+ echo 'service vsm-conductor restart'
+ echo 'service httpd restart'
+ echo 'exit 0'
+ set +o xtrace
+ sudo -E mkdir -p /tmp/vsm-dep-repo
+ cd /var/cache/yum/x86_64/7
++ ls
+ for i in '`ls`'
+ [[ -d base/packages ]]
++ wc -l
++ ls base/packages
+ [[ 85 -gt 0 ]]
+ sudo -E cp base/packages/apr-1.4.8-3.el7.x86_64.rpm base/packages/apr-util-1.5.2-6.el7.x86_64.rpm base/packages/apr-util-ldap-1.5.2-6.el7.x86_64.rpm base/packages/at-3.1.13-17.el7_0.1.x86_64.rpm base/packages/atlas-3.10.1-7.el7.x86_64.rpm base/packages/autogen-libopts-5.18-5.el7.x86_64.rpm base/packages/bc-1.06.95-13.el7.x86_64.rpm base/packages/blas-3.4.2-4.el7.x86_64.rpm base/packages/boost-system-1.53.0-23.el7.x86_64.rpm base/packages/boost-thread-1.53.0-23.el7.x86_64.rpm base/packages/ceph-common-0.80.7-2.el7.x86_64.rpm base/packages/cryptsetup-1.6.6-3.el7.x86_64.rpm base/packages/cryptsetup-libs-1.6.6-3.el7.x86_64.rpm base/packages/e2fsprogs-1.42.9-7.el7.x86_64.rpm base/packages/e2fsprogs-libs-1.42.9-7.el7.x86_64.rpm base/packages/ed-1.9-4.el7.x86_64.rpm base/packages/fuse-libs-2.9.2-5.el7.x86_64.rpm base/packages/gdisk-0.8.6-5.el7.x86_64.rpm base/packages/hdparm-9.43-5.el7.x86_64.rpm base/packages/keyutils-libs-devel-1.5.8-3.el7.x86_64.rpm base/packages/lapack-3.4.2-4.el7.x86_64.rpm base/packages/libaio-0.3.109-12.el7.x86_64.rpm base/packages/libcom_err-1.42.9-7.el7.x86_64.rpm base/packages/libcom_err-devel-1.42.9-7.el7.x86_64.rpm base/packages/libevent-2.0.21-4.el7.x86_64.rpm base/packages/libgfortran-4.8.3-9.el7.x86_64.rpm base/packages/libicu-50.1.2-11.el7.x86_64.rpm base/packages/libquadmath-4.8.3-9.el7.x86_64.rpm base/packages/librados2-0.80.7-2.el7.x86_64.rpm base/packages/librados2-devel-0.80.7-2.el7.x86_64.rpm base/packages/librbd1-0.80.7-2.el7.x86_64.rpm base/packages/librbd1-devel-0.80.7-2.el7.x86_64.rpm base/packages/libselinux-devel-2.2.2-6.el7.x86_64.rpm base/packages/libsepol-devel-2.1.9-3.el7.x86_64.rpm base/packages/libss-1.42.9-7.el7.x86_64.rpm base/packages/libverto-devel-0.2.5-4.el7.x86_64.rpm base/packages/libxslt-1.1.28-5.el7.x86_64.rpm base/packages/libyaml-0.1.4-11.el7_0.x86_64.rpm base/packages/lksctp-tools-1.0.13-3.el7.x86_64.rpm base/packages/m4-1.4.16-9.el7.x86_64.rpm base/packages/mailcap-2.1.41-2.el7.noarch.rpm base/packages/mailx-12.5-12.el7_0.x86_64.rpm base/packages/memcached-1.4.15-9.el7.x86_64.rpm base/packages/mod_wsgi-3.4-12.el7_0.x86_64.rpm base/packages/MySQL-python-1.2.3-11.el7.x86_64.rpm base/packages/numpy-1.7.1-10.el7.x86_64.rpm base/packages/pcre-8.32-14.el7.x86_64.rpm base/packages/pcre-devel-8.32-14.el7.x86_64.rpm base/packages/perl-Compress-Raw-Bzip2-2.061-3.el7.x86_64.rpm base/packages/perl-Compress-Raw-Zlib-2.061-4.el7.x86_64.rpm base/packages/perl-Data-Dumper-2.145-3.el7.x86_64.rpm base/packages/perl-DBD-MySQL-4.023-5.el7.x86_64.rpm base/packages/perl-DBI-1.627-4.el7.x86_64.rpm base/packages/perl-IO-Compress-2.061-2.el7.noarch.rpm base/packages/perl-Net-Daemon-0.48-5.el7.noarch.rpm base/packages/perl-PlRPC-0.2020-14.el7.noarch.rpm base/packages/psmisc-22.20-8.el7.x86_64.rpm base/packages/pyOpenSSL-0.13.1-3.el7.x86_64.rpm base/packages/PyPAM-0.5.0-19.el7.x86_64.rpm base/packages/pyparsing-1.5.6-9.el7.noarch.rpm base/packages/python-babel-0.9.6-8.el7.noarch.rpm base/packages/python-beaker-1.5.4-10.el7.noarch.rpm base/packages/python-jinja2-2.7.2-2.el7.noarch.rpm base/packages/python-ldap-2.4.15-2.el7.x86_64.rpm base/packages/python-lxml-3.2.1-4.el7.x86_64.rpm base/packages/python-mako-0.8.1-2.el7.noarch.rpm base/packages/python-markupsafe-0.11-10.el7.x86_64.rpm base/packages/python-memcached-1.48-4.el7.noarch.rpm base/packages/python-netaddr-0.7.5-7.el7.noarch.rpm base/packages/python-nose-1.3.0-2.el7.noarch.rpm base/packages/python-paste-1.7.5.1-9.20111221hg1498.el7.noarch.rpm base/packages/python-rados-0.80.7-2.el7.x86_64.rpm base/packages/python-rbd-0.80.7-2.el7.x86_64.rpm base/packages/python-suds-0.4.1-5.el7.noarch.rpm base/packages/python-tempita-0.5.1-6.el7.noarch.rpm base/packages/python-webob-1.2.3-6.el7.noarch.rpm base/packages/pytz-2012d-5.el7.noarch.rpm base/packages/PyYAML-3.10-11.el7.x86_64.rpm base/packages/redhat-lsb-core-4.1-27.el7.centos.1.x86_64.rpm base/packages/redhat-lsb-submod-security-4.1-27.el7.centos.1.x86_64.rpm base/packages/smartmontools-6.2-4.el7.x86_64.rpm base/packages/spax-1.5.2-11.el7.x86_64.rpm base/packages/tcl-8.5.13-4.el7.x86_64.rpm base/packages/time-1.7-45.el7.x86_64.rpm base/packages/zlib-devel-1.2.7-13.el7.x86_64.rpm /tmp/vsm-dep-repo
+ for i in '`ls`'
+ [[ -d epel/packages ]]
++ ls epel/packages
++ wc -l
+ [[ 69 -gt 0 ]]
+ sudo -E cp epel/packages/ceph-0.80.7-0.6.el7.x86_64.rpm epel/packages/crudini-0.7-1.el7.noarch.rpm epel/packages/erlang-asn1-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-compiler-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-crypto-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-erts-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-hipe-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-inets-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-kernel-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-mnesia-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-os_mon-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-otp_mibs-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-public_key-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-runtime_tools-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-sasl-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-sd_notify-0.1-1.el7.x86_64.rpm epel/packages/erlang-snmp-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-ssl-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-stdlib-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-syntax_tools-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-tools-R16B-03.11.el7.x86_64.rpm epel/packages/erlang-xmerl-R16B-03.11.el7.x86_64.rpm epel/packages/gperftools-libs-2.4-5.el7.x86_64.rpm epel/packages/leveldb-1.12.0-5.el7.x86_64.rpm epel/packages/libcephfs1-0.80.7-0.6.el7.x86_64.rpm epel/packages/libunwind-1.1-10.el7.x86_64.rpm epel/packages/python-alembic-0.7.4-2.el7.noarch.rpm epel/packages/python-amqp-1.4.5-1.el7.noarch.rpm epel/packages/python-amqplib-1.0.2-7.el7.noarch.rpm epel/packages/python-anyjson-0.3.3-3.el7.noarch.rpm epel/packages/python-cephfs-0.80.7-0.6.el7.x86_64.rpm epel/packages/python-cliff-1.4.4-1.el7.noarch.rpm epel/packages/python-cmd2-0.6.4-7.el7.noarch.rpm epel/packages/python-django-1.6.11-3.el7.noarch.rpm epel/packages/python-django-appconf-0.6-1.el7.noarch.rpm epel/packages/python-django-bash-completion-1.6.11-3.el7.noarch.rpm epel/packages/python-django-compressor-1.3-1.el7.noarch.rpm epel/packages/python-dogpile-cache-0.5.5-1.el7.noarch.rpm epel/packages/python-dogpile-core-0.4.1-2.el7.noarch.rpm epel/packages/python-eventlet-0.15.2-1.el7.noarch.rpm epel/packages/python-httplib2-0.7.7-3.el7.noarch.rpm epel/packages/python-iso8601-0.1.10-1.el7.noarch.rpm epel/packages/python-jsonschema-2.3.0-1.el7.noarch.rpm epel/packages/python-keyring-5.0-1.el7.noarch.rpm epel/packages/python-kombu-2.5.16-1.el7.noarch.rpm epel/packages/python-lockfile-0.9.1-4.el7.noarch.rpm epel/packages/python-migrate-0.9.2-2.el7.noarch.rpm epel/packages/python-oauthlib-0.6.0-2.el7.noarch.rpm epel/packages/python-ordereddict-1.1-6.el7.noarch.rpm epel/packages/python-paramiko-1.15.1-1.el7.noarch.rpm epel/packages/python-passlib-1.6.2-2.el7.noarch.rpm epel/packages/python-paste-deploy-1.5.0-10.el7.noarch.rpm epel/packages/python-pbr-0.10.0-1.el7.noarch.rpm epel/packages/python-pip-7.1.0-1.el7.noarch.rpm epel/packages/python-posix_ipc-0.9.8-1.el7.x86_64.rpm epel/packages/python-psutil-1.2.1-1.el7.x86_64.rpm epel/packages/python-qpid-0.32-9.el7.noarch.rpm epel/packages/python-qpid-common-0.32-9.el7.noarch.rpm epel/packages/python-repoze-lru-0.4-3.el7.noarch.rpm epel/packages/python-routes-1.13-2.el7.noarch.rpm epel/packages/python-saslwrapper-0.16-5.el7.x86_64.rpm epel/packages/python-simplejson-3.3.3-1.el7.x86_64.rpm epel/packages/python-sqlparse-0.1.11-2.el7.noarch.rpm epel/packages/python-stevedore-0.14-1.el7.noarch.rpm epel/packages/python-versiontools-1.9.1-4.el7.noarch.rpm epel/packages/python-warlock-1.0.1-1.el7.noarch.rpm epel/packages/rabbitmq-server-3.3.5-6.el7.noarch.rpm epel/packages/rbd-fuse-0.80.7-0.6.el7.x86_64.rpm epel/packages/saslwrapper-0.16-5.el7.x86_64.rpm /tmp/vsm-dep-repo
+ for i in '`ls`'
+ [[ -d extras/packages ]]
++ ls extras/packages
++ wc -l
+ [[ 10 -gt 0 ]]
+ sudo -E cp extras/packages/python-crypto-2.6.1-1.el7.centos.x86_64.rpm extras/packages/python-ecdsa-0.11-3.el7.centos.noarch.rpm extras/packages/python-flask-0.10.1-4.el7.noarch.rpm extras/packages/python-greenlet-0.4.2-3.el7.x86_64.rpm extras/packages/python-itsdangerous-0.23-2.el7.noarch.rpm extras/packages/python-jsonpatch-1.2-3.el7.centos.noarch.rpm extras/packages/python-jsonpointer-1.0-2.el7.centos.noarch.rpm extras/packages/python-prettytable-0.7.2-2.el7.centos.noarch.rpm extras/packages/python-sqlalchemy-0.9.8-1.el7.x86_64.rpm extras/packages/python-werkzeug-0.9.1-2.el7.noarch.rpm /tmp/vsm-dep-repo
+ for i in '`ls`'
+ [[ -d timedhosts/packages ]]
+ for i in '`ls`'
+ [[ -d timedhosts.txt/packages ]]
+ for i in '`ls`'
+ [[ -d updates/packages ]]
++ wc -l
++ ls updates/packages
+ [[ 26 -gt 0 ]]
+ sudo -E cp updates/packages/cups-client-1.6.3-17.el7_1.1.x86_64.rpm updates/packages/cups-libs-1.6.3-17.el7_1.1.x86_64.rpm updates/packages/expect-5.45-14.el7_1.x86_64.rpm updates/packages/httpd-2.4.6-31.el7.centos.1.x86_64.rpm updates/packages/httpd-tools-2.4.6-31.el7.centos.1.x86_64.rpm updates/packages/krb5-devel-1.12.2-15.el7_1.x86_64.rpm updates/packages/krb5-libs-1.12.2-15.el7_1.x86_64.rpm updates/packages/mariadb-5.5.44-1.el7_1.x86_64.rpm updates/packages/mariadb-devel-5.5.44-1.el7_1.x86_64.rpm updates/packages/mariadb-libs-5.5.44-1.el7_1.x86_64.rpm updates/packages/mariadb-server-5.5.44-1.el7_1.x86_64.rpm updates/packages/mod_ssl-2.4.6-31.el7.centos.1.x86_64.rpm updates/packages/ntp-4.2.6p5-19.el7.centos.3.x86_64.rpm updates/packages/ntpdate-4.2.6p5-19.el7.centos.3.x86_64.rpm updates/packages/openssh-6.6.1p1-12.el7_1.x86_64.rpm updates/packages/openssh-clients-6.6.1p1-12.el7_1.x86_64.rpm updates/packages/openssh-server-6.6.1p1-12.el7_1.x86_64.rpm updates/packages/openssl-1.0.1e-42.el7.9.x86_64.rpm updates/packages/openssl-devel-1.0.1e-42.el7.9.x86_64.rpm updates/packages/openssl-libs-1.0.1e-42.el7.9.x86_64.rpm updates/packages/python-2.7.5-18.el7_1.1.x86_64.rpm updates/packages/python-chardet-2.2.1-1.el7_1.noarch.rpm updates/packages/python-devel-2.7.5-18.el7_1.1.x86_64.rpm updates/packages/python-libs-2.7.5-18.el7_1.1.x86_64.rpm updates/packages/python-requests-2.6.0-1.el7_1.noarch.rpm updates/packages/python-urllib3-1.10.2-2.el7_1.noarch.rpm /tmp/vsm-dep-repo
+ for i in '`ls`'
+ [[ -d vsmdeprepo/packages ]]
++ ls vsmdeprepo/packages
++ wc -l
+ [[ 0 -gt 0 ]]
+ for i in '`ls`'
+ [[ -d vsmrepo/packages ]]
++ wc -l
++ ls vsmrepo/packages
+ [[ 0 -gt 0 ]]
+ cd /tmp/vsm-dep-repo
+ cp apr-1.4.8-3.el7.x86_64.rpm apr-util-1.5.2-6.el7.x86_64.rpm apr-util-ldap-1.5.2-6.el7.x86_64.rpm at-3.1.13-17.el7_0.1.x86_64.rpm atlas-3.10.1-7.el7.x86_64.rpm autogen-libopts-5.18-5.el7.x86_64.rpm bc-1.06.95-13.el7.x86_64.rpm blas-3.4.2-4.el7.x86_64.rpm boost-system-1.53.0-23.el7.x86_64.rpm boost-thread-1.53.0-23.el7.x86_64.rpm ceph-0.80.7-0.6.el7.x86_64.rpm ceph-common-0.80.7-2.el7.x86_64.rpm crudini-0.7-1.el7.noarch.rpm cryptsetup-1.6.6-3.el7.x86_64.rpm cryptsetup-libs-1.6.6-3.el7.x86_64.rpm cups-client-1.6.3-17.el7_1.1.x86_64.rpm cups-libs-1.6.3-17.el7_1.1.x86_64.rpm e2fsprogs-1.42.9-7.el7.x86_64.rpm e2fsprogs-libs-1.42.9-7.el7.x86_64.rpm ed-1.9-4.el7.x86_64.rpm erlang-asn1-R16B-03.11.el7.x86_64.rpm erlang-compiler-R16B-03.11.el7.x86_64.rpm erlang-crypto-R16B-03.11.el7.x86_64.rpm erlang-erts-R16B-03.11.el7.x86_64.rpm erlang-hipe-R16B-03.11.el7.x86_64.rpm erlang-inets-R16B-03.11.el7.x86_64.rpm erlang-kernel-R16B-03.11.el7.x86_64.rpm erlang-mnesia-R16B-03.11.el7.x86_64.rpm erlang-os_mon-R16B-03.11.el7.x86_64.rpm erlang-otp_mibs-R16B-03.11.el7.x86_64.rpm erlang-public_key-R16B-03.11.el7.x86_64.rpm erlang-runtime_tools-R16B-03.11.el7.x86_64.rpm erlang-sasl-R16B-03.11.el7.x86_64.rpm erlang-sd_notify-0.1-1.el7.x86_64.rpm erlang-snmp-R16B-03.11.el7.x86_64.rpm erlang-ssl-R16B-03.11.el7.x86_64.rpm erlang-stdlib-R16B-03.11.el7.x86_64.rpm erlang-syntax_tools-R16B-03.11.el7.x86_64.rpm erlang-tools-R16B-03.11.el7.x86_64.rpm erlang-xmerl-R16B-03.11.el7.x86_64.rpm expect-5.45-14.el7_1.x86_64.rpm fuse-libs-2.9.2-5.el7.x86_64.rpm gdisk-0.8.6-5.el7.x86_64.rpm gperftools-libs-2.4-5.el7.x86_64.rpm hdparm-9.43-5.el7.x86_64.rpm httpd-2.4.6-31.el7.centos.1.x86_64.rpm httpd-tools-2.4.6-31.el7.centos.1.x86_64.rpm keyutils-libs-devel-1.5.8-3.el7.x86_64.rpm krb5-devel-1.12.2-15.el7_1.x86_64.rpm krb5-libs-1.12.2-15.el7_1.x86_64.rpm lapack-3.4.2-4.el7.x86_64.rpm leveldb-1.12.0-5.el7.x86_64.rpm libaio-0.3.109-12.el7.x86_64.rpm libcephfs1-0.80.7-0.6.el7.x86_64.rpm libcom_err-1.42.9-7.el7.x86_64.rpm libcom_err-devel-1.42.9-7.el7.x86_64.rpm libevent-2.0.21-4.el7.x86_64.rpm libgfortran-4.8.3-9.el7.x86_64.rpm libicu-50.1.2-11.el7.x86_64.rpm libquadmath-4.8.3-9.el7.x86_64.rpm librados2-0.80.7-2.el7.x86_64.rpm librados2-devel-0.80.7-2.el7.x86_64.rpm librbd1-0.80.7-2.el7.x86_64.rpm librbd1-devel-0.80.7-2.el7.x86_64.rpm libselinux-devel-2.2.2-6.el7.x86_64.rpm libsepol-devel-2.1.9-3.el7.x86_64.rpm libss-1.42.9-7.el7.x86_64.rpm libunwind-1.1-10.el7.x86_64.rpm libverto-devel-0.2.5-4.el7.x86_64.rpm libxslt-1.1.28-5.el7.x86_64.rpm libyaml-0.1.4-11.el7_0.x86_64.rpm lksctp-tools-1.0.13-3.el7.x86_64.rpm m4-1.4.16-9.el7.x86_64.rpm mailcap-2.1.41-2.el7.noarch.rpm mailx-12.5-12.el7_0.x86_64.rpm mariadb-5.5.44-1.el7_1.x86_64.rpm mariadb-devel-5.5.44-1.el7_1.x86_64.rpm mariadb-libs-5.5.44-1.el7_1.x86_64.rpm mariadb-server-5.5.44-1.el7_1.x86_64.rpm memcached-1.4.15-9.el7.x86_64.rpm mod_ssl-2.4.6-31.el7.centos.1.x86_64.rpm mod_wsgi-3.4-12.el7_0.x86_64.rpm MySQL-python-1.2.3-11.el7.x86_64.rpm ntp-4.2.6p5-19.el7.centos.3.x86_64.rpm ntpdate-4.2.6p5-19.el7.centos.3.x86_64.rpm numpy-1.7.1-10.el7.x86_64.rpm openssh-6.6.1p1-12.el7_1.x86_64.rpm openssh-clients-6.6.1p1-12.el7_1.x86_64.rpm openssh-server-6.6.1p1-12.el7_1.x86_64.rpm openssl-1.0.1e-42.el7.9.x86_64.rpm openssl-devel-1.0.1e-42.el7.9.x86_64.rpm openssl-libs-1.0.1e-42.el7.9.x86_64.rpm pcre-8.32-14.el7.x86_64.rpm pcre-devel-8.32-14.el7.x86_64.rpm perl-Compress-Raw-Bzip2-2.061-3.el7.x86_64.rpm perl-Compress-Raw-Zlib-2.061-4.el7.x86_64.rpm perl-Data-Dumper-2.145-3.el7.x86_64.rpm perl-DBD-MySQL-4.023-5.el7.x86_64.rpm perl-DBI-1.627-4.el7.x86_64.rpm perl-IO-Compress-2.061-2.el7.noarch.rpm perl-Net-Daemon-0.48-5.el7.noarch.rpm perl-PlRPC-0.2020-14.el7.noarch.rpm psmisc-22.20-8.el7.x86_64.rpm pyOpenSSL-0.13.1-3.el7.x86_64.rpm PyPAM-0.5.0-19.el7.x86_64.rpm pyparsing-1.5.6-9.el7.noarch.rpm python-2.7.5-18.el7_1.1.x86_64.rpm python-alembic-0.7.4-2.el7.noarch.rpm python-amqp-1.4.5-1.el7.noarch.rpm python-amqplib-1.0.2-7.el7.noarch.rpm python-anyjson-0.3.3-3.el7.noarch.rpm python-babel-0.9.6-8.el7.noarch.rpm python-beaker-1.5.4-10.el7.noarch.rpm python-cephfs-0.80.7-0.6.el7.x86_64.rpm python-chardet-2.2.1-1.el7_1.noarch.rpm python-cliff-1.4.4-1.el7.noarch.rpm python-cmd2-0.6.4-7.el7.noarch.rpm python-crypto-2.6.1-1.el7.centos.x86_64.rpm python-devel-2.7.5-18.el7_1.1.x86_64.rpm python-django-1.6.11-3.el7.noarch.rpm python-django-appconf-0.6-1.el7.noarch.rpm python-django-bash-completion-1.6.11-3.el7.noarch.rpm python-django-compressor-1.3-1.el7.noarch.rpm python-dogpile-cache-0.5.5-1.el7.noarch.rpm python-dogpile-core-0.4.1-2.el7.noarch.rpm python-ecdsa-0.11-3.el7.centos.noarch.rpm python-eventlet-0.15.2-1.el7.noarch.rpm python-flask-0.10.1-4.el7.noarch.rpm python-greenlet-0.4.2-3.el7.x86_64.rpm python-httplib2-0.7.7-3.el7.noarch.rpm python-iso8601-0.1.10-1.el7.noarch.rpm python-itsdangerous-0.23-2.el7.noarch.rpm python-jinja2-2.7.2-2.el7.noarch.rpm python-jsonpatch-1.2-3.el7.centos.noarch.rpm python-jsonpointer-1.0-2.el7.centos.noarch.rpm python-jsonschema-2.3.0-1.el7.noarch.rpm python-keyring-5.0-1.el7.noarch.rpm python-kombu-2.5.16-1.el7.noarch.rpm python-ldap-2.4.15-2.el7.x86_64.rpm python-libs-2.7.5-18.el7_1.1.x86_64.rpm python-lockfile-0.9.1-4.el7.noarch.rpm python-lxml-3.2.1-4.el7.x86_64.rpm python-mako-0.8.1-2.el7.noarch.rpm python-markupsafe-0.11-10.el7.x86_64.rpm python-memcached-1.48-4.el7.noarch.rpm python-migrate-0.9.2-2.el7.noarch.rpm python-netaddr-0.7.5-7.el7.noarch.rpm python-nose-1.3.0-2.el7.noarch.rpm python-oauthlib-0.6.0-2.el7.noarch.rpm python-ordereddict-1.1-6.el7.noarch.rpm python-paramiko-1.15.1-1.el7.noarch.rpm python-passlib-1.6.2-2.el7.noarch.rpm python-paste-1.7.5.1-9.20111221hg1498.el7.noarch.rpm python-paste-deploy-1.5.0-10.el7.noarch.rpm python-pbr-0.10.0-1.el7.noarch.rpm python-pip-7.1.0-1.el7.noarch.rpm python-posix_ipc-0.9.8-1.el7.x86_64.rpm python-prettytable-0.7.2-2.el7.centos.noarch.rpm python-psutil-1.2.1-1.el7.x86_64.rpm python-qpid-0.32-9.el7.noarch.rpm python-qpid-common-0.32-9.el7.noarch.rpm python-rados-0.80.7-2.el7.x86_64.rpm python-rbd-0.80.7-2.el7.x86_64.rpm python-repoze-lru-0.4-3.el7.noarch.rpm python-requests-2.6.0-1.el7_1.noarch.rpm python-routes-1.13-2.el7.noarch.rpm python-saslwrapper-0.16-5.el7.x86_64.rpm python-simplejson-3.3.3-1.el7.x86_64.rpm python-sqlalchemy-0.9.8-1.el7.x86_64.rpm python-sqlparse-0.1.11-2.el7.noarch.rpm python-stevedore-0.14-1.el7.noarch.rpm python-suds-0.4.1-5.el7.noarch.rpm python-tempita-0.5.1-6.el7.noarch.rpm python-urllib3-1.10.2-2.el7_1.noarch.rpm python-versiontools-1.9.1-4.el7.noarch.rpm python-warlock-1.0.1-1.el7.noarch.rpm python-webob-1.2.3-6.el7.noarch.rpm python-werkzeug-0.9.1-2.el7.noarch.rpm pytz-2012d-5.el7.noarch.rpm PyYAML-3.10-11.el7.x86_64.rpm rabbitmq-server-3.3.5-6.el7.noarch.rpm rbd-fuse-0.80.7-0.6.el7.x86_64.rpm redhat-lsb-core-4.1-27.el7.centos.1.x86_64.rpm redhat-lsb-submod-security-4.1-27.el7.centos.1.x86_64.rpm saslwrapper-0.16-5.el7.x86_64.rpm smartmontools-6.2-4.el7.x86_64.rpm spax-1.5.2-11.el7.x86_64.rpm tcl-8.5.13-4.el7.x86_64.rpm time-1.7-45.el7.x86_64.rpm zlib-devel-1.2.7-13.el7.x86_64.rpm /home/cephuser/2.0.0-216/vsm-dep-repo/vsm-dep-repo
+ cd /home/cephuser/2.0.0-216/vsm-dep-repo
+ sudo -E createrepo vsm-dep-repo
Spawning worker 0 with 209 pkgs
Workers Finished
Saving Primary metadata
Saving file lists metadata
Saving other metadata
Generating sqlite DBs
Sqlite DBs complete
+ cd /home/cephuser/2.0.0-216
+ generate_token
++ ssh -t cephuser@192.168.123.100 'unset http_proxy; agent-token    '
++ tr -d '\r'
Warning: Permanently added '192.168.123.100' (ECDSA) to the list of known hosts.
cephuser@192.168.123.100's password:
Connection to 192.168.123.100 closed.
+ TOKEN=e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba
+ echo -n e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba
+ for ip_or_hostname in '$AGENT_ADDRESS_LIST'
+ install_agent 192.168.123.101
++ ls /etc/yum.repos.d
++ wc -l
+ ssh -t cephuser@192.168.123.101 'cd /etc/yum.repos.d; if [[ 10 -gt 0 ]]; then sudo -E mkdir -p /tmp/backup; sudo -E mv * /tmp/backup; fi'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ check_manifest 192.168.123.101
+ [[ 192.168.123.101 == 192.168.123.100 ]]
+ [[ ! -d manifest/192.168.123.101 ]]
+ [[ ! -f manifest/192.168.123.101/server.manifest ]]
+ set_remote_repo 192.168.123.101
+ ssh -t cephuser@192.168.123.101 'sudo -E rm -rf /etc/yum.repos.d/vsm.repo /etc/yum.repos.d/vsm-dep.repo;         sudo -E rm -rf /opt/vsm-dep-repo /opt/vsmrepo'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ scp -r vsm-dep-repo/vsm-dep-repo cephuser@192.168.123.101:/tmp
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
apr-util-ldap-1.5.2-6.el7.x86_64.rpm                                                                                                                         100%   19KB  18.5KB/s   00:00
diamond-4-0.noarch.rpm                                                                                                                                       100%  403KB 403.5KB/s   00:00
openstack-keystone-2014.2.1-1.el7.centos.noarch.rpm                                                                                                          100%   43KB  43.3KB/s   00:00
openstack-utils-2014.2-1.el7.centos.noarch.rpm                                                                                                               100%   21KB  21.2KB/s   00:00
python-alembic-0.6.5-3.el7.centos.noarch.rpm                                                                                                                 100%  342KB 341.7KB/s   00:00
python-cinderclient-1.1.1-1.el7.centos.noarch.rpm                                                                                                            100%  170KB 169.6KB/s   00:00
python-django-horizon-2014.2.1-1.el7.centos.noarch.rpm                                                                                                       100%  405KB 404.8KB/s   00:00
python-django-openstack-auth-1.1.7-1.el7.centos.noarch.rpm                                                                                                   100%   47KB  46.5KB/s   00:00
python-flask-0.10.1-4.el7.noarch.rpm                                                                                                                         100%  204KB 203.9KB/s   00:00
python-greenlet-0.4.2-3.el7.x86_64.rpm                                                                                                                       100%   26KB  26.3KB/s   00:00
python-itsdangerous-0.23-2.el7.noarch.rpm                                                                                                                    100%   24KB  23.5KB/s   00:00
python-jinja2-2.7.2-2.el7.noarch.rpm                                                                                                                         100%  515KB 515.5KB/s   00:00
python-keystone-2014.2.1-1.el7.centos.noarch.rpm                                                                                                             100%  755KB 754.6KB/s   00:00
python-keystoneclient-0.11.1-1.el7.centos.noarch.rpm                                                                                                         100%  540KB 540.3KB/s   00:00
python-keystonemiddleware-1.2.0-1.el7.centos.noarch.rpm                                                                                                      100%   84KB  83.8KB/s   00:00
python-ldappool-1.0-4.el7.centos.noarch.rpm                                                                                                                  100%   18KB  18.0KB/s   00:00
python-novaclient-2.20.0-1.el7.centos.noarch.rpm                                                                                                             100%  287KB 286.6KB/s   00:00
python-oslo-config-1.4.0-1.el7.centos.noarch.rpm                                                                                                             100%   63KB  62.9KB/s   00:00
python-oslo-db-1.0.2-2.el7.centos.noarch.rpm                                                                                                                 100%   94KB  94.5KB/s   00:00
python-oslo-i18n-1.0.0-1.el7.centos.noarch.rpm                                                                                                               100%   28KB  27.6KB/s   00:00
python-oslo-messaging-1.4.0.0-4.el7.centos.noarch.rpm                                                                                                        100%  189KB 188.8KB/s   00:00
python-oslo-utils-1.0.0-1.el7.centos.noarch.rpm                                                                                                              100%   29KB  28.8KB/s   00:00
python-pycadf-0.6.0-2.el7.centos.noarch.rpm                                                                                                                  100%  103KB 102.8KB/s   00:00
python-six-1.7.3-1.el7.centos.noarch.rpm                                                                                                                     100%   27KB  27.0KB/s   00:00
python-webob-1.2.3-6.el7.noarch.rpm                                                                                                                          100%  202KB 201.5KB/s   00:00
python-werkzeug-0.9.1-2.el7.noarch.rpm                                                                                                                       100%  562KB 561.9KB/s   00:00
erlang-tools-R16B-03.11.el7.x86_64.rpm                                                                                                                       100%  565KB 564.6KB/s   00:00
8e1e41bc098b618cbcc5194fcbdff80f4301fb044dedf84e3892ee1e08669e35-other.sqlite.bz2                                                                            100%   82KB  82.3KB/s   00:00
451f55397fc33ae8f6e6ff9a0cda8595feb83694e6e5c1f3e275bca992756457-other.xml.gz                                                                                100%   67KB  66.9KB/s   00:00
2d3fef26df066a2fb7c45b233c8e8728229dd487dd07d22a3b895220d5a14acd-filelists.sqlite.bz2                                                                        100%  209KB 209.4KB/s   00:00
46cfa1cb741e6f7df7657c63fb987b15c7f48f28376fbb6c4cdfdf8cc6accfd3-filelists.xml.gz                                                                            100%  164KB 163.6KB/s   00:00
5895bf0b033c449469a349e894d468fc88a25dc2385ff8ec81cc10fbe95ef7aa-primary.sqlite.bz2                                                                          100%  139KB 139.2KB/s   00:00
7979d6b20fbd2bffe30f5b6fa003d8abd12e137a922d4b2f489a649edb4c59b2-primary.xml.gz                                                                              100%   74KB  74.1KB/s   00:00
repomd.xml                                                                                                                                                   100% 2992     2.9KB/s   00:00
apr-1.4.8-3.el7.x86_64.rpm                                                                                                                                   100%  103KB 103.1KB/s   00:00
apr-util-1.5.2-6.el7.x86_64.rpm                                                                                                                              100%   92KB  91.9KB/s   00:00
at-3.1.13-17.el7_0.1.x86_64.rpm                                                                                                                              100%   50KB  50.2KB/s   00:00
atlas-3.10.1-7.el7.x86_64.rpm                                                                                                                                100% 4589KB   4.5MB/s   00:00
autogen-libopts-5.18-5.el7.x86_64.rpm                                                                                                                        100%   66KB  66.0KB/s   00:00
bc-1.06.95-13.el7.x86_64.rpm                                                                                                                                 100%  115KB 114.5KB/s   00:00
blas-3.4.2-4.el7.x86_64.rpm                                                                                                                                  100%  398KB 398.2KB/s   00:00
boost-system-1.53.0-23.el7.x86_64.rpm                                                                                                                        100%   39KB  38.5KB/s   00:00
boost-thread-1.53.0-23.el7.x86_64.rpm                                                                                                                        100%   56KB  56.3KB/s   00:00
ceph-0.80.7-0.6.el7.x86_64.rpm                                                                                                                               100% 9592KB   9.4MB/s   00:01
ceph-common-0.80.7-2.el7.x86_64.rpm                                                                                                                          100% 4845KB   4.7MB/s   00:00
crudini-0.7-1.el7.noarch.rpm                                                                                                                                 100%   23KB  22.8KB/s   00:00
cryptsetup-1.6.6-3.el7.x86_64.rpm                                                                                                                            100%  117KB 117.0KB/s   00:00
cryptsetup-libs-1.6.6-3.el7.x86_64.rpm                                                                                                                       100%  179KB 179.4KB/s   00:00
cups-client-1.6.3-17.el7_1.1.x86_64.rpm                                                                                                                      100%  148KB 147.9KB/s   00:00
cups-libs-1.6.3-17.el7_1.1.x86_64.rpm                                                                                                                        100%  354KB 353.8KB/s   00:00
e2fsprogs-1.42.9-7.el7.x86_64.rpm                                                                                                                            100%  697KB 697.5KB/s   00:00
e2fsprogs-libs-1.42.9-7.el7.x86_64.rpm                                                                                                                       100%  165KB 165.5KB/s   00:00
ed-1.9-4.el7.x86_64.rpm                                                                                                                                      100%   72KB  71.7KB/s   00:00
erlang-asn1-R16B-03.11.el7.x86_64.rpm                                                                                                                        100%  757KB 757.2KB/s   00:00
erlang-compiler-R16B-03.11.el7.x86_64.rpm                                                                                                                    100% 1024KB   1.0MB/s   00:01
erlang-crypto-R16B-03.11.el7.x86_64.rpm                                                                                                                      100%   85KB  84.8KB/s   00:00
erlang-erts-R16B-03.11.el7.x86_64.rpm                                                                                                                        100% 2522KB   2.5MB/s   00:00
erlang-hipe-R16B-03.11.el7.x86_64.rpm                                                                                                                        100% 2507KB   2.5MB/s   00:00
erlang-inets-R16B-03.11.el7.x86_64.rpm                                                                                                                       100%  799KB 799.3KB/s   00:00
erlang-kernel-R16B-03.11.el7.x86_64.rpm                                                                                                                      100% 1095KB   1.1MB/s   00:00
erlang-mnesia-R16B-03.11.el7.x86_64.rpm                                                                                                                      100%  700KB 699.5KB/s   00:00
erlang-os_mon-R16B-03.11.el7.x86_64.rpm                                                                                                                      100%  114KB 113.7KB/s   00:00
erlang-otp_mibs-R16B-03.11.el7.x86_64.rpm                                                                                                                    100%   31KB  31.4KB/s   00:00
erlang-public_key-R16B-03.11.el7.x86_64.rpm                                                                                                                  100%  537KB 536.9KB/s   00:00
erlang-runtime_tools-R16B-03.11.el7.x86_64.rpm                                                                                                               100%  178KB 178.4KB/s   00:00
erlang-sasl-R16B-03.11.el7.x86_64.rpm                                                                                                                        100%  292KB 292.5KB/s   00:00
erlang-sd_notify-0.1-1.el7.x86_64.rpm                                                                                                                        100% 9329     9.1KB/s   00:00
erlang-snmp-R16B-03.11.el7.x86_64.rpm                                                                                                                        100% 1580KB   1.5MB/s   00:00
erlang-ssl-R16B-03.11.el7.x86_64.rpm                                                                                                                         100%  587KB 586.7KB/s   00:00
erlang-stdlib-R16B-03.11.el7.x86_64.rpm                                                                                                                      100% 2270KB   2.2MB/s   00:00
erlang-syntax_tools-R16B-03.11.el7.x86_64.rpm                                                                                                                100%  336KB 335.6KB/s   00:00
erlang-xmerl-R16B-03.11.el7.x86_64.rpm                                                                                                                       100%  997KB 996.8KB/s   00:01
expect-5.45-14.el7_1.x86_64.rpm                                                                                                                              100%  262KB 262.4KB/s   00:00
fuse-libs-2.9.2-5.el7.x86_64.rpm                                                                                                                             100%   93KB  92.6KB/s   00:00
gdisk-0.8.6-5.el7.x86_64.rpm                                                                                                                                 100%  187KB 186.9KB/s   00:00
gperftools-libs-2.4-5.el7.x86_64.rpm                                                                                                                         100%  279KB 278.7KB/s   00:00
hdparm-9.43-5.el7.x86_64.rpm                                                                                                                                 100%   83KB  83.4KB/s   00:00
httpd-2.4.6-31.el7.centos.1.x86_64.rpm                                                                                                                       100% 2754KB   2.7MB/s   00:00
httpd-tools-2.4.6-31.el7.centos.1.x86_64.rpm                                                                                                                 100%   79KB  79.3KB/s   00:00
keyutils-libs-devel-1.5.8-3.el7.x86_64.rpm                                                                                                                   100%   37KB  37.3KB/s   00:00
krb5-devel-1.12.2-15.el7_1.x86_64.rpm                                                                                                                        100%  641KB 640.6KB/s   00:00
krb5-libs-1.12.2-15.el7_1.x86_64.rpm                                                                                                                         100%  826KB 825.9KB/s   00:00
lapack-3.4.2-4.el7.x86_64.rpm                                                                                                                                100% 5511KB   5.4MB/s   00:00
leveldb-1.12.0-5.el7.x86_64.rpm                                                                                                                              100%  158KB 158.3KB/s   00:00
libaio-0.3.109-12.el7.x86_64.rpm                                                                                                                             100%   24KB  23.8KB/s   00:00
libcephfs1-0.80.7-0.6.el7.x86_64.rpm                                                                                                                         100% 1624KB   1.6MB/s   00:01
libcom_err-1.42.9-7.el7.x86_64.rpm                                                                                                                           100%   40KB  39.9KB/s   00:00
libcom_err-devel-1.42.9-7.el7.x86_64.rpm                                                                                                                     100%   30KB  30.1KB/s   00:00
libevent-2.0.21-4.el7.x86_64.rpm                                                                                                                             100%  214KB 213.9KB/s   00:00
libgfortran-4.8.3-9.el7.x86_64.rpm                                                                                                                           100%  290KB 289.8KB/s   00:00
libicu-50.1.2-11.el7.x86_64.rpm                                                                                                                              100% 7034KB   6.9MB/s   00:00
libquadmath-4.8.3-9.el7.x86_64.rpm                                                                                                                           100%  179KB 179.1KB/s   00:00
librados2-0.80.7-2.el7.x86_64.rpm                                                                                                                            100% 1540KB   1.5MB/s   00:00
librados2-devel-0.80.7-2.el7.x86_64.rpm                                                                                                                      100%   41KB  41.5KB/s   00:00
librbd1-0.80.7-2.el7.x86_64.rpm                                                                                                                              100%  347KB 346.6KB/s   00:00
librbd1-devel-0.80.7-2.el7.x86_64.rpm                                                                                                                        100%   19KB  19.5KB/s   00:00
libselinux-devel-2.2.2-6.el7.x86_64.rpm                                                                                                                      100%  174KB 174.4KB/s   00:00
libsepol-devel-2.1.9-3.el7.x86_64.rpm                                                                                                                        100%   71KB  70.6KB/s   00:00
libss-1.42.9-7.el7.x86_64.rpm                                                                                                                                100%   45KB  44.5KB/s   00:00
libunwind-1.1-10.el7.x86_64.rpm                                                                                                                              100%   63KB  62.6KB/s   00:00
libverto-devel-0.2.5-4.el7.x86_64.rpm                                                                                                                        100%   12KB  11.5KB/s   00:00
libxslt-1.1.28-5.el7.x86_64.rpm                                                                                                                              100%  242KB 241.7KB/s   00:00
libyaml-0.1.4-11.el7_0.x86_64.rpm                                                                                                                            100%   55KB  54.8KB/s   00:00
lksctp-tools-1.0.13-3.el7.x86_64.rpm                                                                                                                         100%   87KB  87.2KB/s   00:00
m4-1.4.16-9.el7.x86_64.rpm                                                                                                                                   100%  256KB 256.3KB/s   00:00
mailcap-2.1.41-2.el7.noarch.rpm                                                                                                                              100%   31KB  30.5KB/s   00:00
mailx-12.5-12.el7_0.x86_64.rpm                                                                                                                               100%  244KB 243.7KB/s   00:00
mariadb-5.5.44-1.el7_1.x86_64.rpm                                                                                                                            100% 9140KB   8.9MB/s   00:01
mariadb-devel-5.5.44-1.el7_1.x86_64.rpm                                                                                                                      100%  747KB 747.5KB/s   00:00
mariadb-libs-5.5.44-1.el7_1.x86_64.rpm                                                                                                                       100%  754KB 754.2KB/s   00:00
mariadb-server-5.5.44-1.el7_1.x86_64.rpm                                                                                                                     100%   11MB  10.7MB/s   00:01
memcached-1.4.15-9.el7.x86_64.rpm                                                                                                                            100%   84KB  83.9KB/s   00:00
mod_ssl-2.4.6-31.el7.centos.1.x86_64.rpm                                                                                                                     100%  100KB  99.6KB/s   00:00
mod_wsgi-3.4-12.el7_0.x86_64.rpm                                                                                                                             100%   76KB  76.1KB/s   00:00
MySQL-python-1.2.3-11.el7.x86_64.rpm                                                                                                                         100%   82KB  81.6KB/s   00:00
ntp-4.2.6p5-19.el7.centos.3.x86_64.rpm                                                                                                                       100%  541KB 540.8KB/s   00:00
ntpdate-4.2.6p5-19.el7.centos.3.x86_64.rpm                                                                                                                   100%   83KB  82.6KB/s   00:00
numpy-1.7.1-10.el7.x86_64.rpm                                                                                                                                100% 2888KB   2.8MB/s   00:00
openssh-6.6.1p1-12.el7_1.x86_64.rpm                                                                                                                          100%  431KB 431.4KB/s   00:00
openssh-clients-6.6.1p1-12.el7_1.x86_64.rpm                                                                                                                  100%  634KB 634.3KB/s   00:00
openssh-server-6.6.1p1-12.el7_1.x86_64.rpm                                                                                                                   100%  432KB 431.7KB/s   00:00
openssl-1.0.1e-42.el7.9.x86_64.rpm                                                                                                                           100%  711KB 710.7KB/s   00:00
openssl-devel-1.0.1e-42.el7.9.x86_64.rpm                                                                                                                     100% 1207KB   1.2MB/s   00:00
openssl-libs-1.0.1e-42.el7.9.x86_64.rpm                                                                                                                      100%  949KB 949.3KB/s   00:00
pcre-8.32-14.el7.x86_64.rpm                                                                                                                                  100%  418KB 417.7KB/s   00:00
pcre-devel-8.32-14.el7.x86_64.rpm                                                                                                                            100%  477KB 477.3KB/s   00:00
perl-Compress-Raw-Bzip2-2.061-3.el7.x86_64.rpm                                                                                                               100%   32KB  32.4KB/s   00:00
perl-Compress-Raw-Zlib-2.061-4.el7.x86_64.rpm                                                                                                                100%   57KB  57.4KB/s   00:00
perl-Data-Dumper-2.145-3.el7.x86_64.rpm                                                                                                                      100%   47KB  47.2KB/s   00:00
perl-DBD-MySQL-4.023-5.el7.x86_64.rpm                                                                                                                        100%  140KB 140.1KB/s   00:00
perl-DBI-1.627-4.el7.x86_64.rpm                                                                                                                              100%  802KB 801.9KB/s   00:00
perl-IO-Compress-2.061-2.el7.noarch.rpm                                                                                                                      100%  260KB 259.8KB/s   00:00
perl-Net-Daemon-0.48-5.el7.noarch.rpm                                                                                                                        100%   51KB  50.8KB/s   00:00
perl-PlRPC-0.2020-14.el7.noarch.rpm                                                                                                                          100%   36KB  35.7KB/s   00:00
psmisc-22.20-8.el7.x86_64.rpm                                                                                                                                100%  140KB 140.3KB/s   00:00
pyOpenSSL-0.13.1-3.el7.x86_64.rpm                                                                                                                            100%  133KB 133.2KB/s   00:00
PyPAM-0.5.0-19.el7.x86_64.rpm                                                                                                                                100%   25KB  25.1KB/s   00:00
pyparsing-1.5.6-9.el7.noarch.rpm                                                                                                                             100%   94KB  93.8KB/s   00:00
python-2.7.5-18.el7_1.1.x86_64.rpm                                                                                                                           100%   86KB  86.0KB/s   00:00
python-alembic-0.7.4-2.el7.noarch.rpm                                                                                                                        100%  488KB 488.1KB/s   00:00
python-amqp-1.4.5-1.el7.noarch.rpm                                                                                                                           100%   82KB  81.7KB/s   00:00
python-amqplib-1.0.2-7.el7.noarch.rpm                                                                                                                        100%   70KB  69.6KB/s   00:00
python-anyjson-0.3.3-3.el7.noarch.rpm                                                                                                                        100%   13KB  12.7KB/s   00:00
python-babel-0.9.6-8.el7.noarch.rpm                                                                                                                          100% 1393KB   1.4MB/s   00:00
python-beaker-1.5.4-10.el7.noarch.rpm                                                                                                                        100%   80KB  80.0KB/s   00:00
python-cephfs-0.80.7-0.6.el7.x86_64.rpm                                                                                                                      100%   20KB  19.7KB/s   00:00
python-chardet-2.2.1-1.el7_1.noarch.rpm                                                                                                                      100%  227KB 226.8KB/s   00:00
python-cliff-1.4.4-1.el7.noarch.rpm                                                                                                                          100%  129KB 128.7KB/s   00:00
python-cmd2-0.6.4-7.el7.noarch.rpm                                                                                                                           100%   40KB  39.9KB/s   00:00
python-crypto-2.6.1-1.el7.centos.x86_64.rpm                                                                                                                  100%  470KB 469.7KB/s   00:00
python-devel-2.7.5-18.el7_1.1.x86_64.rpm                                                                                                                     100%  389KB 388.8KB/s   00:00
python-django-1.6.11-3.el7.noarch.rpm                                                                                                                        100% 4058KB   4.0MB/s   00:00
python-django-appconf-0.6-1.el7.noarch.rpm                                                                                                                   100%   83KB  82.7KB/s   00:00
python-django-bash-completion-1.6.11-3.el7.noarch.rpm                                                                                                        100%   16KB  15.9KB/s   00:00
python-django-compressor-1.3-1.el7.noarch.rpm                                                                                                                100%  138KB 138.1KB/s   00:00
python-dogpile-cache-0.5.5-1.el7.noarch.rpm                                                                                                                  100%   58KB  58.0KB/s   00:00
python-dogpile-core-0.4.1-2.el7.noarch.rpm                                                                                                                   100%   20KB  19.8KB/s   00:00
python-ecdsa-0.11-3.el7.centos.noarch.rpm                                                                                                                    100%   69KB  68.9KB/s   00:00
python-eventlet-0.15.2-1.el7.noarch.rpm                                                                                                                      100%  271KB 270.5KB/s   00:00
python-httplib2-0.7.7-3.el7.noarch.rpm                                                                                                                       100%   70KB  70.3KB/s   00:00
python-iso8601-0.1.10-1.el7.noarch.rpm                                                                                                                       100%   18KB  17.8KB/s   00:00
python-jsonpatch-1.2-3.el7.centos.noarch.rpm                                                                                                                 100%   14KB  14.5KB/s   00:00
python-jsonpointer-1.0-2.el7.centos.noarch.rpm                                                                                                               100% 9408     9.2KB/s   00:00
python-jsonschema-2.3.0-1.el7.noarch.rpm                                                                                                                     100%   60KB  60.5KB/s   00:00
python-keyring-5.0-1.el7.noarch.rpm                                                                                                                          100%  116KB 115.6KB/s   00:00
python-kombu-2.5.16-1.el7.noarch.rpm                                                                                                                         100%  352KB 351.7KB/s   00:00
python-ldap-2.4.15-2.el7.x86_64.rpm                                                                                                                          100%  159KB 158.7KB/s   00:00
python-libs-2.7.5-18.el7_1.1.x86_64.rpm                                                                                                                      100% 5723KB   5.6MB/s   00:00
python-lockfile-0.9.1-4.el7.noarch.rpm                                                                                                                       100%   28KB  27.7KB/s   00:00
python-lxml-3.2.1-4.el7.x86_64.rpm                                                                                                                           100%  758KB 758.1KB/s   00:01
python-mako-0.8.1-2.el7.noarch.rpm                                                                                                                           100%  307KB 306.6KB/s   00:00
python-markupsafe-0.11-10.el7.x86_64.rpm                                                                                                                     100%   25KB  25.2KB/s   00:00
python-memcached-1.48-4.el7.noarch.rpm                                                                                                                       100%   33KB  33.5KB/s   00:00
python-migrate-0.9.2-2.el7.noarch.rpm                                                                                                                        100%  224KB 223.7KB/s   00:00
python-netaddr-0.7.5-7.el7.noarch.rpm                                                                                                                        100%  983KB 982.9KB/s   00:00
python-nose-1.3.0-2.el7.noarch.rpm                                                                                                                           100%  272KB 271.7KB/s   00:00
python-oauthlib-0.6.0-2.el7.noarch.rpm                                                                                                                       100%  113KB 113.4KB/s   00:00
python-ordereddict-1.1-6.el7.noarch.rpm                                                                                                                      100% 8432     8.2KB/s   00:00
python-paramiko-1.15.1-1.el7.noarch.rpm                                                                                                                      100%  999KB 998.6KB/s   00:00
python-passlib-1.6.2-2.el7.noarch.rpm                                                                                                                        100%  480KB 480.2KB/s   00:00
python-paste-1.7.5.1-9.20111221hg1498.el7.noarch.rpm                                                                                                         100%  866KB 866.1KB/s   00:00
python-paste-deploy-1.5.0-10.el7.noarch.rpm                                                                                                                  100%   45KB  45.2KB/s   00:00
python-pbr-0.10.0-1.el7.noarch.rpm                                                                                                                           100%  158KB 158.0KB/s   00:00
python-pip-7.1.0-1.el7.noarch.rpm                                                                                                                            100% 1557KB   1.5MB/s   00:00
python-posix_ipc-0.9.8-1.el7.x86_64.rpm                                                                                                                      100%   46KB  46.3KB/s   00:00
python-prettytable-0.7.2-2.el7.centos.noarch.rpm                                                                                                             100%   37KB  37.1KB/s   00:00
python-psutil-1.2.1-1.el7.x86_64.rpm                                                                                                                         100%  107KB 106.7KB/s   00:00
python-qpid-0.32-9.el7.noarch.rpm                                                                                                                            100%   84KB  84.3KB/s   00:00
python-qpid-common-0.32-9.el7.noarch.rpm                                                                                                                     100%  197KB 196.7KB/s   00:00
python-rados-0.80.7-2.el7.x86_64.rpm                                                                                                                         100%   35KB  35.3KB/s   00:00
python-rbd-0.80.7-2.el7.x86_64.rpm                                                                                                                           100%   27KB  27.2KB/s   00:00
python-repoze-lru-0.4-3.el7.noarch.rpm                                                                                                                       100%   13KB  12.7KB/s   00:00
python-requests-2.6.0-1.el7_1.noarch.rpm                                                                                                                     100%   94KB  93.6KB/s   00:00
python-routes-1.13-2.el7.noarch.rpm                                                                                                                          100%  640KB 640.0KB/s   00:00
python-saslwrapper-0.16-5.el7.x86_64.rpm                                                                                                                     100%   26KB  26.2KB/s   00:00
python-simplejson-3.3.3-1.el7.x86_64.rpm                                                                                                                     100%  171KB 171.3KB/s   00:00
python-sqlalchemy-0.9.8-1.el7.x86_64.rpm                                                                                                                     100% 3012KB   2.9MB/s   00:00
python-sqlparse-0.1.11-2.el7.noarch.rpm                                                                                                                      100%   69KB  69.3KB/s   00:00
python-stevedore-0.14-1.el7.noarch.rpm                                                                                                                       100%   46KB  46.4KB/s   00:00
python-suds-0.4.1-5.el7.noarch.rpm                                                                                                                           100%  204KB 203.6KB/s   00:00
python-tempita-0.5.1-6.el7.noarch.rpm                                                                                                                        100%   33KB  32.5KB/s   00:00
python-urllib3-1.10.2-2.el7_1.noarch.rpm                                                                                                                     100%  100KB  99.7KB/s   00:00
python-versiontools-1.9.1-4.el7.noarch.rpm                                                                                                                   100%   98KB  98.5KB/s   00:00
python-warlock-1.0.1-1.el7.noarch.rpm                                                                                                                        100%   15KB  14.5KB/s   00:00
pytz-2012d-5.el7.noarch.rpm                                                                                                                                  100%   38KB  38.2KB/s   00:00
PyYAML-3.10-11.el7.x86_64.rpm                                                                                                                                100%  153KB 153.3KB/s   00:00
rabbitmq-server-3.3.5-6.el7.noarch.rpm                                                                                                                       100% 4100KB   4.0MB/s   00:01
rbd-fuse-0.80.7-0.6.el7.x86_64.rpm                                                                                                                           100%   23KB  23.0KB/s   00:00
redhat-lsb-core-4.1-27.el7.centos.1.x86_64.rpm                                                                                                               100%   38KB  37.5KB/s   00:00
redhat-lsb-submod-security-4.1-27.el7.centos.1.x86_64.rpm                                                                                                    100%   15KB  15.3KB/s   00:00
saslwrapper-0.16-5.el7.x86_64.rpm                                                                                                                            100%   19KB  19.3KB/s   00:00
smartmontools-6.2-4.el7.x86_64.rpm                                                                                                                           100%  403KB 403.0KB/s   00:00
spax-1.5.2-11.el7.x86_64.rpm                                                                                                                                 100%  259KB 259.4KB/s   00:00
tcl-8.5.13-4.el7.x86_64.rpm                                                                                                                                  100% 1930KB   1.9MB/s   00:00
time-1.7-45.el7.x86_64.rpm                                                                                                                                   100%   30KB  30.3KB/s   00:00
zlib-devel-1.2.7-13.el7.x86_64.rpm                                                                                                                           100%   49KB  49.4KB/s   00:00
+ ssh -t cephuser@192.168.123.101 'sudo -E mv /tmp/vsm-dep-repo /opt'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ scp -r vsmrepo cephuser@192.168.123.101:/tmp
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
vsm-2.0.0-216.noarch.rpm                                                                                                                                     100% 2081KB   2.0MB/s   00:00
python-vsmclient-2.0.0-216.noarch.rpm                                                                                                                        100%  132KB 132.5KB/s   00:00
vsm-dashboard-2.0.0-216.noarch.rpm                                                                                                                           100% 2734KB 248.5KB/s   00:11
vsm-deploy-2.0.0-216.x86_64.rpm                                                                                                                              100%   61KB  61.3KB/s   00:00
bd96ee6679659d24c10e1739db27197d8c0136720688fe8d159490c4af3ae10c-other.sqlite.bz2                                                                            100%  870     0.9KB/s   00:00
984a2fac3bb4fd6816bf456a46db4bc6df3322157d8ec5e19fb684c1a53f4ec9-other.xml.gz                                                                                100%  395     0.4KB/s   00:00
e11485f50391c2fc232a2c61e79bafa465aae275a729275f231bccc414ff0655-filelists.sqlite.bz2                                                                        100%   16KB  16.5KB/s   00:00
ec75eba1fa450941bdbb53b0a578d2b1d9fdf623fc79e5f69bfef599448c3f71-filelists.xml.gz                                                                            100%   13KB  12.8KB/s   00:00
26116cc755003eaefdb5273de8660a9bc44bc0a020c73ebc2b82d8abd6cb15b6-primary.sqlite.bz2                                                                          100% 9786     9.6KB/s   00:00
91339e48a4d6d915f720921166685f75ada7e34c7b95da2ee06420d452ee4ddc-primary.xml.gz                                                                              100% 3225     3.2KB/s   00:00
repomd.xml                                                                                                                                                   100% 2973     2.9KB/s   00:00
+ ssh -t cephuser@192.168.123.101 'sudo -E mv /tmp/vsmrepo /opt'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ scp vsm.repo cephuser@192.168.123.101:/tmp
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
vsm.repo                                                                                                                                                     100%   85     0.1KB/s   00:00
+ ssh -t cephuser@192.168.123.101 'sudo -E mv /tmp/vsm.repo /etc/yum.repos.d'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ scp vsm-dep.repo cephuser@192.168.123.101:/tmp
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
vsm-dep.repo                                                                                                                                                 100%   96     0.1KB/s   00:00
+ ssh -t cephuser@192.168.123.101 'sudo -E mv /tmp/vsm-dep.repo /etc/yum.repos.d'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ ssh -t cephuser@192.168.123.101 'sudo -E yum makecache'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Loaded plugins: fastestmirror
vsmdeprepo                                                                                                                                                              | 2.9 kB  00:00:00
vsmrepo                                                                                                                                                                 | 2.9 kB  00:00:00
vsmdeprepo/primary_db                                                                                                                                                   | 139 kB  00:00:00
Loading mirror speeds from cached hostfile
Metadata Cache Created
Connection to 192.168.123.101 closed.
+ set_iptables_and_selinux 192.168.123.101
+ ssh -t cephuser@192.168.123.101 'sudo -E systemctl stop firewalld'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ ssh -t cephuser@192.168.123.101 'sudo -E systemctl disable firewalld'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ ssh -t cephuser@192.168.123.101 'sudo -E sed -i "s/SELINUX=enforcing/SELINUX=disabled/g" /etc/selinux/config'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
++ sudo -E getenforce
+ ssh -t cephuser@192.168.123.101 'if [[ Disabled != "Disabled" ]]; then sudo -E setenforce 0; fi'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ ssh -t cephuser@192.168.123.101 'sudo -E yum install -y vsm vsm-deploy'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Resolving Dependencies
--> Running transaction check
---> Package vsm.noarch 0:2.0.0-216 will be installed
--> Processing Dependency: mod_ssl for package: vsm-2.0.0-216.noarch
--> Processing Dependency: ceph for package: vsm-2.0.0-216.noarch
---> Package vsm-deploy.x86_64 0:2.0.0-216 will be installed
--> Running transaction check
---> Package ceph.x86_64 1:0.80.7-0.6.el7 will be installed
---> Package mod_ssl.x86_64 1:2.4.6-31.el7.centos.1 will be installed
--> Processing Dependency: httpd-mmn = 20120211x8664 for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: httpd = 2.4.6-31.el7.centos.1 for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: httpd for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
--> Running transaction check
---> Package httpd.x86_64 0:2.4.6-31.el7.centos.1 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                    Arch                                   Version                                                    Repository                                  Size
===============================================================================================================================================================================================
Installing:
 vsm                                        noarch                                 2.0.0-216                                                  vsmrepo                                    2.0 M
 vsm-deploy                                 x86_64                                 2.0.0-216                                                  vsmrepo                                     61 k
Installing for dependencies:
 ceph                                       x86_64                                 1:0.80.7-0.6.el7                                           vsmdeprepo                                 9.4 M
 httpd                                      x86_64                                 2.4.6-31.el7.centos.1                                      vsmdeprepo                                 2.7 M
 mod_ssl                                    x86_64                                 1:2.4.6-31.el7.centos.1                                    vsmdeprepo                                 100 k

Transaction Summary
===============================================================================================================================================================================================
Install  2 Packages (+3 Dependent packages)

Total download size: 14 M
Installed size: 56 M
Downloading packages:
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                                                           94 MB/s |  14 MB  00:00:00
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : httpd-2.4.6-31.el7.centos.1.x86_64                                                                                                                                          1/5
  Installing : 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64                                                                                                                                      2/5
  Installing : 1:ceph-0.80.7-0.6.el7.x86_64                                                                                                                                                3/5
  Installing : vsm-2.0.0-216.noarch                                                                                                                                                        4/5
  Installing : vsm-deploy-2.0.0-216.x86_64                                                                                                                                                 5/5
  Verifying  : vsm-deploy-2.0.0-216.x86_64                                                                                                                                                 1/5
  Verifying  : 1:ceph-0.80.7-0.6.el7.x86_64                                                                                                                                                2/5
  Verifying  : vsm-2.0.0-216.noarch                                                                                                                                                        3/5
  Verifying  : httpd-2.4.6-31.el7.centos.1.x86_64                                                                                                                                          4/5
  Verifying  : 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64                                                                                                                                      5/5

Installed:
  vsm.noarch 0:2.0.0-216                                                                     vsm-deploy.x86_64 0:2.0.0-216

Dependency Installed:
  ceph.x86_64 1:0.80.7-0.6.el7                             httpd.x86_64 0:2.4.6-31.el7.centos.1                             mod_ssl.x86_64 1:2.4.6-31.el7.centos.1

Complete!
Connection to 192.168.123.101 closed.
+ ssh -t cephuser@192.168.123.101 'sudo -E env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin preinstall agent'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Package 1:ceph-0.80.7-0.6.el7.x86_64 already installed and latest version
Package 1:librbd1-devel-0.80.7-2.el7.x86_64 already installed and latest version
Package 1:librbd1-0.80.7-2.el7.x86_64 already installed and latest version
Package ntp-4.2.6p5-19.el7.centos.3.x86_64 already installed and latest version
Package openssh-server-6.6.1p1-12.el7_1.x86_64 already installed and latest version
Package 1:python-keystoneclient-0.11.1-1.el7.centos.noarch already installed and latest version
Package 1:smartmontools-6.2-4.el7.x86_64 already installed and latest version
Resolving Dependencies
--> Running transaction check
---> Package openstack-utils.noarch 0:2014.2-1.el7.centos will be installed
---> Package python-devel.x86_64 0:2.7.5-18.el7_1.1 will be installed
---> Package rbd-fuse.x86_64 1:0.80.7-0.6.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                         Arch                                   Version                                               Repository                                  Size
===============================================================================================================================================================================================
Installing:
 openstack-utils                                 noarch                                 2014.2-1.el7.centos                                   vsmdeprepo                                  21 k
 python-devel                                    x86_64                                 2.7.5-18.el7_1.1                                      vsmdeprepo                                 389 k
 rbd-fuse                                        x86_64                                 1:0.80.7-0.6.el7                                      vsmdeprepo                                  23 k

Transaction Summary
===============================================================================================================================================================================================
Install  3 Packages

Total download size: 433 k
Installed size: 1.1 M
Downloading packages:
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                                                           38 MB/s | 433 kB  00:00:00
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : openstack-utils-2014.2-1.el7.centos.noarch                                                                                                                                  1/3
  Installing : python-devel-2.7.5-18.el7_1.1.x86_64                                                                                                                                        2/3
  Installing : 1:rbd-fuse-0.80.7-0.6.el7.x86_64                                                                                                                                            3/3
  Verifying  : 1:rbd-fuse-0.80.7-0.6.el7.x86_64                                                                                                                                            1/3
  Verifying  : python-devel-2.7.5-18.el7_1.1.x86_64                                                                                                                                        2/3
  Verifying  : openstack-utils-2014.2-1.el7.centos.noarch                                                                                                                                  3/3

Installed:
  openstack-utils.noarch 0:2014.2-1.el7.centos                         python-devel.x86_64 0:2.7.5-18.el7_1.1                         rbd-fuse.x86_64 1:0.80.7-0.6.el7

Complete!
Connection to 192.168.123.101 closed.
+ setup_remote_agent 192.168.123.101
+ ssh -t cephuser@192.168.123.101 'sudo -E rm -rf /etc/manifest/server.manifest'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
++ cat ./.token
+ TOKEN=e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba
+ sudo -E sed -i '/^\[auth_key\]$/,/^\[.*\]/ s/^.*-.*$/e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba/' manifest/192.168.123.101/server.manifest
+ scp manifest/192.168.123.101/server.manifest cephuser@192.168.123.101:/tmp
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
server.manifest                                                                                                                                              100%  777     0.8KB/s   00:00
+ ssh -t cephuser@192.168.123.101 'sudo -E mv /tmp/server.manifest /etc/manifest'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ ssh -t cephuser@192.168.123.101 'sudo -E chown root:vsm /etc/manifest/server.manifest; sudo -E chmod 755 /etc/manifest/server.manifest'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
++ grep ERROR
++ wc -l
++ ssh -t cephuser@192.168.123.101 'env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin server_manifest'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ is_server_manifest_error=0
+ '[' 0 -gt 0 ']'
+ ssh -t cephuser@192.168.123.101 'sudo -E env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin vsm-node'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
+ cat
+ service sshd restart
Redirecting to /bin/systemctl restart  sshd.service
+++ dirname /usr/local/bin/vsm-node
++ cd /usr/local/bin
++ pwd
+ TOPDIR=/usr/local/bin
++ mktemp
+ TEMP=/tmp/tmp.06fIFBshvJ
+ rm -rfv /tmp/tmp.06fIFBshvJ
+ mkdir -p /tmp/tmp.06fIFBshvJ
+ '[' 0 -gt 0 ']'
+ source /usr/local/bin/tools/lib/services
+ source /usr/local/bin/tools/lib/mysql
++ grep -v services
++ grep -v manifest
++ grep -v check
++ ls /usr/local/bin/tools/lib/
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/createrepo
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/dir
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/keystone
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/mysql
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/network
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/ntp
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/rabbitmq
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/repo
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/user
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/vsm
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/vsmdash
+ rm -rf /etc/vsm/api-paste.ini /etc/vsm/cache-tier.conf /etc/vsm/ceph.conf.template /etc/vsm/ceph.conf.template.rpmsave /etc/vsm/cluster.manifest /etc/vsm/logging.conf /etc/vsm/logging_sample.conf /etc/vsm/policy.json /etc/vsm/prepools /etc/vsm/rootwrap.conf /etc/vsm/rootwrap.d /etc/vsm/server.manifest /etc/vsm/vsm.conf /etc/vsm/vsm.conf.sample
+ cp -rf /usr/local/bin/tools/etc/vsm/api-paste.ini /usr/local/bin/tools/etc/vsm/cache-tier.conf /usr/local/bin/tools/etc/vsm/ceph.conf.template /usr/local/bin/tools/etc/vsm/cluster.manifest /usr/local/bin/tools/etc/vsm/logging_sample.conf /usr/local/bin/tools/etc/vsm/policy.json /usr/local/bin/tools/etc/vsm/prepools /usr/local/bin/tools/etc/vsm/rootwrap.conf /usr/local/bin/tools/etc/vsm/rootwrap.d /usr/local/bin/tools/etc/vsm/server.manifest /usr/local/bin/tools/etc/vsm/vsm.conf.sample /etc/vsm/
+ mv /etc/vsm/vsm.conf.sample /etc/vsm/vsm.conf
+ /usr/bin/key
+ server_manifest
No handlers could be found for logger "vsm.utils"
{'cluster_ip': '192.168.123.100', 'zone': 'zone_one', 'auth_key': 'e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba', 'ip': '10.0.2.15,192.168.123.101', 'id_rsa_pub': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDG7ycEyDT8CUx35lW8vlNkLg/8KJfUXuTqAPJs9IGkG3uiX0Oj9VRowsNO40lcpm/NxPQO7087DcagUWwxzs21YFbaXp7MJtlI07Kd/2yZOjKle/IOJzX3/+JannjBQLqFp+v1YtcrTw83V9AAq4TcQshJmeC7DWSVi9yrQxJG98FHew67bgUK13mB/FYG5m5j3+uujAu+QZueAGHtEuYkq4DziGg+O8myQp8DZIG1ZQrF4nnjQLwfEwOdaWlGP8MAoQvDiwV+1eReUEIuTg8T+qvEPrnwt/BlKTY2zxfDWxJi3tdPvWFg61lrCsuwvAsN9egkhU8LuU82tzQ/nnn5 root@vsm-node1\n', 'host': 'vsm-node1', 'vsm_controller_ip': '192.168.123.100', 'role': 'monitor,storage,', 'controller_ip': '192.168.123.100'}
{
  "api-paste.ini": "#############\n# OpenStack #\n#############\n\n[composite:vsmapi_storage]\nuse = call:vsm.api:root_app_factory\n/: apiversions\n/v1: openstack_storage_api_v1\n\n[composite:openstack_storage_api_v1]\nuse = call:vsm.api.middleware.auth:pipeline_factory\nnoauth = faultwrap sizelimit noauth apiv1\nkeystone = faultwrap sizelimit authtoken keystonecontext apiv1\nkeystone_nolimit = faultwrap sizelimit authtoken keystonecontext apiv1\n\n[filter:faultwrap]\npaste.filter_factory = vsm.api.middleware.fault:FaultWrapper.factory\n\n[filter:noauth]\npaste.filter_factory = vsm.api.middleware.auth:NoAuthMiddleware.factory\n\n[filter:sizelimit]\npaste.filter_factory = vsm.api.middleware.sizelimit:RequestBodySizeLimiter.factory\n\n[app:apiv1]\npaste.app_factory = vsm.api.v1.router:APIRouter.factory\n\n[pipeline:apiversions]\npipeline = faultwrap osstorageversionapp\n\n[app:osstorageversionapp]\npaste.app_factory = vsm.api.versions:Versions.factory\n\n\n##########\n# Shared #\n##########\n\n[filter:keystonecontext]\npaste.filter_factory = vsm.api.middleware.auth:VsmKeystoneContext.factory\n\n[filter:authtoken]\npaste.filter_factory = keystoneclient.middleware.auth_token:filter_factory\n",
  "cache_tier_defaults": [
    {
      "default_value": "1",
      "name": "ct_hit_set_count",
      "value": "1"
    },
    {
      "default_value": "3600",
      "name": "ct_hit_set_period_s",
      "value": "3600"
    },
    {
      "default_value": "1000000",
      "name": "ct_target_max_mem_mb",
      "value": "1000000"
    },
    {
      "default_value": "0.4",
      "name": "ct_target_dirty_ratio",
      "value": 0.4
    },
    {
      "default_value": "0.8",
      "name": "ct_target_full_ratio",
      "value": 0.8
    },
    {
      "default_value": "1000000",
      "name": "ct_target_max_objects",
      "value": "1000000"
    },
    {
      "default_value": "10",
      "name": "ct_target_min_flush_age_m",
      "value": "10"
    },
    {
      "default_value": "20",
      "name": "ct_target_min_evict_age_m",
      "value": "20"
    }
  ],
  "cluster": {
    "ceph_conf": "",
    "ceph_public_network": "192.168.123.0/24",
    "cluster_addr": "192.168.123.0/24",
    "cluster_name": "cluster_a",
    "cluster_network": "192.168.123.0/24",
    "file_system": "xfs",
    "management_network": "192.168.123.0/24",
    "name": "cluster_a",
    "osd_heartbeat_grace": null,
    "osd_heartbeat_interval": null,
    "public_addr": "192.168.123.0/24",
    "secondary_public_addr": "192.168.123.0/24"
  },
  "ec_profiles": [
    {
      "name": "default_profile",
      "pg_num": "3",
      "plugin": "jerasure",
      "plugin_kv_pair": "{\"k\":2,\"m\":1,\"technique\":\"reed_sol_van\"}",
      "plugin_path": "/usr/lib64/ceph/erasure-code"
    }
  ],
  "etc_hosts": "127.0.0.1   vsm-controller localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n\n################ VSM host entry ######################\n\n192.168.123.100 vsm-controller\n192.168.123.101 vsm-node1\n192.168.123.102 vsm-node2\n192.168.123.103 vsm-node3\n\n\n######################################################\n\n",
  "ntp_keys": null,
  "openstack_ip": [],
  "settings": [
    {
      "default_value": "65",
      "name": "storage_group_near_full_threshold",
      "value": "65"
    },
    {
      "default_value": "85",
      "name": "storage_group_full_threshold",
      "value": "85"
    },
    {
      "default_value": "75",
      "name": "ceph_near_full_threshold",
      "value": "75"
    },
    {
      "default_value": "90",
      "name": "ceph_full_threshold",
      "value": "90"
    },
    {
      "default_value": "100",
      "name": "pg_count_factor",
      "value": "100"
    },
    {
      "default_value": "5",
      "name": "heartbeat_interval",
      "value": "5"
    },
    {
      "default_value": "10",
      "name": "osd_heartbeat_interval",
      "value": "10"
    },
    {
      "default_value": "10",
      "name": "osd_heartbeat_grace",
      "value": "10"
    },
    {
      "default_value": "75",
      "name": "disk_near_full_threshold",
      "value": "75"
    },
    {
      "default_value": "90",
      "name": "disk_full_threshold",
      "value": "90"
    },
    {
      "default_value": "3",
      "name": "osd_pool_default_size",
      "value": "3"
    }
  ],
  "storage_class": [
    "10krpm_sas",
    "7200_rpm_sata",
    "ssd"
  ],
  "storage_group": [
    {
      "friendly_name": "Performance_Disk",
      "name": "performance",
      "rule_id": 0,
      "storage_class": "10krpm_sas"
    },
    {
      "friendly_name": "Economy_Disk",
      "name": "capacity",
      "rule_id": 1,
      "storage_class": "7200_rpm_sata"
    },
    {
      "friendly_name": "High_Performance",
      "name": "high_performance",
      "rule_id": 2,
      "storage_class": "ssd"
    }
  ],
  "vsm.conf": "[DEFAULT]\nrabbit_password = 4f464a36cfe791ecde59\nrabbit_host = 192.168.123.100\nrabbit_port=5673\nstate_path = /opt/stack/data/vsm\nosapi_volume_extension = vsm.api.openstack.volume.contrib.standard_extensions\nrootwrap_config = /etc/vsm/rootwrap.conf\napi_paste_config = /etc/vsm/api-paste.ini\nsql_connection = mysql://vsm:d1daebe97c7580e2a091@192.168.123.100/vsm?charset=utf8\nverbose = True\nauth_strategy = keystone\n\n[keystone_authtoken]\nauth_uri = http://192.168.123.100:5000/v2.0\nidentity_uri = http://192.168.123.100:35357\nadmin_tenant_name = service\nadmin_user = vsm\nadmin_password = 90d438b695923decaf8a",
  "zone": [
    "zone_one"
  ]
}
section = vsm_controller_ip
section = role
section = auth_key
section = ssd
section = 7200_rpm_sata
section = 10krpm_sas
section = ssd_cached_7200rpm_sata
section = ssd_cached_10krpm_sas
['vsm_controller_ip', 'role', 'auth_key', '7200_rpm_sata']
[u'10krpm_sas', u'7200_rpm_sata', u'ssd', 'vsm_controller_ip', 'role', 'auth_key', 'zone']
[ssd_cached_7200rpm_sata]
sec 10krpm_sas has lines: []
[10krpm_sas]
sec 7200_rpm_sata has lines: ['/dev/sdb1 /dev/sdb2', '/dev/sdc1 /dev/sdc2', '/dev/sdd1 /dev/sdd2']
[7200_rpm_sata]
sec ssd has lines: []
['/dev/sdb1', '/dev/sdc1', '/dev/sdd1']
['/dev/sdb2', '/dev/sdc2', '/dev/sdd2']
['10.0.2.15', '192.168.123.101']
[u'192.168.123.0/24', u'192.168.123.0/24', u'192.168.123.0/24']
['10.0.2.15', '192.168.123.101']
[u'192.168.123.0/24', u'192.168.123.0/24', u'192.168.123.0/24']
Warning: There are some networks be the same.
Controller ip lan = [u'192.168.123.0/24', u'192.168.123.0/24', u'192.168.123.0/24']
[auth_key]
--------------------------------------
Check Success ~~
{
  "auth_key": "e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba",
  "cluster_ip": "192.168.123.100",
  "controller_ip": "192.168.123.100",
  "host": "vsm-node1",
  "id_rsa_pub": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDG7ycEyDT8CUx35lW8vlNkLg/8KJfUXuTqAPJs9IGkG3uiX0Oj9VRowsNO40lcpm/NxPQO7087DcagUWwxzs21YFbaXp7MJtlI07Kd/2yZOjKle/IOJzX3/+JannjBQLqFp+v1YtcrTw83V9AAq4TcQshJmeC7DWSVi9yrQxJG98FHew67bgUK13mB/FYG5m5j3+uujAu+QZueAGHtEuYkq4DziGg+O8myQp8DZIG1ZQrF4nnjQLwfEwOdaWlGP8MAoQvDiwV+1eReUEIuTg8T+qvEPrnwt/BlKTY2zxfDWxJi3tdPvWFg61lrCsuwvAsN9egkhU8LuU82tzQ/nnn5 root@vsm-node1\n",
  "ip": "10.0.2.15,192.168.123.101",
  "role": "monitor,storage,",
  "vsm_controller_ip": "192.168.123.100",
  "zone": "zone_one"
}
Check Success ~~
--------------------------------------
+ sed -i 's/\(^Defaults.*requiretty.*$\)/#\1/' /etc/sudoers
+ cp -rf /usr/local/bin/tools/etc/sudoers.d/vsm /etc/sudoers.d/
+ service vsm-agent restart
Restarting vsm-agent (via systemctl):                      [  OK  ]
+ chkconfig vsm-agent on
+ sed -i /exit/d /etc/rc.local
+ echo 'service vsm-agent restart'
+ echo 'service vsm-physical restart'
+ echo 'exit 0'
+ chmod +x /etc/vsm/prepools/main
+ echo ...
...
+ sleep 5
+ service vsm-physical restart
Restarting vsm-physical (via systemctl):                   [  OK  ]
+ chkconfig vsm-physical on
+ echo 'The End!'
The End!
+ set +o xtrace
Connection to 192.168.123.101 closed.
+ install_setup_diamond 192.168.123.101
+ kill_diamond 192.168.123.101
+ cat
+ scp kill_diamond.sh cephuser@192.168.123.101:/tmp
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
kill_diamond.sh                                                                                                                                              100%  154     0.2KB/s   00:00
+ ssh -t cephuser@192.168.123.101 'sudo -E chmod 755 /tmp/kill_diamond.sh;' 'cd /tmp;' './kill_diamond.sh;' 'sudo -E rm -rf kill_diamond'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ ssh -t cephuser@192.168.123.101 'sudo -E yum install -y diamond'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Resolving Dependencies
--> Running transaction check
---> Package diamond.noarch 0:4-0 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                       Arch                                         Version                                     Repository                                        Size
===============================================================================================================================================================================================
Installing:
 diamond                                       noarch                                       4-0                                         vsmdeprepo                                       403 k

Transaction Summary
===============================================================================================================================================================================================
Install  1 Package

Total download size: 403 k
Installed size: 1.5 M
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : diamond-4-0.noarch                                                                                                                                                          1/1
Adding and activating diamond service
  Verifying  : diamond-4-0.noarch                                                                                                                                                          1/1

Installed:
  diamond.noarch 0:4-0

Complete!
Connection to 192.168.123.101 closed.
+ DEPLOYRC_FILE=/etc/vsmdeploy/deployrc
+ [[ 1 -eq 0 ]]
+ source /etc/vsmdeploy/deployrc
++ STACK_USER=stack
++ REPO_HOST=192.168.123.100
++ VSM_HTTPS_PASSWORD=d8bc641984ebd4ec6c18
++ MYSQL_ROOT_PASSWORD=4bdef4f446d34469d273
++ MYSQL_HOST=192.168.123.100
++ RABBITMQ_HOST=192.168.123.100
++ RABBITMQ_USER=guest
++ RABBITMQ_PASSWORD=4f464a36cfe791ecde59
++ RABBITMQ_NODENAME=deploy_rabbitmq
++ RABBITMQ_PORT=5673
++ MYSQL_KEYSTONE_USER=keystone
++ MYSQL_KEYSTONE_PASSWORD=9178410ea75208991a3e
++ KEYSTONE_HOST=192.168.123.100
++ ADMIN_PASSWORD=638404a913cb18d6543d
++ ADMIN_TOKEN=4c6e4d205a80939e0e69
++ AGENT_PASSWORD=a0d9eca47d38df291271
++ VSM_HOST=192.168.123.100
++ MYSQL_VSM_USER=vsm
++ MYSQL_VSM_PASSWORD=d1daebe97c7580e2a091
++ KEYSTONE_VSM_SERVICE_PASSWORD=90d438b695923decaf8a
++ VSM_RUNNING_SERVICE=vsm-api,vsm-conductor,vsm-scheduler
++ DASHBOARD_HOST=192.168.123.100
++ MYSQL_DASHBOARD_USER=dashboard
++ MYSQL_DASHBOARD_PASSWORD=83e3104f2066577cc328
++ python -V
++ cut '-d ' -f2
++ cut -d. -f1,2
+ PY_VER=2.7
+ echo 'Python version: 2.7'
Python version: 2.7
+ VSMMYSQL_FILE_PATH=/usr/lib/python2.7/site-packages/vsm/diamond/handlers/vsmmysql.py
+ HANDLER_PATH=/usr/lib/python2.7/site-packages/diamond/handler
+ DIAMOND_CONFIG_PATH=/etc/diamond
+ ssh -t cephuser@192.168.123.101 'sudo -E cp /etc/diamond/diamond.conf.example /etc/diamond/diamond.conf;' 'sudo -E cp /usr/lib/python2.7/site-packages/vsm/diamond/handlers/vsmmysql.py /usr/lib/python2.7/site-packages/diamond/handler;' 'sudo -E sed -i "s/MySQLHandler/VSMMySQLHandler/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/^handlers = *.*ArchiveHandler$/handlers =  diamond.handler.vsmmysql.VSMMySQLHandler/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/host = graphite/host = 127.0.0.1/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/^hostname*=*.*/hostname    = 192.168.123.100/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/username    = root/username    = vsm/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/password*=*.*/password    = d1daebe97c7580e2a091/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/database    = diamond/database    = vsm/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/a\# VARCHAR(255) NOT NULL" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/acol_instance = instance" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/a\# VARCHAR(255) NOT NULL" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/acol_hostname    = hostname" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# And any other config settings from GraphiteHandler are valid here/i\[\[SignalfxHandler\]\]" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# And any other config settings from GraphiteHandler are valid here/iauth_token = abcdefghijklmnopqrstuvwxyz" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\# interval = 300/interval = 20/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/enabled = True/#enabled = True/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[DiskSpaceCollector\]\]/\#\[\[DiskSpaceCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[DiskUsageCollector\]\]/\#\[\[DiskUsageCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[LoadAverageCollector\]\]/\#\[\[LoadAverageCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[MemoryCollector\]\]/\#\[\[MemoryCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[VMStatCollector\]\]/\#\[\[VMStatCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/i\[\[CephCollector\]\]" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/ienabled = True" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/i\[\[NetworkCollector\]\]" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/ienabled = True" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/aenabled = True" /etc/diamond/diamond.conf;' 'sudo -E diamond'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ ssh -t cephuser@192.168.123.101 'cd /etc/yum.repos.d; if [[ -d /tmp/backup ]]; then sudo -E mv /tmp/backup/* .; sudo -E rm -rf /tmp/backup; fi'
Warning: Permanently added '192.168.123.101' (ECDSA) to the list of known hosts.
Connection to 192.168.123.101 closed.
+ for ip_or_hostname in '$AGENT_ADDRESS_LIST'
+ install_agent 192.168.123.102
++ wc -l
++ ls /etc/yum.repos.d
+ ssh -t cephuser@192.168.123.102 'cd /etc/yum.repos.d; if [[ 10 -gt 0 ]]; then sudo -E mkdir -p /tmp/backup; sudo -E mv * /tmp/backup; fi'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ check_manifest 192.168.123.102
+ [[ 192.168.123.102 == 192.168.123.100 ]]
+ [[ ! -d manifest/192.168.123.102 ]]
+ [[ ! -f manifest/192.168.123.102/server.manifest ]]
+ set_remote_repo 192.168.123.102
+ ssh -t cephuser@192.168.123.102 'sudo -E rm -rf /etc/yum.repos.d/vsm.repo /etc/yum.repos.d/vsm-dep.repo;         sudo -E rm -rf /opt/vsm-dep-repo /opt/vsmrepo'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ scp -r vsm-dep-repo/vsm-dep-repo cephuser@192.168.123.102:/tmp
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
apr-util-ldap-1.5.2-6.el7.x86_64.rpm                                                                                                                         100%   19KB  18.5KB/s   00:00
diamond-4-0.noarch.rpm                                                                                                                                       100%  403KB 403.5KB/s   00:00
openstack-keystone-2014.2.1-1.el7.centos.noarch.rpm                                                                                                          100%   43KB  43.3KB/s   00:00
openstack-utils-2014.2-1.el7.centos.noarch.rpm                                                                                                               100%   21KB  21.2KB/s   00:00
python-alembic-0.6.5-3.el7.centos.noarch.rpm                                                                                                                 100%  342KB 341.7KB/s   00:00
python-cinderclient-1.1.1-1.el7.centos.noarch.rpm                                                                                                            100%  170KB 169.6KB/s   00:00
python-django-horizon-2014.2.1-1.el7.centos.noarch.rpm                                                                                                       100%  405KB 404.8KB/s   00:00
python-django-openstack-auth-1.1.7-1.el7.centos.noarch.rpm                                                                                                   100%   47KB  46.5KB/s   00:00
python-flask-0.10.1-4.el7.noarch.rpm                                                                                                                         100%  204KB 203.9KB/s   00:00
python-greenlet-0.4.2-3.el7.x86_64.rpm                                                                                                                       100%   26KB  26.3KB/s   00:00
python-itsdangerous-0.23-2.el7.noarch.rpm                                                                                                                    100%   24KB  23.5KB/s   00:00
python-jinja2-2.7.2-2.el7.noarch.rpm                                                                                                                         100%  515KB 515.5KB/s   00:00
python-keystone-2014.2.1-1.el7.centos.noarch.rpm                                                                                                             100%  755KB 754.6KB/s   00:00
python-keystoneclient-0.11.1-1.el7.centos.noarch.rpm                                                                                                         100%  540KB 540.3KB/s   00:00
python-keystonemiddleware-1.2.0-1.el7.centos.noarch.rpm                                                                                                      100%   84KB  83.8KB/s   00:00
python-ldappool-1.0-4.el7.centos.noarch.rpm                                                                                                                  100%   18KB  18.0KB/s   00:00
python-novaclient-2.20.0-1.el7.centos.noarch.rpm                                                                                                             100%  287KB 286.6KB/s   00:00
python-oslo-config-1.4.0-1.el7.centos.noarch.rpm                                                                                                             100%   63KB  62.9KB/s   00:00
python-oslo-db-1.0.2-2.el7.centos.noarch.rpm                                                                                                                 100%   94KB  94.5KB/s   00:00
python-oslo-i18n-1.0.0-1.el7.centos.noarch.rpm                                                                                                               100%   28KB  27.6KB/s   00:00
python-oslo-messaging-1.4.0.0-4.el7.centos.noarch.rpm                                                                                                        100%  189KB 188.8KB/s   00:00
python-oslo-utils-1.0.0-1.el7.centos.noarch.rpm                                                                                                              100%   29KB  28.8KB/s   00:00
python-pycadf-0.6.0-2.el7.centos.noarch.rpm                                                                                                                  100%  103KB 102.8KB/s   00:00
python-six-1.7.3-1.el7.centos.noarch.rpm                                                                                                                     100%   27KB  27.0KB/s   00:00
python-webob-1.2.3-6.el7.noarch.rpm                                                                                                                          100%  202KB 201.5KB/s   00:00
python-werkzeug-0.9.1-2.el7.noarch.rpm                                                                                                                       100%  562KB 561.9KB/s   00:00
erlang-tools-R16B-03.11.el7.x86_64.rpm                                                                                                                       100%  565KB 564.6KB/s   00:00
8e1e41bc098b618cbcc5194fcbdff80f4301fb044dedf84e3892ee1e08669e35-other.sqlite.bz2                                                                            100%   82KB  82.3KB/s   00:00
451f55397fc33ae8f6e6ff9a0cda8595feb83694e6e5c1f3e275bca992756457-other.xml.gz                                                                                100%   67KB  66.9KB/s   00:00
2d3fef26df066a2fb7c45b233c8e8728229dd487dd07d22a3b895220d5a14acd-filelists.sqlite.bz2                                                                        100%  209KB 209.4KB/s   00:00
46cfa1cb741e6f7df7657c63fb987b15c7f48f28376fbb6c4cdfdf8cc6accfd3-filelists.xml.gz                                                                            100%  164KB 163.6KB/s   00:00
5895bf0b033c449469a349e894d468fc88a25dc2385ff8ec81cc10fbe95ef7aa-primary.sqlite.bz2                                                                          100%  139KB 139.2KB/s   00:00
7979d6b20fbd2bffe30f5b6fa003d8abd12e137a922d4b2f489a649edb4c59b2-primary.xml.gz                                                                              100%   74KB  74.1KB/s   00:00
repomd.xml                                                                                                                                                   100% 2992     2.9KB/s   00:00
apr-1.4.8-3.el7.x86_64.rpm                                                                                                                                   100%  103KB 103.1KB/s   00:00
apr-util-1.5.2-6.el7.x86_64.rpm                                                                                                                              100%   92KB  91.9KB/s   00:00
at-3.1.13-17.el7_0.1.x86_64.rpm                                                                                                                              100%   50KB  50.2KB/s   00:00
atlas-3.10.1-7.el7.x86_64.rpm                                                                                                                                100% 4589KB   4.5MB/s   00:00
autogen-libopts-5.18-5.el7.x86_64.rpm                                                                                                                        100%   66KB  66.0KB/s   00:00
bc-1.06.95-13.el7.x86_64.rpm                                                                                                                                 100%  115KB 114.5KB/s   00:00
blas-3.4.2-4.el7.x86_64.rpm                                                                                                                                  100%  398KB 398.2KB/s   00:00
boost-system-1.53.0-23.el7.x86_64.rpm                                                                                                                        100%   39KB  38.5KB/s   00:00
boost-thread-1.53.0-23.el7.x86_64.rpm                                                                                                                        100%   56KB  56.3KB/s   00:00
ceph-0.80.7-0.6.el7.x86_64.rpm                                                                                                                               100% 9592KB   9.4MB/s   00:01
ceph-common-0.80.7-2.el7.x86_64.rpm                                                                                                                          100% 4845KB   4.7MB/s   00:00
crudini-0.7-1.el7.noarch.rpm                                                                                                                                 100%   23KB  22.8KB/s   00:00
cryptsetup-1.6.6-3.el7.x86_64.rpm                                                                                                                            100%  117KB 117.0KB/s   00:00
cryptsetup-libs-1.6.6-3.el7.x86_64.rpm                                                                                                                       100%  179KB 179.4KB/s   00:00
cups-client-1.6.3-17.el7_1.1.x86_64.rpm                                                                                                                      100%  148KB 147.9KB/s   00:00
cups-libs-1.6.3-17.el7_1.1.x86_64.rpm                                                                                                                        100%  354KB 353.8KB/s   00:00
e2fsprogs-1.42.9-7.el7.x86_64.rpm                                                                                                                            100%  697KB 697.5KB/s   00:00
e2fsprogs-libs-1.42.9-7.el7.x86_64.rpm                                                                                                                       100%  165KB 165.5KB/s   00:00
ed-1.9-4.el7.x86_64.rpm                                                                                                                                      100%   72KB  71.7KB/s   00:00
erlang-asn1-R16B-03.11.el7.x86_64.rpm                                                                                                                        100%  757KB 757.2KB/s   00:00
erlang-compiler-R16B-03.11.el7.x86_64.rpm                                                                                                                    100% 1024KB   1.0MB/s   00:00
erlang-crypto-R16B-03.11.el7.x86_64.rpm                                                                                                                      100%   85KB  84.8KB/s   00:00
erlang-erts-R16B-03.11.el7.x86_64.rpm                                                                                                                        100% 2522KB   2.5MB/s   00:00
erlang-hipe-R16B-03.11.el7.x86_64.rpm                                                                                                                        100% 2507KB   2.5MB/s   00:00
erlang-inets-R16B-03.11.el7.x86_64.rpm                                                                                                                       100%  799KB 799.3KB/s   00:00
erlang-kernel-R16B-03.11.el7.x86_64.rpm                                                                                                                      100% 1095KB   1.1MB/s   00:00
erlang-mnesia-R16B-03.11.el7.x86_64.rpm                                                                                                                      100%  700KB 699.5KB/s   00:00
erlang-os_mon-R16B-03.11.el7.x86_64.rpm                                                                                                                      100%  114KB 113.7KB/s   00:00
erlang-otp_mibs-R16B-03.11.el7.x86_64.rpm                                                                                                                    100%   31KB  31.4KB/s   00:00
erlang-public_key-R16B-03.11.el7.x86_64.rpm                                                                                                                  100%  537KB 536.9KB/s   00:00
erlang-runtime_tools-R16B-03.11.el7.x86_64.rpm                                                                                                               100%  178KB 178.4KB/s   00:00
erlang-sasl-R16B-03.11.el7.x86_64.rpm                                                                                                                        100%  292KB 292.5KB/s   00:00
erlang-sd_notify-0.1-1.el7.x86_64.rpm                                                                                                                        100% 9329     9.1KB/s   00:00
erlang-snmp-R16B-03.11.el7.x86_64.rpm                                                                                                                        100% 1580KB   1.5MB/s   00:00
erlang-ssl-R16B-03.11.el7.x86_64.rpm                                                                                                                         100%  587KB 586.7KB/s   00:00
erlang-stdlib-R16B-03.11.el7.x86_64.rpm                                                                                                                      100% 2270KB   2.2MB/s   00:01
erlang-syntax_tools-R16B-03.11.el7.x86_64.rpm                                                                                                                100%  336KB 335.6KB/s   00:00
erlang-xmerl-R16B-03.11.el7.x86_64.rpm                                                                                                                       100%  997KB 996.8KB/s   00:00
expect-5.45-14.el7_1.x86_64.rpm                                                                                                                              100%  262KB 262.4KB/s   00:00
fuse-libs-2.9.2-5.el7.x86_64.rpm                                                                                                                             100%   93KB  92.6KB/s   00:00
gdisk-0.8.6-5.el7.x86_64.rpm                                                                                                                                 100%  187KB 186.9KB/s   00:00
gperftools-libs-2.4-5.el7.x86_64.rpm                                                                                                                         100%  279KB 278.7KB/s   00:00
hdparm-9.43-5.el7.x86_64.rpm                                                                                                                                 100%   83KB  83.4KB/s   00:00
httpd-2.4.6-31.el7.centos.1.x86_64.rpm                                                                                                                       100% 2754KB   2.7MB/s   00:00
httpd-tools-2.4.6-31.el7.centos.1.x86_64.rpm                                                                                                                 100%   79KB  79.3KB/s   00:00
keyutils-libs-devel-1.5.8-3.el7.x86_64.rpm                                                                                                                   100%   37KB  37.3KB/s   00:00
krb5-devel-1.12.2-15.el7_1.x86_64.rpm                                                                                                                        100%  641KB 640.6KB/s   00:00
krb5-libs-1.12.2-15.el7_1.x86_64.rpm                                                                                                                         100%  826KB 825.9KB/s   00:00
lapack-3.4.2-4.el7.x86_64.rpm                                                                                                                                100% 5511KB   5.4MB/s   00:00
leveldb-1.12.0-5.el7.x86_64.rpm                                                                                                                              100%  158KB 158.3KB/s   00:00
libaio-0.3.109-12.el7.x86_64.rpm                                                                                                                             100%   24KB  23.8KB/s   00:00
libcephfs1-0.80.7-0.6.el7.x86_64.rpm                                                                                                                         100% 1624KB   1.6MB/s   00:01
libcom_err-1.42.9-7.el7.x86_64.rpm                                                                                                                           100%   40KB  39.9KB/s   00:00
libcom_err-devel-1.42.9-7.el7.x86_64.rpm                                                                                                                     100%   30KB  30.1KB/s   00:00
libevent-2.0.21-4.el7.x86_64.rpm                                                                                                                             100%  214KB 213.9KB/s   00:00
libgfortran-4.8.3-9.el7.x86_64.rpm                                                                                                                           100%  290KB 289.8KB/s   00:00
libicu-50.1.2-11.el7.x86_64.rpm                                                                                                                              100% 7034KB   6.9MB/s   00:00
libquadmath-4.8.3-9.el7.x86_64.rpm                                                                                                                           100%  179KB 179.1KB/s   00:00
librados2-0.80.7-2.el7.x86_64.rpm                                                                                                                            100% 1540KB   1.5MB/s   00:00
librados2-devel-0.80.7-2.el7.x86_64.rpm                                                                                                                      100%   41KB  41.5KB/s   00:00
librbd1-0.80.7-2.el7.x86_64.rpm                                                                                                                              100%  347KB 346.6KB/s   00:00
librbd1-devel-0.80.7-2.el7.x86_64.rpm                                                                                                                        100%   19KB  19.5KB/s   00:00
libselinux-devel-2.2.2-6.el7.x86_64.rpm                                                                                                                      100%  174KB 174.4KB/s   00:00
libsepol-devel-2.1.9-3.el7.x86_64.rpm                                                                                                                        100%   71KB  70.6KB/s   00:00
libss-1.42.9-7.el7.x86_64.rpm                                                                                                                                100%   45KB  44.5KB/s   00:00
libunwind-1.1-10.el7.x86_64.rpm                                                                                                                              100%   63KB  62.6KB/s   00:00
libverto-devel-0.2.5-4.el7.x86_64.rpm                                                                                                                        100%   12KB  11.5KB/s   00:00
libxslt-1.1.28-5.el7.x86_64.rpm                                                                                                                              100%  242KB 241.7KB/s   00:00
libyaml-0.1.4-11.el7_0.x86_64.rpm                                                                                                                            100%   55KB  54.8KB/s   00:00
lksctp-tools-1.0.13-3.el7.x86_64.rpm                                                                                                                         100%   87KB  87.2KB/s   00:00
m4-1.4.16-9.el7.x86_64.rpm                                                                                                                                   100%  256KB 256.3KB/s   00:00
mailcap-2.1.41-2.el7.noarch.rpm                                                                                                                              100%   31KB  30.5KB/s   00:00
mailx-12.5-12.el7_0.x86_64.rpm                                                                                                                               100%  244KB 243.7KB/s   00:00
mariadb-5.5.44-1.el7_1.x86_64.rpm                                                                                                                            100% 9140KB   8.9MB/s   00:01
mariadb-devel-5.5.44-1.el7_1.x86_64.rpm                                                                                                                      100%  747KB 747.5KB/s   00:00
mariadb-libs-5.5.44-1.el7_1.x86_64.rpm                                                                                                                       100%  754KB 754.2KB/s   00:00
mariadb-server-5.5.44-1.el7_1.x86_64.rpm                                                                                                                     100%   11MB  10.7MB/s   00:01
memcached-1.4.15-9.el7.x86_64.rpm                                                                                                                            100%   84KB  83.9KB/s   00:00
mod_ssl-2.4.6-31.el7.centos.1.x86_64.rpm                                                                                                                     100%  100KB  99.6KB/s   00:00
mod_wsgi-3.4-12.el7_0.x86_64.rpm                                                                                                                             100%   76KB  76.1KB/s   00:00
MySQL-python-1.2.3-11.el7.x86_64.rpm                                                                                                                         100%   82KB  81.6KB/s   00:00
ntp-4.2.6p5-19.el7.centos.3.x86_64.rpm                                                                                                                       100%  541KB 540.8KB/s   00:00
ntpdate-4.2.6p5-19.el7.centos.3.x86_64.rpm                                                                                                                   100%   83KB  82.6KB/s   00:00
numpy-1.7.1-10.el7.x86_64.rpm                                                                                                                                100% 2888KB   2.8MB/s   00:00
openssh-6.6.1p1-12.el7_1.x86_64.rpm                                                                                                                          100%  431KB 431.4KB/s   00:00
openssh-clients-6.6.1p1-12.el7_1.x86_64.rpm                                                                                                                  100%  634KB 634.3KB/s   00:00
openssh-server-6.6.1p1-12.el7_1.x86_64.rpm                                                                                                                   100%  432KB 431.7KB/s   00:00
openssl-1.0.1e-42.el7.9.x86_64.rpm                                                                                                                           100%  711KB 710.7KB/s   00:00
openssl-devel-1.0.1e-42.el7.9.x86_64.rpm                                                                                                                     100% 1207KB   1.2MB/s   00:00
openssl-libs-1.0.1e-42.el7.9.x86_64.rpm                                                                                                                      100%  949KB 949.3KB/s   00:01
pcre-8.32-14.el7.x86_64.rpm                                                                                                                                  100%  418KB 417.7KB/s   00:00
pcre-devel-8.32-14.el7.x86_64.rpm                                                                                                                            100%  477KB 477.3KB/s   00:00
perl-Compress-Raw-Bzip2-2.061-3.el7.x86_64.rpm                                                                                                               100%   32KB  32.4KB/s   00:00
perl-Compress-Raw-Zlib-2.061-4.el7.x86_64.rpm                                                                                                                100%   57KB  57.4KB/s   00:00
perl-Data-Dumper-2.145-3.el7.x86_64.rpm                                                                                                                      100%   47KB  47.2KB/s   00:00
perl-DBD-MySQL-4.023-5.el7.x86_64.rpm                                                                                                                        100%  140KB 140.1KB/s   00:00
perl-DBI-1.627-4.el7.x86_64.rpm                                                                                                                              100%  802KB 801.9KB/s   00:00
perl-IO-Compress-2.061-2.el7.noarch.rpm                                                                                                                      100%  260KB 259.8KB/s   00:00
perl-Net-Daemon-0.48-5.el7.noarch.rpm                                                                                                                        100%   51KB  50.8KB/s   00:00
perl-PlRPC-0.2020-14.el7.noarch.rpm                                                                                                                          100%   36KB  35.7KB/s   00:00
psmisc-22.20-8.el7.x86_64.rpm                                                                                                                                100%  140KB 140.3KB/s   00:00
pyOpenSSL-0.13.1-3.el7.x86_64.rpm                                                                                                                            100%  133KB 133.2KB/s   00:00
PyPAM-0.5.0-19.el7.x86_64.rpm                                                                                                                                100%   25KB  25.1KB/s   00:00
pyparsing-1.5.6-9.el7.noarch.rpm                                                                                                                             100%   94KB  93.8KB/s   00:00
python-2.7.5-18.el7_1.1.x86_64.rpm                                                                                                                           100%   86KB  86.0KB/s   00:00
python-alembic-0.7.4-2.el7.noarch.rpm                                                                                                                        100%  488KB 488.1KB/s   00:00
python-amqp-1.4.5-1.el7.noarch.rpm                                                                                                                           100%   82KB  81.7KB/s   00:00
python-amqplib-1.0.2-7.el7.noarch.rpm                                                                                                                        100%   70KB  69.6KB/s   00:00
python-anyjson-0.3.3-3.el7.noarch.rpm                                                                                                                        100%   13KB  12.7KB/s   00:00
python-babel-0.9.6-8.el7.noarch.rpm                                                                                                                          100% 1393KB   1.4MB/s   00:00
python-beaker-1.5.4-10.el7.noarch.rpm                                                                                                                        100%   80KB  80.0KB/s   00:00
python-cephfs-0.80.7-0.6.el7.x86_64.rpm                                                                                                                      100%   20KB  19.7KB/s   00:00
python-chardet-2.2.1-1.el7_1.noarch.rpm                                                                                                                      100%  227KB 226.8KB/s   00:00
python-cliff-1.4.4-1.el7.noarch.rpm                                                                                                                          100%  129KB 128.7KB/s   00:00
python-cmd2-0.6.4-7.el7.noarch.rpm                                                                                                                           100%   40KB  39.9KB/s   00:00
python-crypto-2.6.1-1.el7.centos.x86_64.rpm                                                                                                                  100%  470KB 469.7KB/s   00:00
python-devel-2.7.5-18.el7_1.1.x86_64.rpm                                                                                                                     100%  389KB 388.8KB/s   00:00
python-django-1.6.11-3.el7.noarch.rpm                                                                                                                        100% 4058KB   4.0MB/s   00:00
python-django-appconf-0.6-1.el7.noarch.rpm                                                                                                                   100%   83KB  82.7KB/s   00:00
python-django-bash-completion-1.6.11-3.el7.noarch.rpm                                                                                                        100%   16KB  15.9KB/s   00:00
python-django-compressor-1.3-1.el7.noarch.rpm                                                                                                                100%  138KB 138.1KB/s   00:00
python-dogpile-cache-0.5.5-1.el7.noarch.rpm                                                                                                                  100%   58KB  58.0KB/s   00:00
python-dogpile-core-0.4.1-2.el7.noarch.rpm                                                                                                                   100%   20KB  19.8KB/s   00:00
python-ecdsa-0.11-3.el7.centos.noarch.rpm                                                                                                                    100%   69KB  68.9KB/s   00:00
python-eventlet-0.15.2-1.el7.noarch.rpm                                                                                                                      100%  271KB 270.5KB/s   00:00
python-httplib2-0.7.7-3.el7.noarch.rpm                                                                                                                       100%   70KB  70.3KB/s   00:00
python-iso8601-0.1.10-1.el7.noarch.rpm                                                                                                                       100%   18KB  17.8KB/s   00:00
python-jsonpatch-1.2-3.el7.centos.noarch.rpm                                                                                                                 100%   14KB  14.5KB/s   00:00
python-jsonpointer-1.0-2.el7.centos.noarch.rpm                                                                                                               100% 9408     9.2KB/s   00:00
python-jsonschema-2.3.0-1.el7.noarch.rpm                                                                                                                     100%   60KB  60.5KB/s   00:00
python-keyring-5.0-1.el7.noarch.rpm                                                                                                                          100%  116KB 115.6KB/s   00:00
python-kombu-2.5.16-1.el7.noarch.rpm                                                                                                                         100%  352KB 351.7KB/s   00:00
python-ldap-2.4.15-2.el7.x86_64.rpm                                                                                                                          100%  159KB 158.7KB/s   00:00
python-libs-2.7.5-18.el7_1.1.x86_64.rpm                                                                                                                      100% 5723KB   5.6MB/s   00:00
python-lockfile-0.9.1-4.el7.noarch.rpm                                                                                                                       100%   28KB  27.7KB/s   00:00
python-lxml-3.2.1-4.el7.x86_64.rpm                                                                                                                           100%  758KB 758.1KB/s   00:00
python-mako-0.8.1-2.el7.noarch.rpm                                                                                                                           100%  307KB 306.6KB/s   00:00
python-markupsafe-0.11-10.el7.x86_64.rpm                                                                                                                     100%   25KB  25.2KB/s   00:00
python-memcached-1.48-4.el7.noarch.rpm                                                                                                                       100%   33KB  33.5KB/s   00:00
python-migrate-0.9.2-2.el7.noarch.rpm                                                                                                                        100%  224KB 223.7KB/s   00:00
python-netaddr-0.7.5-7.el7.noarch.rpm                                                                                                                        100%  983KB 982.9KB/s   00:00
python-nose-1.3.0-2.el7.noarch.rpm                                                                                                                           100%  272KB 271.7KB/s   00:00
python-oauthlib-0.6.0-2.el7.noarch.rpm                                                                                                                       100%  113KB 113.4KB/s   00:00
python-ordereddict-1.1-6.el7.noarch.rpm                                                                                                                      100% 8432     8.2KB/s   00:00
python-paramiko-1.15.1-1.el7.noarch.rpm                                                                                                                      100%  999KB 998.6KB/s   00:00
python-passlib-1.6.2-2.el7.noarch.rpm                                                                                                                        100%  480KB 480.2KB/s   00:00
python-paste-1.7.5.1-9.20111221hg1498.el7.noarch.rpm                                                                                                         100%  866KB 866.1KB/s   00:00
python-paste-deploy-1.5.0-10.el7.noarch.rpm                                                                                                                  100%   45KB  45.2KB/s   00:00
python-pbr-0.10.0-1.el7.noarch.rpm                                                                                                                           100%  158KB 158.0KB/s   00:00
python-pip-7.1.0-1.el7.noarch.rpm                                                                                                                            100% 1557KB   1.5MB/s   00:00
python-posix_ipc-0.9.8-1.el7.x86_64.rpm                                                                                                                      100%   46KB  46.3KB/s   00:00
python-prettytable-0.7.2-2.el7.centos.noarch.rpm                                                                                                             100%   37KB  37.1KB/s   00:00
python-psutil-1.2.1-1.el7.x86_64.rpm                                                                                                                         100%  107KB 106.7KB/s   00:00
python-qpid-0.32-9.el7.noarch.rpm                                                                                                                            100%   84KB  84.3KB/s   00:00
python-qpid-common-0.32-9.el7.noarch.rpm                                                                                                                     100%  197KB 196.7KB/s   00:00
python-rados-0.80.7-2.el7.x86_64.rpm                                                                                                                         100%   35KB  35.3KB/s   00:00
python-rbd-0.80.7-2.el7.x86_64.rpm                                                                                                                           100%   27KB  27.2KB/s   00:00
python-repoze-lru-0.4-3.el7.noarch.rpm                                                                                                                       100%   13KB  12.7KB/s   00:00
python-requests-2.6.0-1.el7_1.noarch.rpm                                                                                                                     100%   94KB  93.6KB/s   00:00
python-routes-1.13-2.el7.noarch.rpm                                                                                                                          100%  640KB 640.0KB/s   00:00
python-saslwrapper-0.16-5.el7.x86_64.rpm                                                                                                                     100%   26KB  26.2KB/s   00:00
python-simplejson-3.3.3-1.el7.x86_64.rpm                                                                                                                     100%  171KB 171.3KB/s   00:00
python-sqlalchemy-0.9.8-1.el7.x86_64.rpm                                                                                                                     100% 3012KB   2.9MB/s   00:00
python-sqlparse-0.1.11-2.el7.noarch.rpm                                                                                                                      100%   69KB  69.3KB/s   00:00
python-stevedore-0.14-1.el7.noarch.rpm                                                                                                                       100%   46KB  46.4KB/s   00:00
python-suds-0.4.1-5.el7.noarch.rpm                                                                                                                           100%  204KB 203.6KB/s   00:00
python-tempita-0.5.1-6.el7.noarch.rpm                                                                                                                        100%   33KB  32.5KB/s   00:00
python-urllib3-1.10.2-2.el7_1.noarch.rpm                                                                                                                     100%  100KB  99.7KB/s   00:00
python-versiontools-1.9.1-4.el7.noarch.rpm                                                                                                                   100%   98KB  98.5KB/s   00:00
python-warlock-1.0.1-1.el7.noarch.rpm                                                                                                                        100%   15KB  14.5KB/s   00:00
pytz-2012d-5.el7.noarch.rpm                                                                                                                                  100%   38KB  38.2KB/s   00:00
PyYAML-3.10-11.el7.x86_64.rpm                                                                                                                                100%  153KB 153.3KB/s   00:00
rabbitmq-server-3.3.5-6.el7.noarch.rpm                                                                                                                       100% 4100KB   4.0MB/s   00:00
rbd-fuse-0.80.7-0.6.el7.x86_64.rpm                                                                                                                           100%   23KB  23.0KB/s   00:00
redhat-lsb-core-4.1-27.el7.centos.1.x86_64.rpm                                                                                                               100%   38KB  37.5KB/s   00:00
redhat-lsb-submod-security-4.1-27.el7.centos.1.x86_64.rpm                                                                                                    100%   15KB  15.3KB/s   00:00
saslwrapper-0.16-5.el7.x86_64.rpm                                                                                                                            100%   19KB  19.3KB/s   00:00
smartmontools-6.2-4.el7.x86_64.rpm                                                                                                                           100%  403KB 403.0KB/s   00:00
spax-1.5.2-11.el7.x86_64.rpm                                                                                                                                 100%  259KB 259.4KB/s   00:00
tcl-8.5.13-4.el7.x86_64.rpm                                                                                                                                  100% 1930KB   1.9MB/s   00:00
time-1.7-45.el7.x86_64.rpm                                                                                                                                   100%   30KB  30.3KB/s   00:00
zlib-devel-1.2.7-13.el7.x86_64.rpm                                                                                                                           100%   49KB  49.4KB/s   00:00
+ ssh -t cephuser@192.168.123.102 'sudo -E mv /tmp/vsm-dep-repo /opt'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ scp -r vsmrepo cephuser@192.168.123.102:/tmp
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
vsm-2.0.0-216.noarch.rpm                                                                                                                                     100% 2081KB   2.0MB/s   00:00
python-vsmclient-2.0.0-216.noarch.rpm                                                                                                                        100%  132KB 132.5KB/s   00:00
vsm-dashboard-2.0.0-216.noarch.rpm                                                                                                                           100% 2734KB   2.7MB/s   00:00
vsm-deploy-2.0.0-216.x86_64.rpm                                                                                                                              100%   61KB  61.3KB/s   00:00
bd96ee6679659d24c10e1739db27197d8c0136720688fe8d159490c4af3ae10c-other.sqlite.bz2                                                                            100%  870     0.9KB/s   00:00
984a2fac3bb4fd6816bf456a46db4bc6df3322157d8ec5e19fb684c1a53f4ec9-other.xml.gz                                                                                100%  395     0.4KB/s   00:00
e11485f50391c2fc232a2c61e79bafa465aae275a729275f231bccc414ff0655-filelists.sqlite.bz2                                                                        100%   16KB  16.5KB/s   00:00
ec75eba1fa450941bdbb53b0a578d2b1d9fdf623fc79e5f69bfef599448c3f71-filelists.xml.gz                                                                            100%   13KB  12.8KB/s   00:00
26116cc755003eaefdb5273de8660a9bc44bc0a020c73ebc2b82d8abd6cb15b6-primary.sqlite.bz2                                                                          100% 9786     9.6KB/s   00:00
91339e48a4d6d915f720921166685f75ada7e34c7b95da2ee06420d452ee4ddc-primary.xml.gz                                                                              100% 3225     3.2KB/s   00:00
repomd.xml                                                                                                                                                   100% 2973     2.9KB/s   00:00
+ ssh -t cephuser@192.168.123.102 'sudo -E mv /tmp/vsmrepo /opt'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ scp vsm.repo cephuser@192.168.123.102:/tmp
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
vsm.repo                                                                                                                                                     100%   85     0.1KB/s   00:00
+ ssh -t cephuser@192.168.123.102 'sudo -E mv /tmp/vsm.repo /etc/yum.repos.d'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ scp vsm-dep.repo cephuser@192.168.123.102:/tmp
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
vsm-dep.repo                                                                                                                                                 100%   96     0.1KB/s   00:00
+ ssh -t cephuser@192.168.123.102 'sudo -E mv /tmp/vsm-dep.repo /etc/yum.repos.d'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ ssh -t cephuser@192.168.123.102 'sudo -E yum makecache'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Loaded plugins: fastestmirror
vsmdeprepo                                                                                                                                                              | 2.9 kB  00:00:00
vsmrepo                                                                                                                                                                 | 2.9 kB  00:00:00
(1/6): vsmdeprepo/filelists_db                                                                                                                                          | 209 kB  00:00:00
(2/6): vsmdeprepo/other_db                                                                                                                                              |  82 kB  00:00:00
(3/6): vsmdeprepo/primary_db                                                                                                                                            | 139 kB  00:00:00
(4/6): vsmrepo/primary_db                                                                                                                                               | 9.6 kB  00:00:00
(5/6): vsmrepo/filelists_db                                                                                                                                             |  16 kB  00:00:00
(6/6): vsmrepo/other_db                                                                                                                                                 |  870 B  00:00:00
Loading mirror speeds from cached hostfile
Metadata Cache Created
Connection to 192.168.123.102 closed.
+ set_iptables_and_selinux 192.168.123.102
+ ssh -t cephuser@192.168.123.102 'sudo -E systemctl stop firewalld'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ ssh -t cephuser@192.168.123.102 'sudo -E systemctl disable firewalld'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
rm '/etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service'
rm '/etc/systemd/system/basic.target.wants/firewalld.service'
Connection to 192.168.123.102 closed.
+ ssh -t cephuser@192.168.123.102 'sudo -E sed -i "s/SELINUX=enforcing/SELINUX=disabled/g" /etc/selinux/config'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
++ sudo -E getenforce
+ ssh -t cephuser@192.168.123.102 'if [[ Disabled != "Disabled" ]]; then sudo -E setenforce 0; fi'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ ssh -t cephuser@192.168.123.102 'sudo -E yum install -y vsm vsm-deploy'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Resolving Dependencies
--> Running transaction check
---> Package vsm.noarch 0:2.0.0-216 will be installed
--> Processing Dependency: python-webob for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-tempita for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-suds for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-stevedore for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-sqlalchemy for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-routes for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-psutil for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-pbr for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-paste-deploy for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-paste for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-paramiko for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-oslo-config for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-ordereddict for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-novaclient for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-migrate for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-lxml for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-lockfile for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-kombu for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-keystoneclient for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-iso8601 for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-greenlet for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-eventlet for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-cinderclient for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-babel for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-anyjson for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-amqplib for package: vsm-2.0.0-216.noarch
--> Processing Dependency: numpy for package: vsm-2.0.0-216.noarch
--> Processing Dependency: mod_ssl for package: vsm-2.0.0-216.noarch
--> Processing Dependency: ceph for package: vsm-2.0.0-216.noarch
--> Processing Dependency: MySQL-python for package: vsm-2.0.0-216.noarch
--> Processing Dependency: /usr/bin/expect for package: vsm-2.0.0-216.noarch
---> Package vsm-deploy.x86_64 0:2.0.0-216 will be installed
--> Running transaction check
---> Package MySQL-python.x86_64 0:1.2.3-11.el7 will be installed
---> Package ceph.x86_64 1:0.80.7-0.6.el7 will be installed
--> Processing Dependency: python-rbd = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: python-rados = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: python-cephfs = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: librbd1 = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: librados2 = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libcephfs1 = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: ceph-common = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: redhat-lsb-core for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: python-requests for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: python-flask for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libaio.so.1(LIBAIO_0.4)(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libaio.so.1(LIBAIO_0.1)(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: hdparm for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: gdisk for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: cryptsetup for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libtcmalloc.so.4()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: librados.so.2()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libleveldb.so.1()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libcephfs.so.1()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libboost_thread-mt.so.1.53.0()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libboost_system-mt.so.1.53.0()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libaio.so.1()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
---> Package expect.x86_64 0:5.45-14.el7_1 will be installed
--> Processing Dependency: libtcl8.5.so()(64bit) for package: expect-5.45-14.el7_1.x86_64
---> Package mod_ssl.x86_64 1:2.4.6-31.el7.centos.1 will be installed
--> Processing Dependency: httpd-mmn = 20120211x8664 for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: httpd = 2.4.6-31.el7.centos.1 for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: openssl-libs >= 1:1.0.1e-37 for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: httpd for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
---> Package numpy.x86_64 1:1.7.1-10.el7 will be installed
--> Processing Dependency: python-nose for package: 1:numpy-1.7.1-10.el7.x86_64
--> Processing Dependency: libtatlas.so.3()(64bit) for package: 1:numpy-1.7.1-10.el7.x86_64
--> Processing Dependency: libquadmath.so.0()(64bit) for package: 1:numpy-1.7.1-10.el7.x86_64
--> Processing Dependency: liblapack.so.3()(64bit) for package: 1:numpy-1.7.1-10.el7.x86_64
--> Processing Dependency: libgfortran.so.3()(64bit) for package: 1:numpy-1.7.1-10.el7.x86_64
---> Package python-amqplib.noarch 0:1.0.2-7.el7 will be installed
---> Package python-anyjson.noarch 0:0.3.3-3.el7 will be installed
---> Package python-babel.noarch 0:0.9.6-8.el7 will be installed
---> Package python-cinderclient.noarch 0:1.1.1-1.el7.centos will be installed
--> Processing Dependency: python-six for package: python-cinderclient-1.1.1-1.el7.centos.noarch
--> Processing Dependency: python-simplejson for package: python-cinderclient-1.1.1-1.el7.centos.noarch
--> Processing Dependency: python-prettytable for package: python-cinderclient-1.1.1-1.el7.centos.noarch
---> Package python-eventlet.noarch 0:0.15.2-1.el7 will be installed
---> Package python-greenlet.x86_64 0:0.4.2-3.el7 will be installed
---> Package python-iso8601.noarch 0:0.1.10-1.el7 will be installed
---> Package python-keystoneclient.noarch 1:0.11.1-1.el7.centos will be installed
--> Processing Dependency: python-netaddr for package: 1:python-keystoneclient-0.11.1-1.el7.centos.noarch
--> Processing Dependency: python-keyring for package: 1:python-keystoneclient-0.11.1-1.el7.centos.noarch
---> Package python-kombu.noarch 0:2.5.16-1.el7 will be installed
--> Processing Dependency: python-amqp for package: python-kombu-2.5.16-1.el7.noarch
---> Package python-lockfile.noarch 1:0.9.1-4.el7 will be installed
---> Package python-lxml.x86_64 0:3.2.1-4.el7 will be installed
--> Processing Dependency: libxslt.so.1(LIBXML2_1.1.9)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.1.26)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.1.2)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.24)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.22)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.18)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.11)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1()(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libexslt.so.0()(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
---> Package python-migrate.noarch 0:0.9.2-2.el7 will be installed
--> Processing Dependency: python-sqlparse for package: python-migrate-0.9.2-2.el7.noarch
---> Package python-novaclient.noarch 1:2.20.0-1.el7.centos will be installed
--> Processing Dependency: python-oslo-utils for package: 1:python-novaclient-2.20.0-1.el7.centos.noarch
---> Package python-ordereddict.noarch 0:1.1-6.el7 will be installed
---> Package python-oslo-config.noarch 2:1.4.0-1.el7.centos will be installed
---> Package python-paramiko.noarch 0:1.15.1-1.el7 will be installed
--> Processing Dependency: python-crypto >= 2.1 for package: python-paramiko-1.15.1-1.el7.noarch
--> Processing Dependency: python-ecdsa for package: python-paramiko-1.15.1-1.el7.noarch
---> Package python-paste.noarch 0:1.7.5.1-9.20111221hg1498.el7 will be installed
--> Processing Dependency: pyOpenSSL for package: python-paste-1.7.5.1-9.20111221hg1498.el7.noarch
---> Package python-paste-deploy.noarch 0:1.5.0-10.el7 will be installed
---> Package python-pbr.noarch 0:0.10.0-1.el7 will be installed
--> Processing Dependency: python-pip for package: python-pbr-0.10.0-1.el7.noarch
---> Package python-psutil.x86_64 0:1.2.1-1.el7 will be installed
---> Package python-routes.noarch 0:1.13-2.el7 will be installed
--> Processing Dependency: python-repoze-lru for package: python-routes-1.13-2.el7.noarch
---> Package python-sqlalchemy.x86_64 0:0.9.8-1.el7 will be installed
---> Package python-stevedore.noarch 0:0.14-1.el7 will be installed
---> Package python-suds.noarch 0:0.4.1-5.el7 will be installed
---> Package python-tempita.noarch 0:0.5.1-6.el7 will be installed
---> Package python-webob.noarch 0:1.2.3-6.el7 will be installed
--> Running transaction check
---> Package atlas.x86_64 0:3.10.1-7.el7 will be installed
---> Package boost-system.x86_64 0:1.53.0-23.el7 will be installed
---> Package boost-thread.x86_64 0:1.53.0-23.el7 will be installed
---> Package ceph-common.x86_64 1:0.80.7-2.el7 will be installed
---> Package cryptsetup.x86_64 0:1.6.6-3.el7 will be installed
--> Processing Dependency: cryptsetup-libs(x86-64) = 1.6.6-3.el7 for package: cryptsetup-1.6.6-3.el7.x86_64
---> Package gdisk.x86_64 0:0.8.6-5.el7 will be installed
--> Processing Dependency: libicuuc.so.50()(64bit) for package: gdisk-0.8.6-5.el7.x86_64
--> Processing Dependency: libicuio.so.50()(64bit) for package: gdisk-0.8.6-5.el7.x86_64
---> Package gperftools-libs.x86_64 0:2.4-5.el7 will be installed
--> Processing Dependency: libunwind.so.8()(64bit) for package: gperftools-libs-2.4-5.el7.x86_64
---> Package hdparm.x86_64 0:9.43-5.el7 will be installed
---> Package httpd.x86_64 0:2.4.6-31.el7.centos.1 will be installed
--> Processing Dependency: httpd-tools = 2.4.6-31.el7.centos.1 for package: httpd-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: /etc/mime.types for package: httpd-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: libaprutil-1.so.0()(64bit) for package: httpd-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: libapr-1.so.0()(64bit) for package: httpd-2.4.6-31.el7.centos.1.x86_64
---> Package lapack.x86_64 0:3.4.2-4.el7 will be installed
--> Processing Dependency: libblas.so.3()(64bit) for package: lapack-3.4.2-4.el7.x86_64
---> Package leveldb.x86_64 0:1.12.0-5.el7 will be installed
---> Package libaio.x86_64 0:0.3.109-12.el7 will be installed
---> Package libcephfs1.x86_64 1:0.80.7-0.6.el7 will be installed
---> Package libgfortran.x86_64 0:4.8.3-9.el7 will be installed
---> Package libquadmath.x86_64 0:4.8.3-9.el7 will be installed
---> Package librados2.x86_64 1:0.80.7-2.el7 will be installed
---> Package librbd1.x86_64 1:0.80.7-2.el7 will be installed
---> Package libxslt.x86_64 0:1.1.28-5.el7 will be installed
---> Package openssl-libs.x86_64 1:1.0.1e-34.el7_0.7 will be updated
--> Processing Dependency: openssl-libs(x86-64) = 1:1.0.1e-34.el7_0.7 for package: 1:openssl-1.0.1e-34.el7_0.7.x86_64
---> Package openssl-libs.x86_64 1:1.0.1e-42.el7.9 will be an update
---> Package pyOpenSSL.x86_64 0:0.13.1-3.el7 will be installed
---> Package python-amqp.noarch 0:1.4.5-1.el7 will be installed
---> Package python-cephfs.x86_64 1:0.80.7-0.6.el7 will be installed
---> Package python-crypto.x86_64 0:2.6.1-1.el7.centos will be installed
---> Package python-ecdsa.noarch 0:0.11-3.el7.centos will be installed
---> Package python-flask.noarch 1:0.10.1-4.el7 will be installed
--> Processing Dependency: python-werkzeug for package: 1:python-flask-0.10.1-4.el7.noarch
--> Processing Dependency: python-jinja2 for package: 1:python-flask-0.10.1-4.el7.noarch
--> Processing Dependency: python-itsdangerous for package: 1:python-flask-0.10.1-4.el7.noarch
---> Package python-keyring.noarch 0:5.0-1.el7 will be installed
---> Package python-netaddr.noarch 0:0.7.5-7.el7 will be installed
---> Package python-nose.noarch 0:1.3.0-2.el7 will be installed
---> Package python-oslo-utils.noarch 0:1.0.0-1.el7.centos will be installed
--> Processing Dependency: python-oslo-i18n for package: python-oslo-utils-1.0.0-1.el7.centos.noarch
---> Package python-pip.noarch 0:7.1.0-1.el7 will be installed
---> Package python-prettytable.noarch 0:0.7.2-2.el7.centos will be installed
---> Package python-rados.x86_64 1:0.80.7-2.el7 will be installed
---> Package python-rbd.x86_64 1:0.80.7-2.el7 will be installed
---> Package python-repoze-lru.noarch 0:0.4-3.el7 will be installed
---> Package python-requests.noarch 0:2.6.0-1.el7_1 will be installed
--> Processing Dependency: python-urllib3 >= 1.10.2-1 for package: python-requests-2.6.0-1.el7_1.noarch
--> Processing Dependency: python-chardet >= 2.2.1-1 for package: python-requests-2.6.0-1.el7_1.noarch
---> Package python-simplejson.x86_64 0:3.3.3-1.el7 will be installed
---> Package python-six.noarch 0:1.7.3-1.el7.centos will be installed
---> Package python-sqlparse.noarch 0:0.1.11-2.el7 will be installed
---> Package redhat-lsb-core.x86_64 0:4.1-27.el7.centos.1 will be installed
--> Processing Dependency: redhat-lsb-submod-security(x86-64) = 4.1-27.el7.centos.1 for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: spax for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/sbin/fuser for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/time for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/m4 for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/lpr for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/lp for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/killall for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/bc for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/batch for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/at for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /bin/mailx for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /bin/ed for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
---> Package tcl.x86_64 1:8.5.13-4.el7 will be installed
--> Running transaction check
---> Package apr.x86_64 0:1.4.8-3.el7 will be installed
---> Package apr-util.x86_64 0:1.5.2-6.el7 will be installed
---> Package at.x86_64 0:3.1.13-17.el7_0.1 will be installed
---> Package bc.x86_64 0:1.06.95-13.el7 will be installed
---> Package blas.x86_64 0:3.4.2-4.el7 will be installed
---> Package cryptsetup-libs.x86_64 0:1.6.3-2.el7 will be updated
---> Package cryptsetup-libs.x86_64 0:1.6.6-3.el7 will be an update
---> Package cups-client.x86_64 1:1.6.3-17.el7_1.1 will be installed
--> Processing Dependency: cups-libs(x86-64) = 1:1.6.3-17.el7_1.1 for package: 1:cups-client-1.6.3-17.el7_1.1.x86_64
--> Processing Dependency: libcups.so.2()(64bit) for package: 1:cups-client-1.6.3-17.el7_1.1.x86_64
---> Package ed.x86_64 0:1.9-4.el7 will be installed
---> Package httpd-tools.x86_64 0:2.4.6-31.el7.centos.1 will be installed
---> Package libicu.x86_64 0:50.1.2-11.el7 will be installed
---> Package libunwind.x86_64 0:1.1-10.el7 will be installed
---> Package m4.x86_64 0:1.4.16-9.el7 will be installed
---> Package mailcap.noarch 0:2.1.41-2.el7 will be installed
---> Package mailx.x86_64 0:12.5-12.el7_0 will be installed
---> Package openssl.x86_64 1:1.0.1e-34.el7_0.7 will be updated
---> Package openssl.x86_64 1:1.0.1e-42.el7.9 will be an update
---> Package psmisc.x86_64 0:22.20-8.el7 will be installed
---> Package python-chardet.noarch 0:2.2.1-1.el7_1 will be installed
---> Package python-itsdangerous.noarch 0:0.23-2.el7 will be installed
---> Package python-jinja2.noarch 0:2.7.2-2.el7 will be installed
--> Processing Dependency: python-markupsafe for package: python-jinja2-2.7.2-2.el7.noarch
---> Package python-oslo-i18n.noarch 0:1.0.0-1.el7.centos will be installed
---> Package python-urllib3.noarch 0:1.10.2-2.el7_1 will be installed
---> Package python-werkzeug.noarch 0:0.9.1-2.el7 will be installed
---> Package redhat-lsb-submod-security.x86_64 0:4.1-27.el7.centos.1 will be installed
---> Package spax.x86_64 0:1.5.2-11.el7 will be installed
---> Package time.x86_64 0:1.7-45.el7 will be installed
--> Running transaction check
---> Package cups-libs.x86_64 1:1.6.3-17.el7_1.1 will be installed
---> Package python-markupsafe.x86_64 0:0.11-10.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                               Arch                              Version                                                   Repository                             Size
===============================================================================================================================================================================================
Installing:
 vsm                                                   noarch                            2.0.0-216                                                 vsmrepo                               2.0 M
 vsm-deploy                                            x86_64                            2.0.0-216                                                 vsmrepo                                61 k
Installing for dependencies:
 MySQL-python                                          x86_64                            1.2.3-11.el7                                              vsmdeprepo                             82 k
 apr                                                   x86_64                            1.4.8-3.el7                                               vsmdeprepo                            103 k
 apr-util                                              x86_64                            1.5.2-6.el7                                               vsmdeprepo                             92 k
 at                                                    x86_64                            3.1.13-17.el7_0.1                                         vsmdeprepo                             50 k
 atlas                                                 x86_64                            3.10.1-7.el7                                              vsmdeprepo                            4.5 M
 bc                                                    x86_64                            1.06.95-13.el7                                            vsmdeprepo                            115 k
 blas                                                  x86_64                            3.4.2-4.el7                                               vsmdeprepo                            398 k
 boost-system                                          x86_64                            1.53.0-23.el7                                             vsmdeprepo                             39 k
 boost-thread                                          x86_64                            1.53.0-23.el7                                             vsmdeprepo                             56 k
 ceph                                                  x86_64                            1:0.80.7-0.6.el7                                          vsmdeprepo                            9.4 M
 ceph-common                                           x86_64                            1:0.80.7-2.el7                                            vsmdeprepo                            4.7 M
 cryptsetup                                            x86_64                            1.6.6-3.el7                                               vsmdeprepo                            117 k
 cups-client                                           x86_64                            1:1.6.3-17.el7_1.1                                        vsmdeprepo                            148 k
 cups-libs                                             x86_64                            1:1.6.3-17.el7_1.1                                        vsmdeprepo                            354 k
 ed                                                    x86_64                            1.9-4.el7                                                 vsmdeprepo                             72 k
 expect                                                x86_64                            5.45-14.el7_1                                             vsmdeprepo                            262 k
 gdisk                                                 x86_64                            0.8.6-5.el7                                               vsmdeprepo                            187 k
 gperftools-libs                                       x86_64                            2.4-5.el7                                                 vsmdeprepo                            279 k
 hdparm                                                x86_64                            9.43-5.el7                                                vsmdeprepo                             83 k
 httpd                                                 x86_64                            2.4.6-31.el7.centos.1                                     vsmdeprepo                            2.7 M
 httpd-tools                                           x86_64                            2.4.6-31.el7.centos.1                                     vsmdeprepo                             79 k
 lapack                                                x86_64                            3.4.2-4.el7                                               vsmdeprepo                            5.4 M
 leveldb                                               x86_64                            1.12.0-5.el7                                              vsmdeprepo                            158 k
 libaio                                                x86_64                            0.3.109-12.el7                                            vsmdeprepo                             24 k
 libcephfs1                                            x86_64                            1:0.80.7-0.6.el7                                          vsmdeprepo                            1.6 M
 libgfortran                                           x86_64                            4.8.3-9.el7                                               vsmdeprepo                            290 k
 libicu                                                x86_64                            50.1.2-11.el7                                             vsmdeprepo                            6.9 M
 libquadmath                                           x86_64                            4.8.3-9.el7                                               vsmdeprepo                            179 k
 librados2                                             x86_64                            1:0.80.7-2.el7                                            vsmdeprepo                            1.5 M
 librbd1                                               x86_64                            1:0.80.7-2.el7                                            vsmdeprepo                            347 k
 libunwind                                             x86_64                            1.1-10.el7                                                vsmdeprepo                             63 k
 libxslt                                               x86_64                            1.1.28-5.el7                                              vsmdeprepo                            242 k
 m4                                                    x86_64                            1.4.16-9.el7                                              vsmdeprepo                            256 k
 mailcap                                               noarch                            2.1.41-2.el7                                              vsmdeprepo                             31 k
 mailx                                                 x86_64                            12.5-12.el7_0                                             vsmdeprepo                            244 k
 mod_ssl                                               x86_64                            1:2.4.6-31.el7.centos.1                                   vsmdeprepo                            100 k
 numpy                                                 x86_64                            1:1.7.1-10.el7                                            vsmdeprepo                            2.8 M
 psmisc                                                x86_64                            22.20-8.el7                                               vsmdeprepo                            140 k
 pyOpenSSL                                             x86_64                            0.13.1-3.el7                                              vsmdeprepo                            133 k
 python-amqp                                           noarch                            1.4.5-1.el7                                               vsmdeprepo                             82 k
 python-amqplib                                        noarch                            1.0.2-7.el7                                               vsmdeprepo                             70 k
 python-anyjson                                        noarch                            0.3.3-3.el7                                               vsmdeprepo                             13 k
 python-babel                                          noarch                            0.9.6-8.el7                                               vsmdeprepo                            1.4 M
 python-cephfs                                         x86_64                            1:0.80.7-0.6.el7                                          vsmdeprepo                             20 k
 python-chardet                                        noarch                            2.2.1-1.el7_1                                             vsmdeprepo                            227 k
 python-cinderclient                                   noarch                            1.1.1-1.el7.centos                                        vsmdeprepo                            170 k
 python-crypto                                         x86_64                            2.6.1-1.el7.centos                                        vsmdeprepo                            470 k
 python-ecdsa                                          noarch                            0.11-3.el7.centos                                         vsmdeprepo                             69 k
 python-eventlet                                       noarch                            0.15.2-1.el7                                              vsmdeprepo                            271 k
 python-flask                                          noarch                            1:0.10.1-4.el7                                            vsmdeprepo                            204 k
 python-greenlet                                       x86_64                            0.4.2-3.el7                                               vsmdeprepo                             26 k
 python-iso8601                                        noarch                            0.1.10-1.el7                                              vsmdeprepo                             18 k
 python-itsdangerous                                   noarch                            0.23-2.el7                                                vsmdeprepo                             24 k
 python-jinja2                                         noarch                            2.7.2-2.el7                                               vsmdeprepo                            515 k
 python-keyring                                        noarch                            5.0-1.el7                                                 vsmdeprepo                            116 k
 python-keystoneclient                                 noarch                            1:0.11.1-1.el7.centos                                     vsmdeprepo                            540 k
 python-kombu                                          noarch                            2.5.16-1.el7                                              vsmdeprepo                            352 k
 python-lockfile                                       noarch                            1:0.9.1-4.el7                                             vsmdeprepo                             28 k
 python-lxml                                           x86_64                            3.2.1-4.el7                                               vsmdeprepo                            758 k
 python-markupsafe                                     x86_64                            0.11-10.el7                                               vsmdeprepo                             25 k
 python-migrate                                        noarch                            0.9.2-2.el7                                               vsmdeprepo                            224 k
 python-netaddr                                        noarch                            0.7.5-7.el7                                               vsmdeprepo                            983 k
 python-nose                                           noarch                            1.3.0-2.el7                                               vsmdeprepo                            272 k
 python-novaclient                                     noarch                            1:2.20.0-1.el7.centos                                     vsmdeprepo                            287 k
 python-ordereddict                                    noarch                            1.1-6.el7                                                 vsmdeprepo                            8.2 k
 python-oslo-config                                    noarch                            2:1.4.0-1.el7.centos                                      vsmdeprepo                             63 k
 python-oslo-i18n                                      noarch                            1.0.0-1.el7.centos                                        vsmdeprepo                             28 k
 python-oslo-utils                                     noarch                            1.0.0-1.el7.centos                                        vsmdeprepo                             29 k
 python-paramiko                                       noarch                            1.15.1-1.el7                                              vsmdeprepo                            999 k
 python-paste                                          noarch                            1.7.5.1-9.20111221hg1498.el7                              vsmdeprepo                            866 k
 python-paste-deploy                                   noarch                            1.5.0-10.el7                                              vsmdeprepo                             45 k
 python-pbr                                            noarch                            0.10.0-1.el7                                              vsmdeprepo                            158 k
 python-pip                                            noarch                            7.1.0-1.el7                                               vsmdeprepo                            1.5 M
 python-prettytable                                    noarch                            0.7.2-2.el7.centos                                        vsmdeprepo                             37 k
 python-psutil                                         x86_64                            1.2.1-1.el7                                               vsmdeprepo                            107 k
 python-rados                                          x86_64                            1:0.80.7-2.el7                                            vsmdeprepo                             35 k
 python-rbd                                            x86_64                            1:0.80.7-2.el7                                            vsmdeprepo                             27 k
 python-repoze-lru                                     noarch                            0.4-3.el7                                                 vsmdeprepo                             13 k
 python-requests                                       noarch                            2.6.0-1.el7_1                                             vsmdeprepo                             94 k
 python-routes                                         noarch                            1.13-2.el7                                                vsmdeprepo                            640 k
 python-simplejson                                     x86_64                            3.3.3-1.el7                                               vsmdeprepo                            171 k
 python-six                                            noarch                            1.7.3-1.el7.centos                                        vsmdeprepo                             27 k
 python-sqlalchemy                                     x86_64                            0.9.8-1.el7                                               vsmdeprepo                            2.9 M
 python-sqlparse                                       noarch                            0.1.11-2.el7                                              vsmdeprepo                             69 k
 python-stevedore                                      noarch                            0.14-1.el7                                                vsmdeprepo                             46 k
 python-suds                                           noarch                            0.4.1-5.el7                                               vsmdeprepo                            204 k
 python-tempita                                        noarch                            0.5.1-6.el7                                               vsmdeprepo                             33 k
 python-urllib3                                        noarch                            1.10.2-2.el7_1                                            vsmdeprepo                            100 k
 python-webob                                          noarch                            1.2.3-6.el7                                               vsmdeprepo                            202 k
 python-werkzeug                                       noarch                            0.9.1-2.el7                                               vsmdeprepo                            562 k
 redhat-lsb-core                                       x86_64                            4.1-27.el7.centos.1                                       vsmdeprepo                             38 k
 redhat-lsb-submod-security                            x86_64                            4.1-27.el7.centos.1                                       vsmdeprepo                             15 k
 spax                                                  x86_64                            1.5.2-11.el7                                              vsmdeprepo                            259 k
 tcl                                                   x86_64                            1:8.5.13-4.el7                                            vsmdeprepo                            1.9 M
 time                                                  x86_64                            1.7-45.el7                                                vsmdeprepo                             30 k
Updating for dependencies:
 cryptsetup-libs                                       x86_64                            1.6.6-3.el7                                               vsmdeprepo                            179 k
 openssl                                               x86_64                            1:1.0.1e-42.el7.9                                         vsmdeprepo                            711 k
 openssl-libs                                          x86_64                            1:1.0.1e-42.el7.9                                         vsmdeprepo                            949 k

Transaction Summary
===============================================================================================================================================================================================
Install  2 Packages (+95 Dependent packages)
Upgrade             (  3 Dependent packages)

Total download size: 66 M
Downloading packages:
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                                                           62 MB/s |  66 MB  00:00:01
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : python-six-1.7.3-1.el7.centos.noarch                                                                                                                                      1/103
  Updating   : 1:openssl-libs-1.0.1e-42.el7.9.x86_64                                                                                                                                     2/103
  Installing : boost-system-1.53.0-23.el7.x86_64                                                                                                                                         3/103
  Installing : python-babel-0.9.6-8.el7.noarch                                                                                                                                           4/103
  Installing : boost-thread-1.53.0-23.el7.x86_64                                                                                                                                         5/103
  Installing : 1:librados2-0.80.7-2.el7.x86_64                                                                                                                                           6/103
  Installing : 1:python-rados-0.80.7-2.el7.x86_64                                                                                                                                        7/103
  Installing : python-iso8601-0.1.10-1.el7.noarch                                                                                                                                        8/103
  Installing : 1:librbd1-0.80.7-2.el7.x86_64                                                                                                                                             9/103
  Installing : python-tempita-0.5.1-6.el7.noarch                                                                                                                                        10/103
  Installing : apr-1.4.8-3.el7.x86_64                                                                                                                                                   11/103
  Installing : python-prettytable-0.7.2-2.el7.centos.noarch                                                                                                                             12/103
  Installing : python-stevedore-0.14-1.el7.noarch                                                                                                                                       13/103
  Installing : apr-util-1.5.2-6.el7.x86_64                                                                                                                                              14/103
  Installing : 1:python-rbd-0.80.7-2.el7.x86_64                                                                                                                                         15/103
  Installing : 1:libcephfs1-0.80.7-0.6.el7.x86_64                                                                                                                                       16/103
  Installing : python-webob-1.2.3-6.el7.noarch                                                                                                                                          17/103
  Installing : python-netaddr-0.7.5-7.el7.noarch                                                                                                                                        18/103
  Installing : 2:python-oslo-config-1.4.0-1.el7.centos.noarch                                                                                                                           19/103
  Installing : hdparm-9.43-5.el7.x86_64                                                                                                                                                 20/103
  Installing : python-greenlet-0.4.2-3.el7.x86_64                                                                                                                                       21/103
  Installing : libquadmath-4.8.3-9.el7.x86_64                                                                                                                                           22/103
  Installing : libgfortran-4.8.3-9.el7.x86_64                                                                                                                                           23/103
  Installing : python-anyjson-0.3.3-3.el7.noarch                                                                                                                                        24/103
  Installing : python-keyring-5.0-1.el7.noarch                                                                                                                                          25/103
  Installing : python-sqlalchemy-0.9.8-1.el7.x86_64                                                                                                                                     26/103
  Installing : python-simplejson-3.3.3-1.el7.x86_64                                                                                                                                     27/103
  Installing : atlas-3.10.1-7.el7.x86_64                                                                                                                                                28/103
  Installing : blas-3.4.2-4.el7.x86_64                                                                                                                                                  29/103
  Installing : lapack-3.4.2-4.el7.x86_64                                                                                                                                                30/103
  Installing : python-eventlet-0.15.2-1.el7.noarch                                                                                                                                      31/103
  Installing : 1:python-cephfs-0.80.7-0.6.el7.x86_64                                                                                                                                    32/103
  Installing : httpd-tools-2.4.6-31.el7.centos.1.x86_64                                                                                                                                 33/103
  Updating   : 1:openssl-1.0.1e-42.el7.9.x86_64                                                                                                                                         34/103
  Installing : pyOpenSSL-0.13.1-3.el7.x86_64                                                                                                                                            35/103
  Installing : python-paste-1.7.5.1-9.20111221hg1498.el7.noarch                                                                                                                         36/103
  Installing : python-paste-deploy-1.5.0-10.el7.noarch                                                                                                                                  37/103
  Installing : MySQL-python-1.2.3-11.el7.x86_64                                                                                                                                         38/103
  Installing : 1:cups-libs-1.6.3-17.el7_1.1.x86_64                                                                                                                                      39/103
  Installing : 1:cups-client-1.6.3-17.el7_1.1.x86_64                                                                                                                                    40/103
  Installing : python-ecdsa-0.11-3.el7.centos.noarch                                                                                                                                    41/103
  Installing : python-urllib3-1.10.2-2.el7_1.noarch                                                                                                                                     42/103
  Installing : python-chardet-2.2.1-1.el7_1.noarch                                                                                                                                      43/103
  Installing : python-requests-2.6.0-1.el7_1.noarch                                                                                                                                     44/103
  Installing : python-cinderclient-1.1.1-1.el7.centos.noarch                                                                                                                            45/103
  Installing : libxslt-1.1.28-5.el7.x86_64                                                                                                                                              46/103
  Installing : python-lxml-3.2.1-4.el7.x86_64                                                                                                                                           47/103
  Installing : 1:python-keystoneclient-0.11.1-1.el7.centos.noarch                                                                                                                       48/103
  Installing : python-oslo-i18n-1.0.0-1.el7.centos.noarch                                                                                                                               49/103
  Installing : python-oslo-utils-1.0.0-1.el7.centos.noarch                                                                                                                              50/103
  Installing : 1:python-novaclient-2.20.0-1.el7.centos.noarch                                                                                                                           51/103
  Updating   : cryptsetup-libs-1.6.6-3.el7.x86_64                                                                                                                                       52/103
  Installing : cryptsetup-1.6.6-3.el7.x86_64                                                                                                                                            53/103
  Installing : libaio-0.3.109-12.el7.x86_64                                                                                                                                             54/103
  Installing : libunwind-1.1-10.el7.x86_64                                                                                                                                              55/103
  Installing : gperftools-libs-2.4-5.el7.x86_64                                                                                                                                         56/103
  Installing : time-1.7-45.el7.x86_64                                                                                                                                                   57/103
  Installing : at-3.1.13-17.el7_0.1.x86_64                                                                                                                                              58/103
  Installing : python-suds-0.4.1-5.el7.noarch                                                                                                                                           59/103
  Installing : python-pip-7.1.0-1.el7.noarch                                                                                                                                            60/103
  Installing : python-pbr-0.10.0-1.el7.noarch                                                                                                                                           61/103
  Installing : python-amqplib-1.0.2-7.el7.noarch                                                                                                                                        62/103
  Installing : python-crypto-2.6.1-1.el7.centos.x86_64                                                                                                                                  63/103
  Installing : python-paramiko-1.15.1-1.el7.noarch                                                                                                                                      64/103
  Installing : python-amqp-1.4.5-1.el7.noarch                                                                                                                                           65/103
  Installing : python-kombu-2.5.16-1.el7.noarch                                                                                                                                         66/103
  Installing : bc-1.06.95-13.el7.x86_64                                                                                                                                                 67/103
  Installing : python-psutil-1.2.1-1.el7.x86_64                                                                                                                                         68/103
  Installing : m4-1.4.16-9.el7.x86_64                                                                                                                                                   69/103
  Installing : mailcap-2.1.41-2.el7.noarch                                                                                                                                              70/103
  Installing : httpd-2.4.6-31.el7.centos.1.x86_64                                                                                                                                       71/103
  Installing : 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64                                                                                                                                   72/103
  Installing : python-ordereddict-1.1-6.el7.noarch                                                                                                                                      73/103
  Installing : mailx-12.5-12.el7_0.x86_64                                                                                                                                               74/103
  Installing : ed-1.9-4.el7.x86_64                                                                                                                                                      75/103
  Installing : 1:tcl-8.5.13-4.el7.x86_64                                                                                                                                                76/103
  Installing : expect-5.45-14.el7_1.x86_64                                                                                                                                              77/103
  Installing : python-werkzeug-0.9.1-2.el7.noarch                                                                                                                                       78/103
  Installing : python-nose-1.3.0-2.el7.noarch                                                                                                                                           79/103
  Installing : 1:numpy-1.7.1-10.el7.x86_64                                                                                                                                              80/103
  Installing : leveldb-1.12.0-5.el7.x86_64                                                                                                                                              81/103
  Installing : python-sqlparse-0.1.11-2.el7.noarch                                                                                                                                      82/103
  Installing : python-migrate-0.9.2-2.el7.noarch                                                                                                                                        83/103
  Installing : redhat-lsb-submod-security-4.1-27.el7.centos.1.x86_64                                                                                                                    84/103
  Installing : 1:python-lockfile-0.9.1-4.el7.noarch                                                                                                                                     85/103
  Installing : libicu-50.1.2-11.el7.x86_64                                                                                                                                              86/103
  Installing : gdisk-0.8.6-5.el7.x86_64                                                                                                                                                 87/103
  Installing : python-repoze-lru-0.4-3.el7.noarch                                                                                                                                       88/103
  Installing : python-routes-1.13-2.el7.noarch                                                                                                                                          89/103
  Installing : spax-1.5.2-11.el7.x86_64                                                                                                                                                 90/103
  Installing : python-markupsafe-0.11-10.el7.x86_64                                                                                                                                     91/103
  Installing : python-jinja2-2.7.2-2.el7.noarch                                                                                                                                         92/103
  Installing : psmisc-22.20-8.el7.x86_64                                                                                                                                                93/103
  Installing : redhat-lsb-core-4.1-27.el7.centos.1.x86_64                                                                                                                               94/103
  Installing : 1:ceph-common-0.80.7-2.el7.x86_64                                                                                                                                        95/103
  Installing : python-itsdangerous-0.23-2.el7.noarch                                                                                                                                    96/103
  Installing : 1:python-flask-0.10.1-4.el7.noarch                                                                                                                                       97/103
  Installing : 1:ceph-0.80.7-0.6.el7.x86_64                                                                                                                                             98/103
  Installing : vsm-2.0.0-216.noarch                                                                                                                                                     99/103
  Installing : vsm-deploy-2.0.0-216.x86_64                                                                                                                                             100/103
  Cleanup    : 1:openssl-1.0.1e-34.el7_0.7.x86_64                                                                                                                                      101/103
  Cleanup    : 1:openssl-libs-1.0.1e-34.el7_0.7.x86_64                                                                                                                                 102/103
  Cleanup    : cryptsetup-libs-1.6.3-2.el7.x86_64                                                                                                                                      103/103
  Verifying  : lapack-3.4.2-4.el7.x86_64                                                                                                                                                 1/103
  Verifying  : 1:librbd1-0.80.7-2.el7.x86_64                                                                                                                                             2/103
  Verifying  : python-itsdangerous-0.23-2.el7.noarch                                                                                                                                     3/103
  Verifying  : python-lxml-3.2.1-4.el7.x86_64                                                                                                                                            4/103
  Verifying  : python-routes-1.13-2.el7.noarch                                                                                                                                           5/103
  Verifying  : python-six-1.7.3-1.el7.centos.noarch                                                                                                                                      6/103
  Verifying  : 1:ceph-0.80.7-0.6.el7.x86_64                                                                                                                                              7/103
  Verifying  : psmisc-22.20-8.el7.x86_64                                                                                                                                                 8/103
  Verifying  : python-simplejson-3.3.3-1.el7.x86_64                                                                                                                                      9/103
  Verifying  : python-iso8601-0.1.10-1.el7.noarch                                                                                                                                       10/103
  Verifying  : 1:numpy-1.7.1-10.el7.x86_64                                                                                                                                              11/103
  Verifying  : python-markupsafe-0.11-10.el7.x86_64                                                                                                                                     12/103
  Verifying  : spax-1.5.2-11.el7.x86_64                                                                                                                                                 13/103
  Verifying  : apr-util-1.5.2-6.el7.x86_64                                                                                                                                              14/103
  Verifying  : python-repoze-lru-0.4-3.el7.noarch                                                                                                                                       15/103
  Verifying  : vsm-deploy-2.0.0-216.x86_64                                                                                                                                              16/103
  Verifying  : libicu-50.1.2-11.el7.x86_64                                                                                                                                              17/103
  Verifying  : 2:python-oslo-config-1.4.0-1.el7.centos.noarch                                                                                                                           18/103
  Verifying  : 1:python-lockfile-0.9.1-4.el7.noarch                                                                                                                                     19/103
  Verifying  : python-sqlalchemy-0.9.8-1.el7.x86_64                                                                                                                                     20/103
  Verifying  : python-eventlet-0.15.2-1.el7.noarch                                                                                                                                      21/103
  Verifying  : python-cinderclient-1.1.1-1.el7.centos.noarch                                                                                                                            22/103
  Verifying  : 1:libcephfs1-0.80.7-0.6.el7.x86_64                                                                                                                                       23/103
  Verifying  : gperftools-libs-2.4-5.el7.x86_64                                                                                                                                         24/103
  Verifying  : python-jinja2-2.7.2-2.el7.noarch                                                                                                                                         25/103
  Verifying  : redhat-lsb-submod-security-4.1-27.el7.centos.1.x86_64                                                                                                                    26/103
  Verifying  : httpd-2.4.6-31.el7.centos.1.x86_64                                                                                                                                       27/103
  Verifying  : 1:librados2-0.80.7-2.el7.x86_64                                                                                                                                          28/103
  Verifying  : python-sqlparse-0.1.11-2.el7.noarch                                                                                                                                      29/103
  Verifying  : 1:python-rbd-0.80.7-2.el7.x86_64                                                                                                                                         30/103
  Verifying  : python-oslo-utils-1.0.0-1.el7.centos.noarch                                                                                                                              31/103
  Verifying  : python-babel-0.9.6-8.el7.noarch                                                                                                                                          32/103
  Verifying  : python-paste-1.7.5.1-9.20111221hg1498.el7.noarch                                                                                                                         33/103
  Verifying  : leveldb-1.12.0-5.el7.x86_64                                                                                                                                              34/103
  Verifying  : python-pbr-0.10.0-1.el7.noarch                                                                                                                                           35/103
  Verifying  : python-nose-1.3.0-2.el7.noarch                                                                                                                                           36/103
  Verifying  : python-werkzeug-0.9.1-2.el7.noarch                                                                                                                                       37/103
  Verifying  : 1:tcl-8.5.13-4.el7.x86_64                                                                                                                                                38/103
  Verifying  : python-keyring-5.0-1.el7.noarch                                                                                                                                          39/103
  Verifying  : python-stevedore-0.14-1.el7.noarch                                                                                                                                       40/103
  Verifying  : ed-1.9-4.el7.x86_64                                                                                                                                                      41/103
  Verifying  : redhat-lsb-core-4.1-27.el7.centos.1.x86_64                                                                                                                               42/103
  Verifying  : boost-thread-1.53.0-23.el7.x86_64                                                                                                                                        43/103
  Verifying  : mailx-12.5-12.el7_0.x86_64                                                                                                                                               44/103
  Verifying  : 1:openssl-1.0.1e-42.el7.9.x86_64                                                                                                                                         45/103
  Verifying  : 1:python-flask-0.10.1-4.el7.noarch                                                                                                                                       46/103
  Verifying  : python-ordereddict-1.1-6.el7.noarch                                                                                                                                      47/103
  Verifying  : mailcap-2.1.41-2.el7.noarch                                                                                                                                              48/103
  Verifying  : python-anyjson-0.3.3-3.el7.noarch                                                                                                                                        49/103
  Verifying  : python-prettytable-0.7.2-2.el7.centos.noarch                                                                                                                             50/103
  Verifying  : m4-1.4.16-9.el7.x86_64                                                                                                                                                   51/103
  Verifying  : libgfortran-4.8.3-9.el7.x86_64                                                                                                                                           52/103
  Verifying  : python-psutil-1.2.1-1.el7.x86_64                                                                                                                                         53/103
  Verifying  : bc-1.06.95-13.el7.x86_64                                                                                                                                                 54/103
  Verifying  : 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64                                                                                                                                   55/103
  Verifying  : python-ecdsa-0.11-3.el7.centos.noarch                                                                                                                                    56/103
  Verifying  : python-amqp-1.4.5-1.el7.noarch                                                                                                                                           57/103
  Verifying  : pyOpenSSL-0.13.1-3.el7.x86_64                                                                                                                                            58/103
  Verifying  : gdisk-0.8.6-5.el7.x86_64                                                                                                                                                 59/103
  Verifying  : 1:ceph-common-0.80.7-2.el7.x86_64                                                                                                                                        60/103
  Verifying  : python-crypto-2.6.1-1.el7.centos.x86_64                                                                                                                                  61/103
  Verifying  : boost-system-1.53.0-23.el7.x86_64                                                                                                                                        62/103
  Verifying  : python-amqplib-1.0.2-7.el7.noarch                                                                                                                                        63/103
  Verifying  : python-kombu-2.5.16-1.el7.noarch                                                                                                                                         64/103
  Verifying  : 1:python-rados-0.80.7-2.el7.x86_64                                                                                                                                       65/103
  Verifying  : 1:python-keystoneclient-0.11.1-1.el7.centos.noarch                                                                                                                       66/103
  Verifying  : atlas-3.10.1-7.el7.x86_64                                                                                                                                                67/103
  Verifying  : python-pip-7.1.0-1.el7.noarch                                                                                                                                            68/103
  Verifying  : python-suds-0.4.1-5.el7.noarch                                                                                                                                           69/103
  Verifying  : 1:openssl-libs-1.0.1e-42.el7.9.x86_64                                                                                                                                    70/103
  Verifying  : httpd-tools-2.4.6-31.el7.centos.1.x86_64                                                                                                                                 71/103
  Verifying  : at-3.1.13-17.el7_0.1.x86_64                                                                                                                                              72/103
  Verifying  : time-1.7-45.el7.x86_64                                                                                                                                                   73/103
  Verifying  : expect-5.45-14.el7_1.x86_64                                                                                                                                              74/103
  Verifying  : python-requests-2.6.0-1.el7_1.noarch                                                                                                                                     75/103
  Verifying  : libquadmath-4.8.3-9.el7.x86_64                                                                                                                                           76/103
  Verifying  : 1:python-novaclient-2.20.0-1.el7.centos.noarch                                                                                                                           77/103
  Verifying  : python-greenlet-0.4.2-3.el7.x86_64                                                                                                                                       78/103
  Verifying  : MySQL-python-1.2.3-11.el7.x86_64                                                                                                                                         79/103
  Verifying  : libunwind-1.1-10.el7.x86_64                                                                                                                                              80/103
  Verifying  : 1:cups-client-1.6.3-17.el7_1.1.x86_64                                                                                                                                    81/103
  Verifying  : libaio-0.3.109-12.el7.x86_64                                                                                                                                             82/103
  Verifying  : cryptsetup-1.6.6-3.el7.x86_64                                                                                                                                            83/103
  Verifying  : hdparm-9.43-5.el7.x86_64                                                                                                                                                 84/103
  Verifying  : apr-1.4.8-3.el7.x86_64                                                                                                                                                   85/103
  Verifying  : blas-3.4.2-4.el7.x86_64                                                                                                                                                  86/103
  Verifying  : vsm-2.0.0-216.noarch                                                                                                                                                     87/103
  Verifying  : cryptsetup-libs-1.6.6-3.el7.x86_64                                                                                                                                       88/103
  Verifying  : python-netaddr-0.7.5-7.el7.noarch                                                                                                                                        89/103
  Verifying  : 1:python-cephfs-0.80.7-0.6.el7.x86_64                                                                                                                                    90/103
  Verifying  : python-oslo-i18n-1.0.0-1.el7.centos.noarch                                                                                                                               91/103
  Verifying  : libxslt-1.1.28-5.el7.x86_64                                                                                                                                              92/103
  Verifying  : python-webob-1.2.3-6.el7.noarch                                                                                                                                          93/103
  Verifying  : 1:cups-libs-1.6.3-17.el7_1.1.x86_64                                                                                                                                      94/103
  Verifying  : python-paste-deploy-1.5.0-10.el7.noarch                                                                                                                                  95/103
  Verifying  : python-tempita-0.5.1-6.el7.noarch                                                                                                                                        96/103
  Verifying  : python-migrate-0.9.2-2.el7.noarch                                                                                                                                        97/103
  Verifying  : python-chardet-2.2.1-1.el7_1.noarch                                                                                                                                      98/103
  Verifying  : python-urllib3-1.10.2-2.el7_1.noarch                                                                                                                                     99/103
  Verifying  : python-paramiko-1.15.1-1.el7.noarch                                                                                                                                     100/103
  Verifying  : 1:openssl-libs-1.0.1e-34.el7_0.7.x86_64                                                                                                                                 101/103
  Verifying  : 1:openssl-1.0.1e-34.el7_0.7.x86_64                                                                                                                                      102/103
  Verifying  : cryptsetup-libs-1.6.3-2.el7.x86_64                                                                                                                                      103/103

Installed:
  vsm.noarch 0:2.0.0-216                                                                     vsm-deploy.x86_64 0:2.0.0-216

Dependency Installed:
  MySQL-python.x86_64 0:1.2.3-11.el7                             apr.x86_64 0:1.4.8-3.el7                                            apr-util.x86_64 0:1.5.2-6.el7
  at.x86_64 0:3.1.13-17.el7_0.1                                  atlas.x86_64 0:3.10.1-7.el7                                         bc.x86_64 0:1.06.95-13.el7
  blas.x86_64 0:3.4.2-4.el7                                      boost-system.x86_64 0:1.53.0-23.el7                                 boost-thread.x86_64 0:1.53.0-23.el7
  ceph.x86_64 1:0.80.7-0.6.el7                                   ceph-common.x86_64 1:0.80.7-2.el7                                   cryptsetup.x86_64 0:1.6.6-3.el7
  cups-client.x86_64 1:1.6.3-17.el7_1.1                          cups-libs.x86_64 1:1.6.3-17.el7_1.1                                 ed.x86_64 0:1.9-4.el7
  expect.x86_64 0:5.45-14.el7_1                                  gdisk.x86_64 0:0.8.6-5.el7                                          gperftools-libs.x86_64 0:2.4-5.el7
  hdparm.x86_64 0:9.43-5.el7                                     httpd.x86_64 0:2.4.6-31.el7.centos.1                                httpd-tools.x86_64 0:2.4.6-31.el7.centos.1
  lapack.x86_64 0:3.4.2-4.el7                                    leveldb.x86_64 0:1.12.0-5.el7                                       libaio.x86_64 0:0.3.109-12.el7
  libcephfs1.x86_64 1:0.80.7-0.6.el7                             libgfortran.x86_64 0:4.8.3-9.el7                                    libicu.x86_64 0:50.1.2-11.el7
  libquadmath.x86_64 0:4.8.3-9.el7                               librados2.x86_64 1:0.80.7-2.el7                                     librbd1.x86_64 1:0.80.7-2.el7
  libunwind.x86_64 0:1.1-10.el7                                  libxslt.x86_64 0:1.1.28-5.el7                                       m4.x86_64 0:1.4.16-9.el7
  mailcap.noarch 0:2.1.41-2.el7                                  mailx.x86_64 0:12.5-12.el7_0                                        mod_ssl.x86_64 1:2.4.6-31.el7.centos.1
  numpy.x86_64 1:1.7.1-10.el7                                    psmisc.x86_64 0:22.20-8.el7                                         pyOpenSSL.x86_64 0:0.13.1-3.el7
  python-amqp.noarch 0:1.4.5-1.el7                               python-amqplib.noarch 0:1.0.2-7.el7                                 python-anyjson.noarch 0:0.3.3-3.el7
  python-babel.noarch 0:0.9.6-8.el7                              python-cephfs.x86_64 1:0.80.7-0.6.el7                               python-chardet.noarch 0:2.2.1-1.el7_1
  python-cinderclient.noarch 0:1.1.1-1.el7.centos                python-crypto.x86_64 0:2.6.1-1.el7.centos                           python-ecdsa.noarch 0:0.11-3.el7.centos
  python-eventlet.noarch 0:0.15.2-1.el7                          python-flask.noarch 1:0.10.1-4.el7                                  python-greenlet.x86_64 0:0.4.2-3.el7
  python-iso8601.noarch 0:0.1.10-1.el7                           python-itsdangerous.noarch 0:0.23-2.el7                             python-jinja2.noarch 0:2.7.2-2.el7
  python-keyring.noarch 0:5.0-1.el7                              python-keystoneclient.noarch 1:0.11.1-1.el7.centos                  python-kombu.noarch 0:2.5.16-1.el7
  python-lockfile.noarch 1:0.9.1-4.el7                           python-lxml.x86_64 0:3.2.1-4.el7                                    python-markupsafe.x86_64 0:0.11-10.el7
  python-migrate.noarch 0:0.9.2-2.el7                            python-netaddr.noarch 0:0.7.5-7.el7                                 python-nose.noarch 0:1.3.0-2.el7
  python-novaclient.noarch 1:2.20.0-1.el7.centos                 python-ordereddict.noarch 0:1.1-6.el7                               python-oslo-config.noarch 2:1.4.0-1.el7.centos
  python-oslo-i18n.noarch 0:1.0.0-1.el7.centos                   python-oslo-utils.noarch 0:1.0.0-1.el7.centos                       python-paramiko.noarch 0:1.15.1-1.el7
  python-paste.noarch 0:1.7.5.1-9.20111221hg1498.el7             python-paste-deploy.noarch 0:1.5.0-10.el7                           python-pbr.noarch 0:0.10.0-1.el7
  python-pip.noarch 0:7.1.0-1.el7                                python-prettytable.noarch 0:0.7.2-2.el7.centos                      python-psutil.x86_64 0:1.2.1-1.el7
  python-rados.x86_64 1:0.80.7-2.el7                             python-rbd.x86_64 1:0.80.7-2.el7                                    python-repoze-lru.noarch 0:0.4-3.el7
  python-requests.noarch 0:2.6.0-1.el7_1                         python-routes.noarch 0:1.13-2.el7                                   python-simplejson.x86_64 0:3.3.3-1.el7
  python-six.noarch 0:1.7.3-1.el7.centos                         python-sqlalchemy.x86_64 0:0.9.8-1.el7                              python-sqlparse.noarch 0:0.1.11-2.el7
  python-stevedore.noarch 0:0.14-1.el7                           python-suds.noarch 0:0.4.1-5.el7                                    python-tempita.noarch 0:0.5.1-6.el7
  python-urllib3.noarch 0:1.10.2-2.el7_1                         python-webob.noarch 0:1.2.3-6.el7                                   python-werkzeug.noarch 0:0.9.1-2.el7
  redhat-lsb-core.x86_64 0:4.1-27.el7.centos.1                   redhat-lsb-submod-security.x86_64 0:4.1-27.el7.centos.1             spax.x86_64 0:1.5.2-11.el7
  tcl.x86_64 1:8.5.13-4.el7                                      time.x86_64 0:1.7-45.el7

Dependency Updated:
  cryptsetup-libs.x86_64 0:1.6.6-3.el7                            openssl.x86_64 1:1.0.1e-42.el7.9                            openssl-libs.x86_64 1:1.0.1e-42.el7.9

Complete!
Connection to 192.168.123.102 closed.
+ ssh -t cephuser@192.168.123.102 'sudo -E env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin preinstall agent'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Package 1:ceph-0.80.7-0.6.el7.x86_64 already installed and latest version
Package 1:librbd1-0.80.7-2.el7.x86_64 already installed and latest version
Package 1:python-keystoneclient-0.11.1-1.el7.centos.noarch already installed and latest version
Resolving Dependencies
--> Running transaction check
---> Package librbd1-devel.x86_64 1:0.80.7-2.el7 will be installed
--> Processing Dependency: librados2-devel = 1:0.80.7-2.el7 for package: 1:librbd1-devel-0.80.7-2.el7.x86_64
---> Package ntp.x86_64 0:4.2.6p5-19.el7.centos.3 will be installed
--> Processing Dependency: ntpdate = 4.2.6p5-19.el7.centos.3 for package: ntp-4.2.6p5-19.el7.centos.3.x86_64
--> Processing Dependency: libopts.so.25()(64bit) for package: ntp-4.2.6p5-19.el7.centos.3.x86_64
---> Package openssh-server.x86_64 0:6.4p1-8.el7 will be updated
---> Package openssh-server.x86_64 0:6.6.1p1-12.el7_1 will be an update
--> Processing Dependency: openssh = 6.6.1p1-12.el7_1 for package: openssh-server-6.6.1p1-12.el7_1.x86_64
---> Package openstack-utils.noarch 0:2014.2-1.el7.centos will be installed
--> Processing Dependency: crudini for package: openstack-utils-2014.2-1.el7.centos.noarch
---> Package python-devel.x86_64 0:2.7.5-18.el7_1.1 will be installed
--> Processing Dependency: python(x86-64) = 2.7.5-18.el7_1.1 for package: python-devel-2.7.5-18.el7_1.1.x86_64
---> Package rbd-fuse.x86_64 1:0.80.7-0.6.el7 will be installed
--> Processing Dependency: libfuse.so.2(FUSE_2.6)(64bit) for package: 1:rbd-fuse-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libfuse.so.2(FUSE_2.5)(64bit) for package: 1:rbd-fuse-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libfuse.so.2()(64bit) for package: 1:rbd-fuse-0.80.7-0.6.el7.x86_64
---> Package smartmontools.x86_64 1:6.2-4.el7 will be installed
--> Running transaction check
---> Package autogen-libopts.x86_64 0:5.18-5.el7 will be installed
---> Package crudini.noarch 0:0.7-1.el7 will be installed
---> Package fuse-libs.x86_64 0:2.9.2-5.el7 will be installed
---> Package librados2-devel.x86_64 1:0.80.7-2.el7 will be installed
---> Package ntpdate.x86_64 0:4.2.6p5-19.el7.centos.3 will be installed
---> Package openssh.x86_64 0:6.4p1-8.el7 will be updated
--> Processing Dependency: openssh = 6.4p1-8.el7 for package: openssh-clients-6.4p1-8.el7.x86_64
---> Package openssh.x86_64 0:6.6.1p1-12.el7_1 will be an update
---> Package python.x86_64 0:2.7.5-16.el7 will be updated
---> Package python.x86_64 0:2.7.5-18.el7_1.1 will be an update
--> Processing Dependency: python-libs(x86-64) = 2.7.5-18.el7_1.1 for package: python-2.7.5-18.el7_1.1.x86_64
--> Running transaction check
---> Package openssh-clients.x86_64 0:6.4p1-8.el7 will be updated
---> Package openssh-clients.x86_64 0:6.6.1p1-12.el7_1 will be an update
---> Package python-libs.x86_64 0:2.7.5-16.el7 will be updated
---> Package python-libs.x86_64 0:2.7.5-18.el7_1.1 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                        Arch                                  Version                                                  Repository                                 Size
===============================================================================================================================================================================================
Installing:
 librbd1-devel                                  x86_64                                1:0.80.7-2.el7                                           vsmdeprepo                                 19 k
 ntp                                            x86_64                                4.2.6p5-19.el7.centos.3                                  vsmdeprepo                                541 k
 openstack-utils                                noarch                                2014.2-1.el7.centos                                      vsmdeprepo                                 21 k
 python-devel                                   x86_64                                2.7.5-18.el7_1.1                                         vsmdeprepo                                389 k
 rbd-fuse                                       x86_64                                1:0.80.7-0.6.el7                                         vsmdeprepo                                 23 k
 smartmontools                                  x86_64                                1:6.2-4.el7                                              vsmdeprepo                                403 k
Updating:
 openssh-server                                 x86_64                                6.6.1p1-12.el7_1                                         vsmdeprepo                                432 k
Installing for dependencies:
 autogen-libopts                                x86_64                                5.18-5.el7                                               vsmdeprepo                                 66 k
 crudini                                        noarch                                0.7-1.el7                                                vsmdeprepo                                 23 k
 fuse-libs                                      x86_64                                2.9.2-5.el7                                              vsmdeprepo                                 93 k
 librados2-devel                                x86_64                                1:0.80.7-2.el7                                           vsmdeprepo                                 41 k
 ntpdate                                        x86_64                                4.2.6p5-19.el7.centos.3                                  vsmdeprepo                                 83 k
Updating for dependencies:
 openssh                                        x86_64                                6.6.1p1-12.el7_1                                         vsmdeprepo                                431 k
 openssh-clients                                x86_64                                6.6.1p1-12.el7_1                                         vsmdeprepo                                634 k
 python                                         x86_64                                2.7.5-18.el7_1.1                                         vsmdeprepo                                 86 k
 python-libs                                    x86_64                                2.7.5-18.el7_1.1                                         vsmdeprepo                                5.6 M

Transaction Summary
===============================================================================================================================================================================================
Install  6 Packages (+5 Dependent packages)
Upgrade  1 Package  (+4 Dependent packages)

Total download size: 8.8 M
Downloading packages:
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                                                           58 MB/s | 8.8 MB  00:00:00
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : openssh-6.6.1p1-12.el7_1.x86_64                                                                                                                                            1/21
  Updating   : python-libs-2.7.5-18.el7_1.1.x86_64                                                                                                                                        2/21
  Updating   : python-2.7.5-18.el7_1.1.x86_64                                                                                                                                             3/21
  Installing : crudini-0.7-1.el7.noarch                                                                                                                                                   4/21
  Installing : fuse-libs-2.9.2-5.el7.x86_64                                                                                                                                               5/21
  Installing : 1:librados2-devel-0.80.7-2.el7.x86_64                                                                                                                                      6/21
  Installing : ntpdate-4.2.6p5-19.el7.centos.3.x86_64                                                                                                                                     7/21
  Installing : autogen-libopts-5.18-5.el7.x86_64                                                                                                                                          8/21
  Installing : ntp-4.2.6p5-19.el7.centos.3.x86_64                                                                                                                                         9/21
  Installing : 1:librbd1-devel-0.80.7-2.el7.x86_64                                                                                                                                       10/21
  Installing : 1:rbd-fuse-0.80.7-0.6.el7.x86_64                                                                                                                                          11/21
  Installing : openstack-utils-2014.2-1.el7.centos.noarch                                                                                                                                12/21
  Installing : python-devel-2.7.5-18.el7_1.1.x86_64                                                                                                                                      13/21
  Updating   : openssh-clients-6.6.1p1-12.el7_1.x86_64                                                                                                                                   14/21
warning: /etc/ssh/ssh_config created as /etc/ssh/ssh_config.rpmnew
  Updating   : openssh-server-6.6.1p1-12.el7_1.x86_64                                                                                                                                    15/21
warning: /etc/ssh/sshd_config created as /etc/ssh/sshd_config.rpmnew
  Installing : 1:smartmontools-6.2-4.el7.x86_64                                                                                                                                          16/21
  Cleanup    : openssh-server-6.4p1-8.el7.x86_64                                                                                                                                         17/21
  Cleanup    : python-2.7.5-16.el7.x86_64                                                                                                                                                18/21
  Cleanup    : openssh-clients-6.4p1-8.el7.x86_64                                                                                                                                        19/21
  Cleanup    : openssh-6.4p1-8.el7.x86_64                                                                                                                                                20/21
  Cleanup    : python-libs-2.7.5-16.el7.x86_64                                                                                                                                           21/21
  Verifying  : 1:rbd-fuse-0.80.7-0.6.el7.x86_64                                                                                                                                           1/21
  Verifying  : openssh-clients-6.6.1p1-12.el7_1.x86_64                                                                                                                                    2/21
  Verifying  : python-devel-2.7.5-18.el7_1.1.x86_64                                                                                                                                       3/21
  Verifying  : openstack-utils-2014.2-1.el7.centos.noarch                                                                                                                                 4/21
  Verifying  : 1:smartmontools-6.2-4.el7.x86_64                                                                                                                                           5/21
  Verifying  : python-2.7.5-18.el7_1.1.x86_64                                                                                                                                             6/21
  Verifying  : autogen-libopts-5.18-5.el7.x86_64                                                                                                                                          7/21
  Verifying  : python-libs-2.7.5-18.el7_1.1.x86_64                                                                                                                                        8/21
  Verifying  : crudini-0.7-1.el7.noarch                                                                                                                                                   9/21
  Verifying  : ntpdate-4.2.6p5-19.el7.centos.3.x86_64                                                                                                                                    10/21
  Verifying  : 1:librbd1-devel-0.80.7-2.el7.x86_64                                                                                                                                       11/21
  Verifying  : openssh-server-6.6.1p1-12.el7_1.x86_64                                                                                                                                    12/21
  Verifying  : ntp-4.2.6p5-19.el7.centos.3.x86_64                                                                                                                                        13/21
  Verifying  : 1:librados2-devel-0.80.7-2.el7.x86_64                                                                                                                                     14/21
  Verifying  : fuse-libs-2.9.2-5.el7.x86_64                                                                                                                                              15/21
  Verifying  : openssh-6.6.1p1-12.el7_1.x86_64                                                                                                                                           16/21
  Verifying  : python-2.7.5-16.el7.x86_64                                                                                                                                                17/21
  Verifying  : python-libs-2.7.5-16.el7.x86_64                                                                                                                                           18/21
  Verifying  : openssh-server-6.4p1-8.el7.x86_64                                                                                                                                         19/21
  Verifying  : openssh-clients-6.4p1-8.el7.x86_64                                                                                                                                        20/21
  Verifying  : openssh-6.4p1-8.el7.x86_64                                                                                                                                                21/21

Installed:
  librbd1-devel.x86_64 1:0.80.7-2.el7         ntp.x86_64 0:4.2.6p5-19.el7.centos.3         openstack-utils.noarch 0:2014.2-1.el7.centos         python-devel.x86_64 0:2.7.5-18.el7_1.1
  rbd-fuse.x86_64 1:0.80.7-0.6.el7            smartmontools.x86_64 1:6.2-4.el7

Dependency Installed:
  autogen-libopts.x86_64 0:5.18-5.el7    crudini.noarch 0:0.7-1.el7    fuse-libs.x86_64 0:2.9.2-5.el7    librados2-devel.x86_64 1:0.80.7-2.el7    ntpdate.x86_64 0:4.2.6p5-19.el7.centos.3

Updated:
  openssh-server.x86_64 0:6.6.1p1-12.el7_1

Dependency Updated:
  openssh.x86_64 0:6.6.1p1-12.el7_1           openssh-clients.x86_64 0:6.6.1p1-12.el7_1           python.x86_64 0:2.7.5-18.el7_1.1           python-libs.x86_64 0:2.7.5-18.el7_1.1

Complete!
Connection to 192.168.123.102 closed.
+ setup_remote_agent 192.168.123.102
+ ssh -t cephuser@192.168.123.102 'sudo -E rm -rf /etc/manifest/server.manifest'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
++ cat ./.token
+ TOKEN=e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba
+ sudo -E sed -i '/^\[auth_key\]$/,/^\[.*\]/ s/^.*-.*$/e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba/' manifest/192.168.123.102/server.manifest
+ scp manifest/192.168.123.102/server.manifest cephuser@192.168.123.102:/tmp
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
server.manifest                                                                                                                                              100%  777     0.8KB/s   00:00
+ ssh -t cephuser@192.168.123.102 'sudo -E mv /tmp/server.manifest /etc/manifest'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ ssh -t cephuser@192.168.123.102 'sudo -E chown root:vsm /etc/manifest/server.manifest; sudo -E chmod 755 /etc/manifest/server.manifest'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
++ grep ERROR
++ wc -l
++ ssh -t cephuser@192.168.123.102 'env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin server_manifest'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ is_server_manifest_error=0
+ '[' 0 -gt 0 ']'
+ ssh -t cephuser@192.168.123.102 'sudo -E env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin vsm-node'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
+ cat
+ service sshd restart
Redirecting to /bin/systemctl restart  sshd.service
+++ dirname /usr/local/bin/vsm-node
++ cd /usr/local/bin
++ pwd
+ TOPDIR=/usr/local/bin
++ mktemp
+ TEMP=/tmp/tmp.iNH1hkwK9y
+ rm -rfv /tmp/tmp.iNH1hkwK9y
+ mkdir -p /tmp/tmp.iNH1hkwK9y
+ '[' 0 -gt 0 ']'
+ source /usr/local/bin/tools/lib/services
+ source /usr/local/bin/tools/lib/mysql
++ grep -v services
++ grep -v manifest
++ grep -v check
++ ls /usr/local/bin/tools/lib/
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/createrepo
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/dir
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/keystone
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/mysql
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/network
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/ntp
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/rabbitmq
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/repo
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/user
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/vsm
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/vsmdash
+ rm -rf /etc/vsm/api-paste.ini /etc/vsm/cache-tier.conf /etc/vsm/ceph.conf.template /etc/vsm/logging.conf /etc/vsm/policy.json /etc/vsm/prepools /etc/vsm/rootwrap.conf /etc/vsm/rootwrap.d /etc/vsm/vsm.conf
+ cp -rf /usr/local/bin/tools/etc/vsm/api-paste.ini /usr/local/bin/tools/etc/vsm/cache-tier.conf /usr/local/bin/tools/etc/vsm/ceph.conf.template /usr/local/bin/tools/etc/vsm/cluster.manifest /usr/local/bin/tools/etc/vsm/logging_sample.conf /usr/local/bin/tools/etc/vsm/policy.json /usr/local/bin/tools/etc/vsm/prepools /usr/local/bin/tools/etc/vsm/rootwrap.conf /usr/local/bin/tools/etc/vsm/rootwrap.d /usr/local/bin/tools/etc/vsm/server.manifest /usr/local/bin/tools/etc/vsm/vsm.conf.sample /etc/vsm/
+ mv /etc/vsm/vsm.conf.sample /etc/vsm/vsm.conf
+ /usr/bin/key
spawn ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /root/.ssh/id_rsa.
Your public key has been saved in /root/.ssh/id_rsa.pub.
The key fingerprint is:
e9:2e:c5:f4:e9:a4:48:c5:26:7c:fb:e6:5a:9b:fa:cc root@vsm-node2
The key's randomart image is:
+--[ RSA 2048]----+
|                 |
|                 |
|     . .         |
|      o *.       |
|       BSo .     |
|      ..+ +      |
|     . o.=.      |
|      o..++o     |
|       .+*E      |
+-----------------+
+ server_manifest
No handlers could be found for logger "vsm.utils"
{'cluster_ip': '192.168.123.100', 'zone': 'zone_one', 'auth_key': 'e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba', 'ip': '10.0.2.15,192.168.123.102', 'id_rsa_pub': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC4Po6K6EpqzGlq44gB4wusbfOQ+V0bt/V1eyqWK8fyq/0zBm/0AiXTtJY0BpwHshKS82aYJDdJWrZnmtNVA0i3B8+7t73YUGiNXodZ6XIV9zpgQIuojyraNk4xW3rdMDnpTfWf9hyTgE6rt88g+Aw0iJCXvujxdsBE7ow+0ifFuDiDnE76Lw9cytfThFc1ZBmQS7sMzMQO0wMEEO8eCf3AG3xNTw7IoikaNADAoTshrlMTKHfSxjXYUuRtAXpA2sVtSE1m9i6qOZQSKFkQqo4cc210ubVgfqCoGuTXZm6GRxuMpZ6QWnrFbizYpUahkqS2evbjfaaePXCCc+kRBOfP root@vsm-node2\n', 'host': 'vsm-node2', 'vsm_controller_ip': '192.168.123.100', 'role': 'monitor,storage,', 'controller_ip': '192.168.123.100'}
{
  "api-paste.ini": "#############\n# OpenStack #\n#############\n\n[composite:vsmapi_storage]\nuse = call:vsm.api:root_app_factory\n/: apiversions\n/v1: openstack_storage_api_v1\n\n[composite:openstack_storage_api_v1]\nuse = call:vsm.api.middleware.auth:pipeline_factory\nnoauth = faultwrap sizelimit noauth apiv1\nkeystone = faultwrap sizelimit authtoken keystonecontext apiv1\nkeystone_nolimit = faultwrap sizelimit authtoken keystonecontext apiv1\n\n[filter:faultwrap]\npaste.filter_factory = vsm.api.middleware.fault:FaultWrapper.factory\n\n[filter:noauth]\npaste.filter_factory = vsm.api.middleware.auth:NoAuthMiddleware.factory\n\n[filter:sizelimit]\npaste.filter_factory = vsm.api.middleware.sizelimit:RequestBodySizeLimiter.factory\n\n[app:apiv1]\npaste.app_factory = vsm.api.v1.router:APIRouter.factory\n\n[pipeline:apiversions]\npipeline = faultwrap osstorageversionapp\n\n[app:osstorageversionapp]\npaste.app_factory = vsm.api.versions:Versions.factory\n\n\n##########\n# Shared #\n##########\n\n[filter:keystonecontext]\npaste.filter_factory = vsm.api.middleware.auth:VsmKeystoneContext.factory\n\n[filter:authtoken]\npaste.filter_factory = keystoneclient.middleware.auth_token:filter_factory\n",
  "cache_tier_defaults": [
    {
      "default_value": "1",
      "name": "ct_hit_set_count",
      "value": "1"
    },
    {
      "default_value": "3600",
      "name": "ct_hit_set_period_s",
      "value": "3600"
    },
    {
      "default_value": "1000000",
      "name": "ct_target_max_mem_mb",
      "value": "1000000"
    },
    {
      "default_value": "0.4",
      "name": "ct_target_dirty_ratio",
      "value": 0.4
    },
    {
      "default_value": "0.8",
      "name": "ct_target_full_ratio",
      "value": 0.8
    },
    {
      "default_value": "1000000",
      "name": "ct_target_max_objects",
      "value": "1000000"
    },
    {
      "default_value": "10",
      "name": "ct_target_min_flush_age_m",
      "value": "10"
    },
    {
      "default_value": "20",
      "name": "ct_target_min_evict_age_m",
      "value": "20"
    }
  ],
  "cluster": {
    "ceph_conf": "",
    "ceph_public_network": "192.168.123.0/24",
    "cluster_addr": "192.168.123.0/24",
    "cluster_name": "cluster_a",
    "cluster_network": "192.168.123.0/24",
    "file_system": "xfs",
    "management_network": "192.168.123.0/24",
    "name": "cluster_a",
    "osd_heartbeat_grace": null,
    "osd_heartbeat_interval": null,
    "public_addr": "192.168.123.0/24",
    "secondary_public_addr": "192.168.123.0/24"
  },
  "ec_profiles": [
    {
      "name": "default_profile",
      "pg_num": "3",
      "plugin": "jerasure",
      "plugin_kv_pair": "{\"k\":2,\"m\":1,\"technique\":\"reed_sol_van\"}",
      "plugin_path": "/usr/lib64/ceph/erasure-code"
    }
  ],
  "etc_hosts": "127.0.0.1   vsm-controller localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n\n################ VSM host entry ######################\n\n192.168.123.100 vsm-controller\n192.168.123.101 vsm-node1\n192.168.123.102 vsm-node2\n192.168.123.103 vsm-node3\n\n\n######################################################\n\n",
  "ntp_keys": null,
  "openstack_ip": [],
  "settings": [
    {
      "default_value": "65",
      "name": "storage_group_near_full_threshold",
      "value": "65"
    },
    {
      "default_value": "85",
      "name": "storage_group_full_threshold",
      "value": "85"
    },
    {
      "default_value": "75",
      "name": "ceph_near_full_threshold",
      "value": "75"
    },
    {
      "default_value": "90",
      "name": "ceph_full_threshold",
      "value": "90"
    },
    {
      "default_value": "100",
      "name": "pg_count_factor",
      "value": "100"
    },
    {
      "default_value": "5",
      "name": "heartbeat_interval",
      "value": "5"
    },
    {
      "default_value": "10",
      "name": "osd_heartbeat_interval",
      "value": "10"
    },
    {
      "default_value": "10",
      "name": "osd_heartbeat_grace",
      "value": "10"
    },
    {
      "default_value": "75",
      "name": "disk_near_full_threshold",
      "value": "75"
    },
    {
      "default_value": "90",
      "name": "disk_full_threshold",
      "value": "90"
    },
    {
      "default_value": "3",
      "name": "osd_pool_default_size",
      "value": "3"
    }
  ],
  "storage_class": [
    "10krpm_sas",
    "7200_rpm_sata",
    "ssd"
  ],
  "storage_group": [
    {
      "friendly_name": "Performance_Disk",
      "name": "performance",
      "rule_id": 0,
      "storage_class": "10krpm_sas"
    },
    {
      "friendly_name": "Economy_Disk",
      "name": "capacity",
      "rule_id": 1,
      "storage_class": "7200_rpm_sata"
    },
    {
      "friendly_name": "High_Performance",
      "name": "high_performance",
      "rule_id": 2,
      "storage_class": "ssd"
    }
  ],
  "vsm.conf": "[DEFAULT]\nrabbit_password = 4f464a36cfe791ecde59\nrabbit_host = 192.168.123.100\nrabbit_port=5673\nstate_path = /opt/stack/data/vsm\nosapi_volume_extension = vsm.api.openstack.volume.contrib.standard_extensions\nrootwrap_config = /etc/vsm/rootwrap.conf\napi_paste_config = /etc/vsm/api-paste.ini\nsql_connection = mysql://vsm:d1daebe97c7580e2a091@192.168.123.100/vsm?charset=utf8\nverbose = True\nauth_strategy = keystone\n\n[keystone_authtoken]\nauth_uri = http://192.168.123.100:5000/v2.0\nidentity_uri = http://192.168.123.100:35357\nadmin_tenant_name = service\nadmin_user = vsm\nadmin_password = 90d438b695923decaf8a",
  "zone": [
    "zone_one"
  ]
}
section = vsm_controller_ip
section = role
section = auth_key
section = ssd
section = 7200_rpm_sata
section = 10krpm_sas
section = ssd_cached_7200rpm_sata
section = ssd_cached_10krpm_sas
['vsm_controller_ip', 'role', 'auth_key', '7200_rpm_sata']
[u'10krpm_sas', u'7200_rpm_sata', u'ssd', 'vsm_controller_ip', 'role', 'auth_key', 'zone']
[ssd_cached_7200rpm_sata]
sec 10krpm_sas has lines: []
[10krpm_sas]
sec 7200_rpm_sata has lines: ['/dev/sdb1 /dev/sdb2', '/dev/sdc1 /dev/sdc2', '/dev/sdd1 /dev/sdd2']
[7200_rpm_sata]
sec ssd has lines: []
['/dev/sdb1', '/dev/sdc1', '/dev/sdd1']
['/dev/sdb2', '/dev/sdc2', '/dev/sdd2']
['10.0.2.15', '192.168.123.102']
[u'192.168.123.0/24', u'192.168.123.0/24', u'192.168.123.0/24']
['10.0.2.15', '192.168.123.102']
[u'192.168.123.0/24', u'192.168.123.0/24', u'192.168.123.0/24']
Warning: There are some networks be the same.
Controller ip lan = [u'192.168.123.0/24', u'192.168.123.0/24', u'192.168.123.0/24']
[auth_key]
--------------------------------------
Check Success ~~
{
  "auth_key": "e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba",
  "cluster_ip": "192.168.123.100",
  "controller_ip": "192.168.123.100",
  "host": "vsm-node2",
  "id_rsa_pub": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC4Po6K6EpqzGlq44gB4wusbfOQ+V0bt/V1eyqWK8fyq/0zBm/0AiXTtJY0BpwHshKS82aYJDdJWrZnmtNVA0i3B8+7t73YUGiNXodZ6XIV9zpgQIuojyraNk4xW3rdMDnpTfWf9hyTgE6rt88g+Aw0iJCXvujxdsBE7ow+0ifFuDiDnE76Lw9cytfThFc1ZBmQS7sMzMQO0wMEEO8eCf3AG3xNTw7IoikaNADAoTshrlMTKHfSxjXYUuRtAXpA2sVtSE1m9i6qOZQSKFkQqo4cc210ubVgfqCoGuTXZm6GRxuMpZ6QWnrFbizYpUahkqS2evbjfaaePXCCc+kRBOfP root@vsm-node2\n",
  "ip": "10.0.2.15,192.168.123.102",
  "role": "monitor,storage,",
  "vsm_controller_ip": "192.168.123.100",
  "zone": "zone_one"
}
Check Success ~~
--------------------------------------
+ sed -i 's/\(^Defaults.*requiretty.*$\)/#\1/' /etc/sudoers
+ cp -rf /usr/local/bin/tools/etc/sudoers.d/vsm /etc/sudoers.d/
+ service vsm-agent restart
Restarting vsm-agent (via systemctl):                      [  OK  ]
+ chkconfig vsm-agent on
+ sed -i /exit/d /etc/rc.local
+ echo 'service vsm-agent restart'
+ echo 'service vsm-physical restart'
+ echo 'exit 0'
+ chmod +x /etc/vsm/prepools/main
+ echo ...
...
+ sleep 5
+ service vsm-physical restart
Restarting vsm-physical (via systemctl):                   [  OK  ]
+ chkconfig vsm-physical on
+ echo 'The End!'
The End!
+ set +o xtrace
Connection to 192.168.123.102 closed.
+ install_setup_diamond 192.168.123.102
+ kill_diamond 192.168.123.102
+ cat
+ scp kill_diamond.sh cephuser@192.168.123.102:/tmp
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
kill_diamond.sh                                                                                                                                              100%  154     0.2KB/s   00:00
+ ssh -t cephuser@192.168.123.102 'sudo -E chmod 755 /tmp/kill_diamond.sh;' 'cd /tmp;' './kill_diamond.sh;' 'sudo -E rm -rf kill_diamond'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ ssh -t cephuser@192.168.123.102 'sudo -E yum install -y diamond'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Resolving Dependencies
--> Running transaction check
---> Package diamond.noarch 0:4-0 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                       Arch                                         Version                                     Repository                                        Size
===============================================================================================================================================================================================
Installing:
 diamond                                       noarch                                       4-0                                         vsmdeprepo                                       403 k

Transaction Summary
===============================================================================================================================================================================================
Install  1 Package

Total download size: 403 k
Installed size: 1.5 M
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : diamond-4-0.noarch                                                                                                                                                          1/1
Adding and activating diamond service
  Verifying  : diamond-4-0.noarch                                                                                                                                                          1/1

Installed:
  diamond.noarch 0:4-0

Complete!
Connection to 192.168.123.102 closed.
+ DEPLOYRC_FILE=/etc/vsmdeploy/deployrc
+ [[ 1 -eq 0 ]]
+ source /etc/vsmdeploy/deployrc
++ STACK_USER=stack
++ REPO_HOST=192.168.123.100
++ VSM_HTTPS_PASSWORD=d8bc641984ebd4ec6c18
++ MYSQL_ROOT_PASSWORD=4bdef4f446d34469d273
++ MYSQL_HOST=192.168.123.100
++ RABBITMQ_HOST=192.168.123.100
++ RABBITMQ_USER=guest
++ RABBITMQ_PASSWORD=4f464a36cfe791ecde59
++ RABBITMQ_NODENAME=deploy_rabbitmq
++ RABBITMQ_PORT=5673
++ MYSQL_KEYSTONE_USER=keystone
++ MYSQL_KEYSTONE_PASSWORD=9178410ea75208991a3e
++ KEYSTONE_HOST=192.168.123.100
++ ADMIN_PASSWORD=638404a913cb18d6543d
++ ADMIN_TOKEN=4c6e4d205a80939e0e69
++ AGENT_PASSWORD=a0d9eca47d38df291271
++ VSM_HOST=192.168.123.100
++ MYSQL_VSM_USER=vsm
++ MYSQL_VSM_PASSWORD=d1daebe97c7580e2a091
++ KEYSTONE_VSM_SERVICE_PASSWORD=90d438b695923decaf8a
++ VSM_RUNNING_SERVICE=vsm-api,vsm-conductor,vsm-scheduler
++ DASHBOARD_HOST=192.168.123.100
++ MYSQL_DASHBOARD_USER=dashboard
++ MYSQL_DASHBOARD_PASSWORD=83e3104f2066577cc328
++ python -V
++ cut '-d ' -f2
++ cut -d. -f1,2
+ PY_VER=2.7
+ echo 'Python version: 2.7'
Python version: 2.7
+ VSMMYSQL_FILE_PATH=/usr/lib/python2.7/site-packages/vsm/diamond/handlers/vsmmysql.py
+ HANDLER_PATH=/usr/lib/python2.7/site-packages/diamond/handler
+ DIAMOND_CONFIG_PATH=/etc/diamond
+ ssh -t cephuser@192.168.123.102 'sudo -E cp /etc/diamond/diamond.conf.example /etc/diamond/diamond.conf;' 'sudo -E cp /usr/lib/python2.7/site-packages/vsm/diamond/handlers/vsmmysql.py /usr/lib/python2.7/site-packages/diamond/handler;' 'sudo -E sed -i "s/MySQLHandler/VSMMySQLHandler/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/^handlers = *.*ArchiveHandler$/handlers =  diamond.handler.vsmmysql.VSMMySQLHandler/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/host = graphite/host = 127.0.0.1/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/^hostname*=*.*/hostname    = 192.168.123.100/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/username    = root/username    = vsm/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/password*=*.*/password    = d1daebe97c7580e2a091/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/database    = diamond/database    = vsm/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/a\# VARCHAR(255) NOT NULL" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/acol_instance = instance" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/a\# VARCHAR(255) NOT NULL" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/acol_hostname    = hostname" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# And any other config settings from GraphiteHandler are valid here/i\[\[SignalfxHandler\]\]" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# And any other config settings from GraphiteHandler are valid here/iauth_token = abcdefghijklmnopqrstuvwxyz" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\# interval = 300/interval = 20/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/enabled = True/#enabled = True/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[DiskSpaceCollector\]\]/\#\[\[DiskSpaceCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[DiskUsageCollector\]\]/\#\[\[DiskUsageCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[LoadAverageCollector\]\]/\#\[\[LoadAverageCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[MemoryCollector\]\]/\#\[\[MemoryCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[VMStatCollector\]\]/\#\[\[VMStatCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/i\[\[CephCollector\]\]" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/ienabled = True" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/i\[\[NetworkCollector\]\]" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/ienabled = True" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/aenabled = True" /etc/diamond/diamond.conf;' 'sudo -E diamond'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ ssh -t cephuser@192.168.123.102 'cd /etc/yum.repos.d; if [[ -d /tmp/backup ]]; then sudo -E mv /tmp/backup/* .; sudo -E rm -rf /tmp/backup; fi'
Warning: Permanently added '192.168.123.102' (ECDSA) to the list of known hosts.
cephuser@192.168.123.102's password:
Connection to 192.168.123.102 closed.
+ for ip_or_hostname in '$AGENT_ADDRESS_LIST'
+ install_agent 192.168.123.103
++ wc -l
++ ls /etc/yum.repos.d
+ ssh -t cephuser@192.168.123.103 'cd /etc/yum.repos.d; if [[ 10 -gt 0 ]]; then sudo -E mkdir -p /tmp/backup; sudo -E mv * /tmp/backup; fi'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ check_manifest 192.168.123.103
+ [[ 192.168.123.103 == 192.168.123.100 ]]
+ [[ ! -d manifest/192.168.123.103 ]]
+ [[ ! -f manifest/192.168.123.103/server.manifest ]]
+ set_remote_repo 192.168.123.103
+ ssh -t cephuser@192.168.123.103 'sudo -E rm -rf /etc/yum.repos.d/vsm.repo /etc/yum.repos.d/vsm-dep.repo;         sudo -E rm -rf /opt/vsm-dep-repo /opt/vsmrepo'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ scp -r vsm-dep-repo/vsm-dep-repo cephuser@192.168.123.103:/tmp
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
apr-util-ldap-1.5.2-6.el7.x86_64.rpm                                                                                                                         100%   19KB  18.5KB/s   00:00
diamond-4-0.noarch.rpm                                                                                                                                       100%  403KB 403.5KB/s   00:01
openstack-keystone-2014.2.1-1.el7.centos.noarch.rpm                                                                                                          100%   43KB  43.3KB/s   00:00
openstack-utils-2014.2-1.el7.centos.noarch.rpm                                                                                                               100%   21KB  21.2KB/s   00:00
python-alembic-0.6.5-3.el7.centos.noarch.rpm                                                                                                                 100%  342KB 341.7KB/s   00:00
python-cinderclient-1.1.1-1.el7.centos.noarch.rpm                                                                                                            100%  170KB 169.6KB/s   00:00
python-django-horizon-2014.2.1-1.el7.centos.noarch.rpm                                                                                                       100%  405KB 404.8KB/s   00:00
python-django-openstack-auth-1.1.7-1.el7.centos.noarch.rpm                                                                                                   100%   47KB  46.5KB/s   00:00
python-flask-0.10.1-4.el7.noarch.rpm                                                                                                                         100%  204KB 203.9KB/s   00:00
python-greenlet-0.4.2-3.el7.x86_64.rpm                                                                                                                       100%   26KB  26.3KB/s   00:00
python-itsdangerous-0.23-2.el7.noarch.rpm                                                                                                                    100%   24KB  23.5KB/s   00:00
python-jinja2-2.7.2-2.el7.noarch.rpm                                                                                                                         100%  515KB 515.5KB/s   00:00
python-keystone-2014.2.1-1.el7.centos.noarch.rpm                                                                                                             100%  755KB 754.6KB/s   00:00
python-keystoneclient-0.11.1-1.el7.centos.noarch.rpm                                                                                                         100%  540KB 540.3KB/s   00:00
python-keystonemiddleware-1.2.0-1.el7.centos.noarch.rpm                                                                                                      100%   84KB  83.8KB/s   00:00
python-ldappool-1.0-4.el7.centos.noarch.rpm                                                                                                                  100%   18KB  18.0KB/s   00:00
python-novaclient-2.20.0-1.el7.centos.noarch.rpm                                                                                                             100%  287KB 286.6KB/s   00:00
python-oslo-config-1.4.0-1.el7.centos.noarch.rpm                                                                                                             100%   63KB  62.9KB/s   00:00
python-oslo-db-1.0.2-2.el7.centos.noarch.rpm                                                                                                                 100%   94KB  94.5KB/s   00:00
python-oslo-i18n-1.0.0-1.el7.centos.noarch.rpm                                                                                                               100%   28KB  27.6KB/s   00:00
python-oslo-messaging-1.4.0.0-4.el7.centos.noarch.rpm                                                                                                        100%  189KB 188.8KB/s   00:00
python-oslo-utils-1.0.0-1.el7.centos.noarch.rpm                                                                                                              100%   29KB  28.8KB/s   00:00
python-pycadf-0.6.0-2.el7.centos.noarch.rpm                                                                                                                  100%  103KB 102.8KB/s   00:00
python-six-1.7.3-1.el7.centos.noarch.rpm                                                                                                                     100%   27KB  27.0KB/s   00:00
python-webob-1.2.3-6.el7.noarch.rpm                                                                                                                          100%  202KB 201.5KB/s   00:00
python-werkzeug-0.9.1-2.el7.noarch.rpm                                                                                                                       100%  562KB 561.9KB/s   00:00
erlang-tools-R16B-03.11.el7.x86_64.rpm                                                                                                                       100%  565KB 564.6KB/s   00:00
8e1e41bc098b618cbcc5194fcbdff80f4301fb044dedf84e3892ee1e08669e35-other.sqlite.bz2                                                                            100%   82KB  82.3KB/s   00:00
451f55397fc33ae8f6e6ff9a0cda8595feb83694e6e5c1f3e275bca992756457-other.xml.gz                                                                                100%   67KB  66.9KB/s   00:00
2d3fef26df066a2fb7c45b233c8e8728229dd487dd07d22a3b895220d5a14acd-filelists.sqlite.bz2                                                                        100%  209KB 209.4KB/s   00:00
46cfa1cb741e6f7df7657c63fb987b15c7f48f28376fbb6c4cdfdf8cc6accfd3-filelists.xml.gz                                                                            100%  164KB 163.6KB/s   00:00
5895bf0b033c449469a349e894d468fc88a25dc2385ff8ec81cc10fbe95ef7aa-primary.sqlite.bz2                                                                          100%  139KB 139.2KB/s   00:00
7979d6b20fbd2bffe30f5b6fa003d8abd12e137a922d4b2f489a649edb4c59b2-primary.xml.gz                                                                              100%   74KB  74.1KB/s   00:00
repomd.xml                                                                                                                                                   100% 2992     2.9KB/s   00:00
apr-1.4.8-3.el7.x86_64.rpm                                                                                                                                   100%  103KB 103.1KB/s   00:00
apr-util-1.5.2-6.el7.x86_64.rpm                                                                                                                              100%   92KB  91.9KB/s   00:00
at-3.1.13-17.el7_0.1.x86_64.rpm                                                                                                                              100%   50KB  50.2KB/s   00:00
atlas-3.10.1-7.el7.x86_64.rpm                                                                                                                                100% 4589KB   4.5MB/s   00:00
autogen-libopts-5.18-5.el7.x86_64.rpm                                                                                                                        100%   66KB  66.0KB/s   00:00
bc-1.06.95-13.el7.x86_64.rpm                                                                                                                                 100%  115KB 114.5KB/s   00:00
blas-3.4.2-4.el7.x86_64.rpm                                                                                                                                  100%  398KB 398.2KB/s   00:00
boost-system-1.53.0-23.el7.x86_64.rpm                                                                                                                        100%   39KB  38.5KB/s   00:00
boost-thread-1.53.0-23.el7.x86_64.rpm                                                                                                                        100%   56KB  56.3KB/s   00:00
ceph-0.80.7-0.6.el7.x86_64.rpm                                                                                                                               100% 9592KB   9.4MB/s   00:01
ceph-common-0.80.7-2.el7.x86_64.rpm                                                                                                                          100% 4845KB   4.7MB/s   00:00
crudini-0.7-1.el7.noarch.rpm                                                                                                                                 100%   23KB  22.8KB/s   00:00
cryptsetup-1.6.6-3.el7.x86_64.rpm                                                                                                                            100%  117KB 117.0KB/s   00:00
cryptsetup-libs-1.6.6-3.el7.x86_64.rpm                                                                                                                       100%  179KB 179.4KB/s   00:00
cups-client-1.6.3-17.el7_1.1.x86_64.rpm                                                                                                                      100%  148KB 147.9KB/s   00:00
cups-libs-1.6.3-17.el7_1.1.x86_64.rpm                                                                                                                        100%  354KB 353.8KB/s   00:00
e2fsprogs-1.42.9-7.el7.x86_64.rpm                                                                                                                            100%  697KB 697.5KB/s   00:00
e2fsprogs-libs-1.42.9-7.el7.x86_64.rpm                                                                                                                       100%  165KB 165.5KB/s   00:00
ed-1.9-4.el7.x86_64.rpm                                                                                                                                      100%   72KB  71.7KB/s   00:00
erlang-asn1-R16B-03.11.el7.x86_64.rpm                                                                                                                        100%  757KB 757.2KB/s   00:00
erlang-compiler-R16B-03.11.el7.x86_64.rpm                                                                                                                    100% 1024KB   1.0MB/s   00:00
erlang-crypto-R16B-03.11.el7.x86_64.rpm                                                                                                                      100%   85KB  84.8KB/s   00:00
erlang-erts-R16B-03.11.el7.x86_64.rpm                                                                                                                        100% 2522KB   2.5MB/s   00:00
erlang-hipe-R16B-03.11.el7.x86_64.rpm                                                                                                                        100% 2507KB   2.5MB/s   00:00
erlang-inets-R16B-03.11.el7.x86_64.rpm                                                                                                                       100%  799KB 799.3KB/s   00:00
erlang-kernel-R16B-03.11.el7.x86_64.rpm                                                                                                                      100% 1095KB   1.1MB/s   00:00
erlang-mnesia-R16B-03.11.el7.x86_64.rpm                                                                                                                      100%  700KB 699.5KB/s   00:00
erlang-os_mon-R16B-03.11.el7.x86_64.rpm                                                                                                                      100%  114KB 113.7KB/s   00:00
erlang-otp_mibs-R16B-03.11.el7.x86_64.rpm                                                                                                                    100%   31KB  31.4KB/s   00:00
erlang-public_key-R16B-03.11.el7.x86_64.rpm                                                                                                                  100%  537KB 536.9KB/s   00:00
erlang-runtime_tools-R16B-03.11.el7.x86_64.rpm                                                                                                               100%  178KB 178.4KB/s   00:00
erlang-sasl-R16B-03.11.el7.x86_64.rpm                                                                                                                        100%  292KB 292.5KB/s   00:00
erlang-sd_notify-0.1-1.el7.x86_64.rpm                                                                                                                        100% 9329     9.1KB/s   00:00
erlang-snmp-R16B-03.11.el7.x86_64.rpm                                                                                                                        100% 1580KB   1.5MB/s   00:00
erlang-ssl-R16B-03.11.el7.x86_64.rpm                                                                                                                         100%  587KB 586.7KB/s   00:01
erlang-stdlib-R16B-03.11.el7.x86_64.rpm                                                                                                                      100% 2270KB   2.2MB/s   00:00
erlang-syntax_tools-R16B-03.11.el7.x86_64.rpm                                                                                                                100%  336KB 335.6KB/s   00:00
erlang-xmerl-R16B-03.11.el7.x86_64.rpm                                                                                                                       100%  997KB 996.8KB/s   00:00
expect-5.45-14.el7_1.x86_64.rpm                                                                                                                              100%  262KB 262.4KB/s   00:00
fuse-libs-2.9.2-5.el7.x86_64.rpm                                                                                                                             100%   93KB  92.6KB/s   00:00
gdisk-0.8.6-5.el7.x86_64.rpm                                                                                                                                 100%  187KB 186.9KB/s   00:00
gperftools-libs-2.4-5.el7.x86_64.rpm                                                                                                                         100%  279KB 278.7KB/s   00:00
hdparm-9.43-5.el7.x86_64.rpm                                                                                                                                 100%   83KB  83.4KB/s   00:00
httpd-2.4.6-31.el7.centos.1.x86_64.rpm                                                                                                                       100% 2754KB   2.7MB/s   00:00
httpd-tools-2.4.6-31.el7.centos.1.x86_64.rpm                                                                                                                 100%   79KB  79.3KB/s   00:00
keyutils-libs-devel-1.5.8-3.el7.x86_64.rpm                                                                                                                   100%   37KB  37.3KB/s   00:00
krb5-devel-1.12.2-15.el7_1.x86_64.rpm                                                                                                                        100%  641KB 640.6KB/s   00:00
krb5-libs-1.12.2-15.el7_1.x86_64.rpm                                                                                                                         100%  826KB 825.9KB/s   00:00
lapack-3.4.2-4.el7.x86_64.rpm                                                                                                                                100% 5511KB   5.4MB/s   00:01
leveldb-1.12.0-5.el7.x86_64.rpm                                                                                                                              100%  158KB 158.3KB/s   00:00
libaio-0.3.109-12.el7.x86_64.rpm                                                                                                                             100%   24KB  23.8KB/s   00:00
libcephfs1-0.80.7-0.6.el7.x86_64.rpm                                                                                                                         100% 1624KB   1.6MB/s   00:00
libcom_err-1.42.9-7.el7.x86_64.rpm                                                                                                                           100%   40KB  39.9KB/s   00:00
libcom_err-devel-1.42.9-7.el7.x86_64.rpm                                                                                                                     100%   30KB  30.1KB/s   00:00
libevent-2.0.21-4.el7.x86_64.rpm                                                                                                                             100%  214KB 213.9KB/s   00:00
libgfortran-4.8.3-9.el7.x86_64.rpm                                                                                                                           100%  290KB 289.8KB/s   00:00
libicu-50.1.2-11.el7.x86_64.rpm                                                                                                                              100% 7034KB   6.9MB/s   00:00
libquadmath-4.8.3-9.el7.x86_64.rpm                                                                                                                           100%  179KB 179.1KB/s   00:00
librados2-0.80.7-2.el7.x86_64.rpm                                                                                                                            100% 1540KB   1.5MB/s   00:00
librados2-devel-0.80.7-2.el7.x86_64.rpm                                                                                                                      100%   41KB  41.5KB/s   00:00
librbd1-0.80.7-2.el7.x86_64.rpm                                                                                                                              100%  347KB 346.6KB/s   00:00
librbd1-devel-0.80.7-2.el7.x86_64.rpm                                                                                                                        100%   19KB  19.5KB/s   00:00
libselinux-devel-2.2.2-6.el7.x86_64.rpm                                                                                                                      100%  174KB 174.4KB/s   00:00
libsepol-devel-2.1.9-3.el7.x86_64.rpm                                                                                                                        100%   71KB  70.6KB/s   00:01
libss-1.42.9-7.el7.x86_64.rpm                                                                                                                                100%   45KB  44.5KB/s   00:00
libunwind-1.1-10.el7.x86_64.rpm                                                                                                                              100%   63KB  62.6KB/s   00:00
libverto-devel-0.2.5-4.el7.x86_64.rpm                                                                                                                        100%   12KB  11.5KB/s   00:00
libxslt-1.1.28-5.el7.x86_64.rpm                                                                                                                              100%  242KB 241.7KB/s   00:00
libyaml-0.1.4-11.el7_0.x86_64.rpm                                                                                                                            100%   55KB  54.8KB/s   00:00
lksctp-tools-1.0.13-3.el7.x86_64.rpm                                                                                                                         100%   87KB  87.2KB/s   00:00
m4-1.4.16-9.el7.x86_64.rpm                                                                                                                                   100%  256KB 256.3KB/s   00:00
mailcap-2.1.41-2.el7.noarch.rpm                                                                                                                              100%   31KB  30.5KB/s   00:00
mailx-12.5-12.el7_0.x86_64.rpm                                                                                                                               100%  244KB 243.7KB/s   00:00
mariadb-5.5.44-1.el7_1.x86_64.rpm                                                                                                                            100% 9140KB   8.9MB/s   00:00
mariadb-devel-5.5.44-1.el7_1.x86_64.rpm                                                                                                                      100%  747KB 747.5KB/s   00:00
mariadb-libs-5.5.44-1.el7_1.x86_64.rpm                                                                                                                       100%  754KB 754.2KB/s   00:00
mariadb-server-5.5.44-1.el7_1.x86_64.rpm                                                                                                                     100%   11MB  10.7MB/s   00:01
memcached-1.4.15-9.el7.x86_64.rpm                                                                                                                            100%   84KB  83.9KB/s   00:00
mod_ssl-2.4.6-31.el7.centos.1.x86_64.rpm                                                                                                                     100%  100KB  99.6KB/s   00:00
mod_wsgi-3.4-12.el7_0.x86_64.rpm                                                                                                                             100%   76KB  76.1KB/s   00:00
MySQL-python-1.2.3-11.el7.x86_64.rpm                                                                                                                         100%   82KB  81.6KB/s   00:00
ntp-4.2.6p5-19.el7.centos.3.x86_64.rpm                                                                                                                       100%  541KB 540.8KB/s   00:00
ntpdate-4.2.6p5-19.el7.centos.3.x86_64.rpm                                                                                                                   100%   83KB  82.6KB/s   00:00
numpy-1.7.1-10.el7.x86_64.rpm                                                                                                                                100% 2888KB   2.8MB/s   00:00
openssh-6.6.1p1-12.el7_1.x86_64.rpm                                                                                                                          100%  431KB 431.4KB/s   00:00
openssh-clients-6.6.1p1-12.el7_1.x86_64.rpm                                                                                                                  100%  634KB 634.3KB/s   00:00
openssh-server-6.6.1p1-12.el7_1.x86_64.rpm                                                                                                                   100%  432KB 431.7KB/s   00:00
openssl-1.0.1e-42.el7.9.x86_64.rpm                                                                                                                           100%  711KB 710.7KB/s   00:01
openssl-devel-1.0.1e-42.el7.9.x86_64.rpm                                                                                                                     100% 1207KB   1.2MB/s   00:00
openssl-libs-1.0.1e-42.el7.9.x86_64.rpm                                                                                                                      100%  949KB 949.3KB/s   00:00
pcre-8.32-14.el7.x86_64.rpm                                                                                                                                  100%  418KB 417.7KB/s   00:00
pcre-devel-8.32-14.el7.x86_64.rpm                                                                                                                            100%  477KB 477.3KB/s   00:00
perl-Compress-Raw-Bzip2-2.061-3.el7.x86_64.rpm                                                                                                               100%   32KB  32.4KB/s   00:00
perl-Compress-Raw-Zlib-2.061-4.el7.x86_64.rpm                                                                                                                100%   57KB  57.4KB/s   00:00
perl-Data-Dumper-2.145-3.el7.x86_64.rpm                                                                                                                      100%   47KB  47.2KB/s   00:00
perl-DBD-MySQL-4.023-5.el7.x86_64.rpm                                                                                                                        100%  140KB 140.1KB/s   00:00
perl-DBI-1.627-4.el7.x86_64.rpm                                                                                                                              100%  802KB 801.9KB/s   00:00
perl-IO-Compress-2.061-2.el7.noarch.rpm                                                                                                                      100%  260KB 259.8KB/s   00:00
perl-Net-Daemon-0.48-5.el7.noarch.rpm                                                                                                                        100%   51KB  50.8KB/s   00:00
perl-PlRPC-0.2020-14.el7.noarch.rpm                                                                                                                          100%   36KB  35.7KB/s   00:00
psmisc-22.20-8.el7.x86_64.rpm                                                                                                                                100%  140KB 140.3KB/s   00:00
pyOpenSSL-0.13.1-3.el7.x86_64.rpm                                                                                                                            100%  133KB 133.2KB/s   00:00
PyPAM-0.5.0-19.el7.x86_64.rpm                                                                                                                                100%   25KB  25.1KB/s   00:00
pyparsing-1.5.6-9.el7.noarch.rpm                                                                                                                             100%   94KB  93.8KB/s   00:00
python-2.7.5-18.el7_1.1.x86_64.rpm                                                                                                                           100%   86KB  86.0KB/s   00:00
python-alembic-0.7.4-2.el7.noarch.rpm                                                                                                                        100%  488KB 488.1KB/s   00:00
python-amqp-1.4.5-1.el7.noarch.rpm                                                                                                                           100%   82KB  81.7KB/s   00:00
python-amqplib-1.0.2-7.el7.noarch.rpm                                                                                                                        100%   70KB  69.6KB/s   00:00
python-anyjson-0.3.3-3.el7.noarch.rpm                                                                                                                        100%   13KB  12.7KB/s   00:00
python-babel-0.9.6-8.el7.noarch.rpm                                                                                                                          100% 1393KB   1.4MB/s   00:00
python-beaker-1.5.4-10.el7.noarch.rpm                                                                                                                        100%   80KB  80.0KB/s   00:00
python-cephfs-0.80.7-0.6.el7.x86_64.rpm                                                                                                                      100%   20KB  19.7KB/s   00:00
python-chardet-2.2.1-1.el7_1.noarch.rpm                                                                                                                      100%  227KB 226.8KB/s   00:00
python-cliff-1.4.4-1.el7.noarch.rpm                                                                                                                          100%  129KB 128.7KB/s   00:00
python-cmd2-0.6.4-7.el7.noarch.rpm                                                                                                                           100%   40KB  39.9KB/s   00:00
python-crypto-2.6.1-1.el7.centos.x86_64.rpm                                                                                                                  100%  470KB 469.7KB/s   00:00
python-devel-2.7.5-18.el7_1.1.x86_64.rpm                                                                                                                     100%  389KB 388.8KB/s   00:00
python-django-1.6.11-3.el7.noarch.rpm                                                                                                                        100% 4058KB   4.0MB/s   00:00
python-django-appconf-0.6-1.el7.noarch.rpm                                                                                                                   100%   83KB  82.7KB/s   00:00
python-django-bash-completion-1.6.11-3.el7.noarch.rpm                                                                                                        100%   16KB  15.9KB/s   00:00
python-django-compressor-1.3-1.el7.noarch.rpm                                                                                                                100%  138KB 138.1KB/s   00:00
python-dogpile-cache-0.5.5-1.el7.noarch.rpm                                                                                                                  100%   58KB  58.0KB/s   00:00
python-dogpile-core-0.4.1-2.el7.noarch.rpm                                                                                                                   100%   20KB  19.8KB/s   00:00
python-ecdsa-0.11-3.el7.centos.noarch.rpm                                                                                                                    100%   69KB  68.9KB/s   00:00
python-eventlet-0.15.2-1.el7.noarch.rpm                                                                                                                      100%  271KB 270.5KB/s   00:00
python-httplib2-0.7.7-3.el7.noarch.rpm                                                                                                                       100%   70KB  70.3KB/s   00:00
python-iso8601-0.1.10-1.el7.noarch.rpm                                                                                                                       100%   18KB  17.8KB/s   00:00
python-jsonpatch-1.2-3.el7.centos.noarch.rpm                                                                                                                 100%   14KB  14.5KB/s   00:00
python-jsonpointer-1.0-2.el7.centos.noarch.rpm                                                                                                               100% 9408     9.2KB/s   00:00
python-jsonschema-2.3.0-1.el7.noarch.rpm                                                                                                                     100%   60KB  60.5KB/s   00:00
python-keyring-5.0-1.el7.noarch.rpm                                                                                                                          100%  116KB 115.6KB/s   00:00
python-kombu-2.5.16-1.el7.noarch.rpm                                                                                                                         100%  352KB 351.7KB/s   00:00
python-ldap-2.4.15-2.el7.x86_64.rpm                                                                                                                          100%  159KB 158.7KB/s   00:00
python-libs-2.7.5-18.el7_1.1.x86_64.rpm                                                                                                                      100% 5723KB   5.6MB/s   00:00
python-lockfile-0.9.1-4.el7.noarch.rpm                                                                                                                       100%   28KB  27.7KB/s   00:00
python-lxml-3.2.1-4.el7.x86_64.rpm                                                                                                                           100%  758KB 758.1KB/s   00:00
python-mako-0.8.1-2.el7.noarch.rpm                                                                                                                           100%  307KB 306.6KB/s   00:00
python-markupsafe-0.11-10.el7.x86_64.rpm                                                                                                                     100%   25KB  25.2KB/s   00:00
python-memcached-1.48-4.el7.noarch.rpm                                                                                                                       100%   33KB  33.5KB/s   00:00
python-migrate-0.9.2-2.el7.noarch.rpm                                                                                                                        100%  224KB 223.7KB/s   00:00
python-netaddr-0.7.5-7.el7.noarch.rpm                                                                                                                        100%  983KB 982.9KB/s   00:00
python-nose-1.3.0-2.el7.noarch.rpm                                                                                                                           100%  272KB 271.7KB/s   00:00
python-oauthlib-0.6.0-2.el7.noarch.rpm                                                                                                                       100%  113KB 113.4KB/s   00:00
python-ordereddict-1.1-6.el7.noarch.rpm                                                                                                                      100% 8432     8.2KB/s   00:00
python-paramiko-1.15.1-1.el7.noarch.rpm                                                                                                                      100%  999KB 998.6KB/s   00:00
python-passlib-1.6.2-2.el7.noarch.rpm                                                                                                                        100%  480KB 480.2KB/s   00:00
python-paste-1.7.5.1-9.20111221hg1498.el7.noarch.rpm                                                                                                         100%  866KB 866.1KB/s   00:00
python-paste-deploy-1.5.0-10.el7.noarch.rpm                                                                                                                  100%   45KB  45.2KB/s   00:00
python-pbr-0.10.0-1.el7.noarch.rpm                                                                                                                           100%  158KB 158.0KB/s   00:00
python-pip-7.1.0-1.el7.noarch.rpm                                                                                                                            100% 1557KB   1.5MB/s   00:00
python-posix_ipc-0.9.8-1.el7.x86_64.rpm                                                                                                                      100%   46KB  46.3KB/s   00:00
python-prettytable-0.7.2-2.el7.centos.noarch.rpm                                                                                                             100%   37KB  37.1KB/s   00:00
python-psutil-1.2.1-1.el7.x86_64.rpm                                                                                                                         100%  107KB 106.7KB/s   00:00
python-qpid-0.32-9.el7.noarch.rpm                                                                                                                            100%   84KB  84.3KB/s   00:00
python-qpid-common-0.32-9.el7.noarch.rpm                                                                                                                     100%  197KB 196.7KB/s   00:00
python-rados-0.80.7-2.el7.x86_64.rpm                                                                                                                         100%   35KB  35.3KB/s   00:00
python-rbd-0.80.7-2.el7.x86_64.rpm                                                                                                                           100%   27KB  27.2KB/s   00:00
python-repoze-lru-0.4-3.el7.noarch.rpm                                                                                                                       100%   13KB  12.7KB/s   00:00
python-requests-2.6.0-1.el7_1.noarch.rpm                                                                                                                     100%   94KB  93.6KB/s   00:00
python-routes-1.13-2.el7.noarch.rpm                                                                                                                          100%  640KB 640.0KB/s   00:00
python-saslwrapper-0.16-5.el7.x86_64.rpm                                                                                                                     100%   26KB  26.2KB/s   00:00
python-simplejson-3.3.3-1.el7.x86_64.rpm                                                                                                                     100%  171KB 171.3KB/s   00:00
python-sqlalchemy-0.9.8-1.el7.x86_64.rpm                                                                                                                     100% 3012KB   2.9MB/s   00:00
python-sqlparse-0.1.11-2.el7.noarch.rpm                                                                                                                      100%   69KB  69.3KB/s   00:00
python-stevedore-0.14-1.el7.noarch.rpm                                                                                                                       100%   46KB  46.4KB/s   00:00
python-suds-0.4.1-5.el7.noarch.rpm                                                                                                                           100%  204KB 203.6KB/s   00:00
python-tempita-0.5.1-6.el7.noarch.rpm                                                                                                                        100%   33KB  32.5KB/s   00:00
python-urllib3-1.10.2-2.el7_1.noarch.rpm                                                                                                                     100%  100KB  99.7KB/s   00:00
python-versiontools-1.9.1-4.el7.noarch.rpm                                                                                                                   100%   98KB  98.5KB/s   00:00
python-warlock-1.0.1-1.el7.noarch.rpm                                                                                                                        100%   15KB  14.5KB/s   00:00
pytz-2012d-5.el7.noarch.rpm                                                                                                                                  100%   38KB  38.2KB/s   00:00
PyYAML-3.10-11.el7.x86_64.rpm                                                                                                                                100%  153KB 153.3KB/s   00:00
rabbitmq-server-3.3.5-6.el7.noarch.rpm                                                                                                                       100% 4100KB   4.0MB/s   00:00
rbd-fuse-0.80.7-0.6.el7.x86_64.rpm                                                                                                                           100%   23KB  23.0KB/s   00:00
redhat-lsb-core-4.1-27.el7.centos.1.x86_64.rpm                                                                                                               100%   38KB  37.5KB/s   00:00
redhat-lsb-submod-security-4.1-27.el7.centos.1.x86_64.rpm                                                                                                    100%   15KB  15.3KB/s   00:00
saslwrapper-0.16-5.el7.x86_64.rpm                                                                                                                            100%   19KB  19.3KB/s   00:00
smartmontools-6.2-4.el7.x86_64.rpm                                                                                                                           100%  403KB 403.0KB/s   00:00
spax-1.5.2-11.el7.x86_64.rpm                                                                                                                                 100%  259KB 259.4KB/s   00:00
tcl-8.5.13-4.el7.x86_64.rpm                                                                                                                                  100% 1930KB   1.9MB/s   00:00
time-1.7-45.el7.x86_64.rpm                                                                                                                                   100%   30KB  30.3KB/s   00:00
zlib-devel-1.2.7-13.el7.x86_64.rpm                                                                                                                           100%   49KB  49.4KB/s   00:00
+ ssh -t cephuser@192.168.123.103 'sudo -E mv /tmp/vsm-dep-repo /opt'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ scp -r vsmrepo cephuser@192.168.123.103:/tmp
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
vsm-2.0.0-216.noarch.rpm                                                                                                                                     100% 2081KB   2.0MB/s   00:00
python-vsmclient-2.0.0-216.noarch.rpm                                                                                                                        100%  132KB 132.5KB/s   00:00
vsm-dashboard-2.0.0-216.noarch.rpm                                                                                                                           100% 2734KB   2.7MB/s   00:00
vsm-deploy-2.0.0-216.x86_64.rpm                                                                                                                              100%   61KB  61.3KB/s   00:00
bd96ee6679659d24c10e1739db27197d8c0136720688fe8d159490c4af3ae10c-other.sqlite.bz2                                                                            100%  870     0.9KB/s   00:00
984a2fac3bb4fd6816bf456a46db4bc6df3322157d8ec5e19fb684c1a53f4ec9-other.xml.gz                                                                                100%  395     0.4KB/s   00:00
e11485f50391c2fc232a2c61e79bafa465aae275a729275f231bccc414ff0655-filelists.sqlite.bz2                                                                        100%   16KB  16.5KB/s   00:00
ec75eba1fa450941bdbb53b0a578d2b1d9fdf623fc79e5f69bfef599448c3f71-filelists.xml.gz                                                                            100%   13KB  12.8KB/s   00:00
26116cc755003eaefdb5273de8660a9bc44bc0a020c73ebc2b82d8abd6cb15b6-primary.sqlite.bz2                                                                          100% 9786     9.6KB/s   00:00
91339e48a4d6d915f720921166685f75ada7e34c7b95da2ee06420d452ee4ddc-primary.xml.gz                                                                              100% 3225     3.2KB/s   00:00
repomd.xml                                                                                                                                                   100% 2973     2.9KB/s   00:00
+ ssh -t cephuser@192.168.123.103 'sudo -E mv /tmp/vsmrepo /opt'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ scp vsm.repo cephuser@192.168.123.103:/tmp
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
vsm.repo                                                                                                                                                     100%   85     0.1KB/s   00:00
+ ssh -t cephuser@192.168.123.103 'sudo -E mv /tmp/vsm.repo /etc/yum.repos.d'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ scp vsm-dep.repo cephuser@192.168.123.103:/tmp
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
vsm-dep.repo                                                                                                                                                 100%   96     0.1KB/s   00:00
+ ssh -t cephuser@192.168.123.103 'sudo -E mv /tmp/vsm-dep.repo /etc/yum.repos.d'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ ssh -t cephuser@192.168.123.103 'sudo -E yum makecache'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Loaded plugins: fastestmirror
vsmdeprepo                                                                                                                                                              | 2.9 kB  00:00:00
vsmrepo                                                                                                                                                                 | 2.9 kB  00:00:00
(1/6): vsmdeprepo/filelists_db                                                                                                                                          | 209 kB  00:00:00
(2/6): vsmdeprepo/other_db                                                                                                                                              |  82 kB  00:00:00
(3/6): vsmdeprepo/primary_db                                                                                                                                            | 139 kB  00:00:00
(4/6): vsmrepo/filelists_db                                                                                                                                             |  16 kB  00:00:00
(5/6): vsmrepo/other_db                                                                                                                                                 |  870 B  00:00:00
(6/6): vsmrepo/primary_db                                                                                                                                               | 9.6 kB  00:00:00
Loading mirror speeds from cached hostfile
Metadata Cache Created
Connection to 192.168.123.103 closed.
+ set_iptables_and_selinux 192.168.123.103
+ ssh -t cephuser@192.168.123.103 'sudo -E systemctl stop firewalld'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ ssh -t cephuser@192.168.123.103 'sudo -E systemctl disable firewalld'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
rm '/etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service'
rm '/etc/systemd/system/basic.target.wants/firewalld.service'
Connection to 192.168.123.103 closed.
+ ssh -t cephuser@192.168.123.103 'sudo -E sed -i "s/SELINUX=enforcing/SELINUX=disabled/g" /etc/selinux/config'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
++ sudo -E getenforce
+ ssh -t cephuser@192.168.123.103 'if [[ Disabled != "Disabled" ]]; then sudo -E setenforce 0; fi'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ ssh -t cephuser@192.168.123.103 'sudo -E yum install -y vsm vsm-deploy'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Resolving Dependencies
--> Running transaction check
---> Package vsm.noarch 0:2.0.0-216 will be installed
--> Processing Dependency: python-webob for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-tempita for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-suds for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-stevedore for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-sqlalchemy for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-routes for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-psutil for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-pbr for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-paste-deploy for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-paste for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-paramiko for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-oslo-config for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-ordereddict for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-novaclient for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-migrate for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-lxml for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-lockfile for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-kombu for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-keystoneclient for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-iso8601 for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-greenlet for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-eventlet for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-cinderclient for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-babel for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-anyjson for package: vsm-2.0.0-216.noarch
--> Processing Dependency: python-amqplib for package: vsm-2.0.0-216.noarch
--> Processing Dependency: numpy for package: vsm-2.0.0-216.noarch
--> Processing Dependency: mod_ssl for package: vsm-2.0.0-216.noarch
--> Processing Dependency: ceph for package: vsm-2.0.0-216.noarch
--> Processing Dependency: MySQL-python for package: vsm-2.0.0-216.noarch
--> Processing Dependency: /usr/bin/expect for package: vsm-2.0.0-216.noarch
---> Package vsm-deploy.x86_64 0:2.0.0-216 will be installed
--> Running transaction check
---> Package MySQL-python.x86_64 0:1.2.3-11.el7 will be installed
---> Package ceph.x86_64 1:0.80.7-0.6.el7 will be installed
--> Processing Dependency: python-rbd = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: python-rados = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: python-cephfs = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: librbd1 = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: librados2 = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libcephfs1 = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: ceph-common = 1:0.80.7 for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: redhat-lsb-core for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: python-requests for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: python-flask for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libaio.so.1(LIBAIO_0.4)(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libaio.so.1(LIBAIO_0.1)(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: hdparm for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: gdisk for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: cryptsetup for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libtcmalloc.so.4()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: librados.so.2()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libleveldb.so.1()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libcephfs.so.1()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libboost_thread-mt.so.1.53.0()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libboost_system-mt.so.1.53.0()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libaio.so.1()(64bit) for package: 1:ceph-0.80.7-0.6.el7.x86_64
---> Package expect.x86_64 0:5.45-14.el7_1 will be installed
--> Processing Dependency: libtcl8.5.so()(64bit) for package: expect-5.45-14.el7_1.x86_64
---> Package mod_ssl.x86_64 1:2.4.6-31.el7.centos.1 will be installed
--> Processing Dependency: httpd-mmn = 20120211x8664 for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: httpd = 2.4.6-31.el7.centos.1 for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: openssl-libs >= 1:1.0.1e-37 for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: httpd for package: 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64
---> Package numpy.x86_64 1:1.7.1-10.el7 will be installed
--> Processing Dependency: python-nose for package: 1:numpy-1.7.1-10.el7.x86_64
--> Processing Dependency: libtatlas.so.3()(64bit) for package: 1:numpy-1.7.1-10.el7.x86_64
--> Processing Dependency: libquadmath.so.0()(64bit) for package: 1:numpy-1.7.1-10.el7.x86_64
--> Processing Dependency: liblapack.so.3()(64bit) for package: 1:numpy-1.7.1-10.el7.x86_64
--> Processing Dependency: libgfortran.so.3()(64bit) for package: 1:numpy-1.7.1-10.el7.x86_64
---> Package python-amqplib.noarch 0:1.0.2-7.el7 will be installed
---> Package python-anyjson.noarch 0:0.3.3-3.el7 will be installed
---> Package python-babel.noarch 0:0.9.6-8.el7 will be installed
---> Package python-cinderclient.noarch 0:1.1.1-1.el7.centos will be installed
--> Processing Dependency: python-six for package: python-cinderclient-1.1.1-1.el7.centos.noarch
--> Processing Dependency: python-simplejson for package: python-cinderclient-1.1.1-1.el7.centos.noarch
--> Processing Dependency: python-prettytable for package: python-cinderclient-1.1.1-1.el7.centos.noarch
---> Package python-eventlet.noarch 0:0.15.2-1.el7 will be installed
---> Package python-greenlet.x86_64 0:0.4.2-3.el7 will be installed
---> Package python-iso8601.noarch 0:0.1.10-1.el7 will be installed
---> Package python-keystoneclient.noarch 1:0.11.1-1.el7.centos will be installed
--> Processing Dependency: python-netaddr for package: 1:python-keystoneclient-0.11.1-1.el7.centos.noarch
--> Processing Dependency: python-keyring for package: 1:python-keystoneclient-0.11.1-1.el7.centos.noarch
---> Package python-kombu.noarch 0:2.5.16-1.el7 will be installed
--> Processing Dependency: python-amqp for package: python-kombu-2.5.16-1.el7.noarch
---> Package python-lockfile.noarch 1:0.9.1-4.el7 will be installed
---> Package python-lxml.x86_64 0:3.2.1-4.el7 will be installed
--> Processing Dependency: libxslt.so.1(LIBXML2_1.1.9)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.1.26)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.1.2)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.24)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.22)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.18)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.11)(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libxslt.so.1()(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
--> Processing Dependency: libexslt.so.0()(64bit) for package: python-lxml-3.2.1-4.el7.x86_64
---> Package python-migrate.noarch 0:0.9.2-2.el7 will be installed
--> Processing Dependency: python-sqlparse for package: python-migrate-0.9.2-2.el7.noarch
---> Package python-novaclient.noarch 1:2.20.0-1.el7.centos will be installed
--> Processing Dependency: python-oslo-utils for package: 1:python-novaclient-2.20.0-1.el7.centos.noarch
---> Package python-ordereddict.noarch 0:1.1-6.el7 will be installed
---> Package python-oslo-config.noarch 2:1.4.0-1.el7.centos will be installed
---> Package python-paramiko.noarch 0:1.15.1-1.el7 will be installed
--> Processing Dependency: python-crypto >= 2.1 for package: python-paramiko-1.15.1-1.el7.noarch
--> Processing Dependency: python-ecdsa for package: python-paramiko-1.15.1-1.el7.noarch
---> Package python-paste.noarch 0:1.7.5.1-9.20111221hg1498.el7 will be installed
--> Processing Dependency: pyOpenSSL for package: python-paste-1.7.5.1-9.20111221hg1498.el7.noarch
---> Package python-paste-deploy.noarch 0:1.5.0-10.el7 will be installed
---> Package python-pbr.noarch 0:0.10.0-1.el7 will be installed
--> Processing Dependency: python-pip for package: python-pbr-0.10.0-1.el7.noarch
---> Package python-psutil.x86_64 0:1.2.1-1.el7 will be installed
---> Package python-routes.noarch 0:1.13-2.el7 will be installed
--> Processing Dependency: python-repoze-lru for package: python-routes-1.13-2.el7.noarch
---> Package python-sqlalchemy.x86_64 0:0.9.8-1.el7 will be installed
---> Package python-stevedore.noarch 0:0.14-1.el7 will be installed
---> Package python-suds.noarch 0:0.4.1-5.el7 will be installed
---> Package python-tempita.noarch 0:0.5.1-6.el7 will be installed
---> Package python-webob.noarch 0:1.2.3-6.el7 will be installed
--> Running transaction check
---> Package atlas.x86_64 0:3.10.1-7.el7 will be installed
---> Package boost-system.x86_64 0:1.53.0-23.el7 will be installed
---> Package boost-thread.x86_64 0:1.53.0-23.el7 will be installed
---> Package ceph-common.x86_64 1:0.80.7-2.el7 will be installed
---> Package cryptsetup.x86_64 0:1.6.6-3.el7 will be installed
--> Processing Dependency: cryptsetup-libs(x86-64) = 1.6.6-3.el7 for package: cryptsetup-1.6.6-3.el7.x86_64
---> Package gdisk.x86_64 0:0.8.6-5.el7 will be installed
--> Processing Dependency: libicuuc.so.50()(64bit) for package: gdisk-0.8.6-5.el7.x86_64
--> Processing Dependency: libicuio.so.50()(64bit) for package: gdisk-0.8.6-5.el7.x86_64
---> Package gperftools-libs.x86_64 0:2.4-5.el7 will be installed
--> Processing Dependency: libunwind.so.8()(64bit) for package: gperftools-libs-2.4-5.el7.x86_64
---> Package hdparm.x86_64 0:9.43-5.el7 will be installed
---> Package httpd.x86_64 0:2.4.6-31.el7.centos.1 will be installed
--> Processing Dependency: httpd-tools = 2.4.6-31.el7.centos.1 for package: httpd-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: /etc/mime.types for package: httpd-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: libaprutil-1.so.0()(64bit) for package: httpd-2.4.6-31.el7.centos.1.x86_64
--> Processing Dependency: libapr-1.so.0()(64bit) for package: httpd-2.4.6-31.el7.centos.1.x86_64
---> Package lapack.x86_64 0:3.4.2-4.el7 will be installed
--> Processing Dependency: libblas.so.3()(64bit) for package: lapack-3.4.2-4.el7.x86_64
---> Package leveldb.x86_64 0:1.12.0-5.el7 will be installed
---> Package libaio.x86_64 0:0.3.109-12.el7 will be installed
---> Package libcephfs1.x86_64 1:0.80.7-0.6.el7 will be installed
---> Package libgfortran.x86_64 0:4.8.3-9.el7 will be installed
---> Package libquadmath.x86_64 0:4.8.3-9.el7 will be installed
---> Package librados2.x86_64 1:0.80.7-2.el7 will be installed
---> Package librbd1.x86_64 1:0.80.7-2.el7 will be installed
---> Package libxslt.x86_64 0:1.1.28-5.el7 will be installed
---> Package openssl-libs.x86_64 1:1.0.1e-34.el7_0.7 will be updated
--> Processing Dependency: openssl-libs(x86-64) = 1:1.0.1e-34.el7_0.7 for package: 1:openssl-1.0.1e-34.el7_0.7.x86_64
---> Package openssl-libs.x86_64 1:1.0.1e-42.el7.9 will be an update
---> Package pyOpenSSL.x86_64 0:0.13.1-3.el7 will be installed
---> Package python-amqp.noarch 0:1.4.5-1.el7 will be installed
---> Package python-cephfs.x86_64 1:0.80.7-0.6.el7 will be installed
---> Package python-crypto.x86_64 0:2.6.1-1.el7.centos will be installed
---> Package python-ecdsa.noarch 0:0.11-3.el7.centos will be installed
---> Package python-flask.noarch 1:0.10.1-4.el7 will be installed
--> Processing Dependency: python-werkzeug for package: 1:python-flask-0.10.1-4.el7.noarch
--> Processing Dependency: python-jinja2 for package: 1:python-flask-0.10.1-4.el7.noarch
--> Processing Dependency: python-itsdangerous for package: 1:python-flask-0.10.1-4.el7.noarch
---> Package python-keyring.noarch 0:5.0-1.el7 will be installed
---> Package python-netaddr.noarch 0:0.7.5-7.el7 will be installed
---> Package python-nose.noarch 0:1.3.0-2.el7 will be installed
---> Package python-oslo-utils.noarch 0:1.0.0-1.el7.centos will be installed
--> Processing Dependency: python-oslo-i18n for package: python-oslo-utils-1.0.0-1.el7.centos.noarch
---> Package python-pip.noarch 0:7.1.0-1.el7 will be installed
---> Package python-prettytable.noarch 0:0.7.2-2.el7.centos will be installed
---> Package python-rados.x86_64 1:0.80.7-2.el7 will be installed
---> Package python-rbd.x86_64 1:0.80.7-2.el7 will be installed
---> Package python-repoze-lru.noarch 0:0.4-3.el7 will be installed
---> Package python-requests.noarch 0:2.6.0-1.el7_1 will be installed
--> Processing Dependency: python-urllib3 >= 1.10.2-1 for package: python-requests-2.6.0-1.el7_1.noarch
--> Processing Dependency: python-chardet >= 2.2.1-1 for package: python-requests-2.6.0-1.el7_1.noarch
---> Package python-simplejson.x86_64 0:3.3.3-1.el7 will be installed
---> Package python-six.noarch 0:1.7.3-1.el7.centos will be installed
---> Package python-sqlparse.noarch 0:0.1.11-2.el7 will be installed
---> Package redhat-lsb-core.x86_64 0:4.1-27.el7.centos.1 will be installed
--> Processing Dependency: redhat-lsb-submod-security(x86-64) = 4.1-27.el7.centos.1 for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: spax for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/sbin/fuser for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/time for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/m4 for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/lpr for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/lp for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/killall for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/bc for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/batch for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /usr/bin/at for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /bin/mailx for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
--> Processing Dependency: /bin/ed for package: redhat-lsb-core-4.1-27.el7.centos.1.x86_64
---> Package tcl.x86_64 1:8.5.13-4.el7 will be installed
--> Running transaction check
---> Package apr.x86_64 0:1.4.8-3.el7 will be installed
---> Package apr-util.x86_64 0:1.5.2-6.el7 will be installed
---> Package at.x86_64 0:3.1.13-17.el7_0.1 will be installed
---> Package bc.x86_64 0:1.06.95-13.el7 will be installed
---> Package blas.x86_64 0:3.4.2-4.el7 will be installed
---> Package cryptsetup-libs.x86_64 0:1.6.3-2.el7 will be updated
---> Package cryptsetup-libs.x86_64 0:1.6.6-3.el7 will be an update
---> Package cups-client.x86_64 1:1.6.3-17.el7_1.1 will be installed
--> Processing Dependency: cups-libs(x86-64) = 1:1.6.3-17.el7_1.1 for package: 1:cups-client-1.6.3-17.el7_1.1.x86_64
--> Processing Dependency: libcups.so.2()(64bit) for package: 1:cups-client-1.6.3-17.el7_1.1.x86_64
---> Package ed.x86_64 0:1.9-4.el7 will be installed
---> Package httpd-tools.x86_64 0:2.4.6-31.el7.centos.1 will be installed
---> Package libicu.x86_64 0:50.1.2-11.el7 will be installed
---> Package libunwind.x86_64 0:1.1-10.el7 will be installed
---> Package m4.x86_64 0:1.4.16-9.el7 will be installed
---> Package mailcap.noarch 0:2.1.41-2.el7 will be installed
---> Package mailx.x86_64 0:12.5-12.el7_0 will be installed
---> Package openssl.x86_64 1:1.0.1e-34.el7_0.7 will be updated
---> Package openssl.x86_64 1:1.0.1e-42.el7.9 will be an update
---> Package psmisc.x86_64 0:22.20-8.el7 will be installed
---> Package python-chardet.noarch 0:2.2.1-1.el7_1 will be installed
---> Package python-itsdangerous.noarch 0:0.23-2.el7 will be installed
---> Package python-jinja2.noarch 0:2.7.2-2.el7 will be installed
--> Processing Dependency: python-markupsafe for package: python-jinja2-2.7.2-2.el7.noarch
---> Package python-oslo-i18n.noarch 0:1.0.0-1.el7.centos will be installed
---> Package python-urllib3.noarch 0:1.10.2-2.el7_1 will be installed
---> Package python-werkzeug.noarch 0:0.9.1-2.el7 will be installed
---> Package redhat-lsb-submod-security.x86_64 0:4.1-27.el7.centos.1 will be installed
---> Package spax.x86_64 0:1.5.2-11.el7 will be installed
---> Package time.x86_64 0:1.7-45.el7 will be installed
--> Running transaction check
---> Package cups-libs.x86_64 1:1.6.3-17.el7_1.1 will be installed
---> Package python-markupsafe.x86_64 0:0.11-10.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                               Arch                              Version                                                   Repository                             Size
===============================================================================================================================================================================================
Installing:
 vsm                                                   noarch                            2.0.0-216                                                 vsmrepo                               2.0 M
 vsm-deploy                                            x86_64                            2.0.0-216                                                 vsmrepo                                61 k
Installing for dependencies:
 MySQL-python                                          x86_64                            1.2.3-11.el7                                              vsmdeprepo                             82 k
 apr                                                   x86_64                            1.4.8-3.el7                                               vsmdeprepo                            103 k
 apr-util                                              x86_64                            1.5.2-6.el7                                               vsmdeprepo                             92 k
 at                                                    x86_64                            3.1.13-17.el7_0.1                                         vsmdeprepo                             50 k
 atlas                                                 x86_64                            3.10.1-7.el7                                              vsmdeprepo                            4.5 M
 bc                                                    x86_64                            1.06.95-13.el7                                            vsmdeprepo                            115 k
 blas                                                  x86_64                            3.4.2-4.el7                                               vsmdeprepo                            398 k
 boost-system                                          x86_64                            1.53.0-23.el7                                             vsmdeprepo                             39 k
 boost-thread                                          x86_64                            1.53.0-23.el7                                             vsmdeprepo                             56 k
 ceph                                                  x86_64                            1:0.80.7-0.6.el7                                          vsmdeprepo                            9.4 M
 ceph-common                                           x86_64                            1:0.80.7-2.el7                                            vsmdeprepo                            4.7 M
 cryptsetup                                            x86_64                            1.6.6-3.el7                                               vsmdeprepo                            117 k
 cups-client                                           x86_64                            1:1.6.3-17.el7_1.1                                        vsmdeprepo                            148 k
 cups-libs                                             x86_64                            1:1.6.3-17.el7_1.1                                        vsmdeprepo                            354 k
 ed                                                    x86_64                            1.9-4.el7                                                 vsmdeprepo                             72 k
 expect                                                x86_64                            5.45-14.el7_1                                             vsmdeprepo                            262 k
 gdisk                                                 x86_64                            0.8.6-5.el7                                               vsmdeprepo                            187 k
 gperftools-libs                                       x86_64                            2.4-5.el7                                                 vsmdeprepo                            279 k
 hdparm                                                x86_64                            9.43-5.el7                                                vsmdeprepo                             83 k
 httpd                                                 x86_64                            2.4.6-31.el7.centos.1                                     vsmdeprepo                            2.7 M
 httpd-tools                                           x86_64                            2.4.6-31.el7.centos.1                                     vsmdeprepo                             79 k
 lapack                                                x86_64                            3.4.2-4.el7                                               vsmdeprepo                            5.4 M
 leveldb                                               x86_64                            1.12.0-5.el7                                              vsmdeprepo                            158 k
 libaio                                                x86_64                            0.3.109-12.el7                                            vsmdeprepo                             24 k
 libcephfs1                                            x86_64                            1:0.80.7-0.6.el7                                          vsmdeprepo                            1.6 M
 libgfortran                                           x86_64                            4.8.3-9.el7                                               vsmdeprepo                            290 k
 libicu                                                x86_64                            50.1.2-11.el7                                             vsmdeprepo                            6.9 M
 libquadmath                                           x86_64                            4.8.3-9.el7                                               vsmdeprepo                            179 k
 librados2                                             x86_64                            1:0.80.7-2.el7                                            vsmdeprepo                            1.5 M
 librbd1                                               x86_64                            1:0.80.7-2.el7                                            vsmdeprepo                            347 k
 libunwind                                             x86_64                            1.1-10.el7                                                vsmdeprepo                             63 k
 libxslt                                               x86_64                            1.1.28-5.el7                                              vsmdeprepo                            242 k
 m4                                                    x86_64                            1.4.16-9.el7                                              vsmdeprepo                            256 k
 mailcap                                               noarch                            2.1.41-2.el7                                              vsmdeprepo                             31 k
 mailx                                                 x86_64                            12.5-12.el7_0                                             vsmdeprepo                            244 k
 mod_ssl                                               x86_64                            1:2.4.6-31.el7.centos.1                                   vsmdeprepo                            100 k
 numpy                                                 x86_64                            1:1.7.1-10.el7                                            vsmdeprepo                            2.8 M
 psmisc                                                x86_64                            22.20-8.el7                                               vsmdeprepo                            140 k
 pyOpenSSL                                             x86_64                            0.13.1-3.el7                                              vsmdeprepo                            133 k
 python-amqp                                           noarch                            1.4.5-1.el7                                               vsmdeprepo                             82 k
 python-amqplib                                        noarch                            1.0.2-7.el7                                               vsmdeprepo                             70 k
 python-anyjson                                        noarch                            0.3.3-3.el7                                               vsmdeprepo                             13 k
 python-babel                                          noarch                            0.9.6-8.el7                                               vsmdeprepo                            1.4 M
 python-cephfs                                         x86_64                            1:0.80.7-0.6.el7                                          vsmdeprepo                             20 k
 python-chardet                                        noarch                            2.2.1-1.el7_1                                             vsmdeprepo                            227 k
 python-cinderclient                                   noarch                            1.1.1-1.el7.centos                                        vsmdeprepo                            170 k
 python-crypto                                         x86_64                            2.6.1-1.el7.centos                                        vsmdeprepo                            470 k
 python-ecdsa                                          noarch                            0.11-3.el7.centos                                         vsmdeprepo                             69 k
 python-eventlet                                       noarch                            0.15.2-1.el7                                              vsmdeprepo                            271 k
 python-flask                                          noarch                            1:0.10.1-4.el7                                            vsmdeprepo                            204 k
 python-greenlet                                       x86_64                            0.4.2-3.el7                                               vsmdeprepo                             26 k
 python-iso8601                                        noarch                            0.1.10-1.el7                                              vsmdeprepo                             18 k
 python-itsdangerous                                   noarch                            0.23-2.el7                                                vsmdeprepo                             24 k
 python-jinja2                                         noarch                            2.7.2-2.el7                                               vsmdeprepo                            515 k
 python-keyring                                        noarch                            5.0-1.el7                                                 vsmdeprepo                            116 k
 python-keystoneclient                                 noarch                            1:0.11.1-1.el7.centos                                     vsmdeprepo                            540 k
 python-kombu                                          noarch                            2.5.16-1.el7                                              vsmdeprepo                            352 k
 python-lockfile                                       noarch                            1:0.9.1-4.el7                                             vsmdeprepo                             28 k
 python-lxml                                           x86_64                            3.2.1-4.el7                                               vsmdeprepo                            758 k
 python-markupsafe                                     x86_64                            0.11-10.el7                                               vsmdeprepo                             25 k
 python-migrate                                        noarch                            0.9.2-2.el7                                               vsmdeprepo                            224 k
 python-netaddr                                        noarch                            0.7.5-7.el7                                               vsmdeprepo                            983 k
 python-nose                                           noarch                            1.3.0-2.el7                                               vsmdeprepo                            272 k
 python-novaclient                                     noarch                            1:2.20.0-1.el7.centos                                     vsmdeprepo                            287 k
 python-ordereddict                                    noarch                            1.1-6.el7                                                 vsmdeprepo                            8.2 k
 python-oslo-config                                    noarch                            2:1.4.0-1.el7.centos                                      vsmdeprepo                             63 k
 python-oslo-i18n                                      noarch                            1.0.0-1.el7.centos                                        vsmdeprepo                             28 k
 python-oslo-utils                                     noarch                            1.0.0-1.el7.centos                                        vsmdeprepo                             29 k
 python-paramiko                                       noarch                            1.15.1-1.el7                                              vsmdeprepo                            999 k
 python-paste                                          noarch                            1.7.5.1-9.20111221hg1498.el7                              vsmdeprepo                            866 k
 python-paste-deploy                                   noarch                            1.5.0-10.el7                                              vsmdeprepo                             45 k
 python-pbr                                            noarch                            0.10.0-1.el7                                              vsmdeprepo                            158 k
 python-pip                                            noarch                            7.1.0-1.el7                                               vsmdeprepo                            1.5 M
 python-prettytable                                    noarch                            0.7.2-2.el7.centos                                        vsmdeprepo                             37 k
 python-psutil                                         x86_64                            1.2.1-1.el7                                               vsmdeprepo                            107 k
 python-rados                                          x86_64                            1:0.80.7-2.el7                                            vsmdeprepo                             35 k
 python-rbd                                            x86_64                            1:0.80.7-2.el7                                            vsmdeprepo                             27 k
 python-repoze-lru                                     noarch                            0.4-3.el7                                                 vsmdeprepo                             13 k
 python-requests                                       noarch                            2.6.0-1.el7_1                                             vsmdeprepo                             94 k
 python-routes                                         noarch                            1.13-2.el7                                                vsmdeprepo                            640 k
 python-simplejson                                     x86_64                            3.3.3-1.el7                                               vsmdeprepo                            171 k
 python-six                                            noarch                            1.7.3-1.el7.centos                                        vsmdeprepo                             27 k
 python-sqlalchemy                                     x86_64                            0.9.8-1.el7                                               vsmdeprepo                            2.9 M
 python-sqlparse                                       noarch                            0.1.11-2.el7                                              vsmdeprepo                             69 k
 python-stevedore                                      noarch                            0.14-1.el7                                                vsmdeprepo                             46 k
 python-suds                                           noarch                            0.4.1-5.el7                                               vsmdeprepo                            204 k
 python-tempita                                        noarch                            0.5.1-6.el7                                               vsmdeprepo                             33 k
 python-urllib3                                        noarch                            1.10.2-2.el7_1                                            vsmdeprepo                            100 k
 python-webob                                          noarch                            1.2.3-6.el7                                               vsmdeprepo                            202 k
 python-werkzeug                                       noarch                            0.9.1-2.el7                                               vsmdeprepo                            562 k
 redhat-lsb-core                                       x86_64                            4.1-27.el7.centos.1                                       vsmdeprepo                             38 k
 redhat-lsb-submod-security                            x86_64                            4.1-27.el7.centos.1                                       vsmdeprepo                             15 k
 spax                                                  x86_64                            1.5.2-11.el7                                              vsmdeprepo                            259 k
 tcl                                                   x86_64                            1:8.5.13-4.el7                                            vsmdeprepo                            1.9 M
 time                                                  x86_64                            1.7-45.el7                                                vsmdeprepo                             30 k
Updating for dependencies:
 cryptsetup-libs                                       x86_64                            1.6.6-3.el7                                               vsmdeprepo                            179 k
 openssl                                               x86_64                            1:1.0.1e-42.el7.9                                         vsmdeprepo                            711 k
 openssl-libs                                          x86_64                            1:1.0.1e-42.el7.9                                         vsmdeprepo                            949 k

Transaction Summary
===============================================================================================================================================================================================
Install  2 Packages (+95 Dependent packages)
Upgrade             (  3 Dependent packages)

Total download size: 66 M
Downloading packages:
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                                                           58 MB/s |  66 MB  00:00:01
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : python-six-1.7.3-1.el7.centos.noarch                                                                                                                                      1/103
  Updating   : 1:openssl-libs-1.0.1e-42.el7.9.x86_64                                                                                                                                     2/103
  Installing : boost-system-1.53.0-23.el7.x86_64                                                                                                                                         3/103
  Installing : python-babel-0.9.6-8.el7.noarch                                                                                                                                           4/103
  Installing : boost-thread-1.53.0-23.el7.x86_64                                                                                                                                         5/103
  Installing : 1:librados2-0.80.7-2.el7.x86_64                                                                                                                                           6/103
  Installing : 1:python-rados-0.80.7-2.el7.x86_64                                                                                                                                        7/103
  Installing : python-iso8601-0.1.10-1.el7.noarch                                                                                                                                        8/103
  Installing : 1:librbd1-0.80.7-2.el7.x86_64                                                                                                                                             9/103
  Installing : python-tempita-0.5.1-6.el7.noarch                                                                                                                                        10/103
  Installing : apr-1.4.8-3.el7.x86_64                                                                                                                                                   11/103
  Installing : python-prettytable-0.7.2-2.el7.centos.noarch                                                                                                                             12/103
  Installing : python-stevedore-0.14-1.el7.noarch                                                                                                                                       13/103
  Installing : apr-util-1.5.2-6.el7.x86_64                                                                                                                                              14/103
  Installing : 1:python-rbd-0.80.7-2.el7.x86_64                                                                                                                                         15/103
  Installing : 1:libcephfs1-0.80.7-0.6.el7.x86_64                                                                                                                                       16/103
  Installing : python-webob-1.2.3-6.el7.noarch                                                                                                                                          17/103
  Installing : python-netaddr-0.7.5-7.el7.noarch                                                                                                                                        18/103
  Installing : 2:python-oslo-config-1.4.0-1.el7.centos.noarch                                                                                                                           19/103
  Installing : hdparm-9.43-5.el7.x86_64                                                                                                                                                 20/103
  Installing : python-greenlet-0.4.2-3.el7.x86_64                                                                                                                                       21/103
  Installing : libquadmath-4.8.3-9.el7.x86_64                                                                                                                                           22/103
  Installing : libgfortran-4.8.3-9.el7.x86_64                                                                                                                                           23/103
  Installing : python-anyjson-0.3.3-3.el7.noarch                                                                                                                                        24/103
  Installing : python-keyring-5.0-1.el7.noarch                                                                                                                                          25/103
  Installing : python-sqlalchemy-0.9.8-1.el7.x86_64                                                                                                                                     26/103
  Installing : python-simplejson-3.3.3-1.el7.x86_64                                                                                                                                     27/103
  Installing : atlas-3.10.1-7.el7.x86_64                                                                                                                                                28/103
  Installing : blas-3.4.2-4.el7.x86_64                                                                                                                                                  29/103
  Installing : lapack-3.4.2-4.el7.x86_64                                                                                                                                                30/103
  Installing : python-eventlet-0.15.2-1.el7.noarch                                                                                                                                      31/103
  Installing : 1:python-cephfs-0.80.7-0.6.el7.x86_64                                                                                                                                    32/103
  Installing : httpd-tools-2.4.6-31.el7.centos.1.x86_64                                                                                                                                 33/103
  Updating   : 1:openssl-1.0.1e-42.el7.9.x86_64                                                                                                                                         34/103
  Installing : pyOpenSSL-0.13.1-3.el7.x86_64                                                                                                                                            35/103
  Installing : python-paste-1.7.5.1-9.20111221hg1498.el7.noarch                                                                                                                         36/103
  Installing : python-paste-deploy-1.5.0-10.el7.noarch                                                                                                                                  37/103
  Installing : MySQL-python-1.2.3-11.el7.x86_64                                                                                                                                         38/103
  Installing : 1:cups-libs-1.6.3-17.el7_1.1.x86_64                                                                                                                                      39/103
  Installing : 1:cups-client-1.6.3-17.el7_1.1.x86_64                                                                                                                                    40/103
  Installing : python-ecdsa-0.11-3.el7.centos.noarch                                                                                                                                    41/103
  Installing : python-urllib3-1.10.2-2.el7_1.noarch                                                                                                                                     42/103
  Installing : python-chardet-2.2.1-1.el7_1.noarch                                                                                                                                      43/103
  Installing : python-requests-2.6.0-1.el7_1.noarch                                                                                                                                     44/103
  Installing : python-cinderclient-1.1.1-1.el7.centos.noarch                                                                                                                            45/103
  Installing : libxslt-1.1.28-5.el7.x86_64                                                                                                                                              46/103
  Installing : python-lxml-3.2.1-4.el7.x86_64                                                                                                                                           47/103
  Installing : 1:python-keystoneclient-0.11.1-1.el7.centos.noarch                                                                                                                       48/103
  Installing : python-oslo-i18n-1.0.0-1.el7.centos.noarch                                                                                                                               49/103
  Installing : python-oslo-utils-1.0.0-1.el7.centos.noarch                                                                                                                              50/103
  Installing : 1:python-novaclient-2.20.0-1.el7.centos.noarch                                                                                                                           51/103
  Updating   : cryptsetup-libs-1.6.6-3.el7.x86_64                                                                                                                                       52/103
  Installing : cryptsetup-1.6.6-3.el7.x86_64                                                                                                                                            53/103
  Installing : libaio-0.3.109-12.el7.x86_64                                                                                                                                             54/103
  Installing : libunwind-1.1-10.el7.x86_64                                                                                                                                              55/103
  Installing : gperftools-libs-2.4-5.el7.x86_64                                                                                                                                         56/103
  Installing : time-1.7-45.el7.x86_64                                                                                                                                                   57/103
  Installing : at-3.1.13-17.el7_0.1.x86_64                                                                                                                                              58/103
  Installing : python-suds-0.4.1-5.el7.noarch                                                                                                                                           59/103
  Installing : python-pip-7.1.0-1.el7.noarch                                                                                                                                            60/103
  Installing : python-pbr-0.10.0-1.el7.noarch                                                                                                                                           61/103
  Installing : python-amqplib-1.0.2-7.el7.noarch                                                                                                                                        62/103
  Installing : python-crypto-2.6.1-1.el7.centos.x86_64                                                                                                                                  63/103
  Installing : python-paramiko-1.15.1-1.el7.noarch                                                                                                                                      64/103
  Installing : python-amqp-1.4.5-1.el7.noarch                                                                                                                                           65/103
  Installing : python-kombu-2.5.16-1.el7.noarch                                                                                                                                         66/103
  Installing : bc-1.06.95-13.el7.x86_64                                                                                                                                                 67/103
  Installing : python-psutil-1.2.1-1.el7.x86_64                                                                                                                                         68/103
  Installing : m4-1.4.16-9.el7.x86_64                                                                                                                                                   69/103
  Installing : mailcap-2.1.41-2.el7.noarch                                                                                                                                              70/103
  Installing : httpd-2.4.6-31.el7.centos.1.x86_64                                                                                                                                       71/103
  Installing : 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64                                                                                                                                   72/103
  Installing : python-ordereddict-1.1-6.el7.noarch                                                                                                                                      73/103
  Installing : mailx-12.5-12.el7_0.x86_64                                                                                                                                               74/103
  Installing : ed-1.9-4.el7.x86_64                                                                                                                                                      75/103
  Installing : 1:tcl-8.5.13-4.el7.x86_64                                                                                                                                                76/103
  Installing : expect-5.45-14.el7_1.x86_64                                                                                                                                              77/103
  Installing : python-werkzeug-0.9.1-2.el7.noarch                                                                                                                                       78/103
  Installing : python-nose-1.3.0-2.el7.noarch                                                                                                                                           79/103
  Installing : 1:numpy-1.7.1-10.el7.x86_64                                                                                                                                              80/103
  Installing : leveldb-1.12.0-5.el7.x86_64                                                                                                                                              81/103
  Installing : python-sqlparse-0.1.11-2.el7.noarch                                                                                                                                      82/103
  Installing : python-migrate-0.9.2-2.el7.noarch                                                                                                                                        83/103
  Installing : redhat-lsb-submod-security-4.1-27.el7.centos.1.x86_64                                                                                                                    84/103
  Installing : 1:python-lockfile-0.9.1-4.el7.noarch                                                                                                                                     85/103
  Installing : libicu-50.1.2-11.el7.x86_64                                                                                                                                              86/103
  Installing : gdisk-0.8.6-5.el7.x86_64                                                                                                                                                 87/103
  Installing : python-repoze-lru-0.4-3.el7.noarch                                                                                                                                       88/103
  Installing : python-routes-1.13-2.el7.noarch                                                                                                                                          89/103
  Installing : spax-1.5.2-11.el7.x86_64                                                                                                                                                 90/103
  Installing : python-markupsafe-0.11-10.el7.x86_64                                                                                                                                     91/103
  Installing : python-jinja2-2.7.2-2.el7.noarch                                                                                                                                         92/103
  Installing : psmisc-22.20-8.el7.x86_64                                                                                                                                                93/103
  Installing : redhat-lsb-core-4.1-27.el7.centos.1.x86_64                                                                                                                               94/103
  Installing : 1:ceph-common-0.80.7-2.el7.x86_64                                                                                                                                        95/103
  Installing : python-itsdangerous-0.23-2.el7.noarch                                                                                                                                    96/103
  Installing : 1:python-flask-0.10.1-4.el7.noarch                                                                                                                                       97/103
  Installing : 1:ceph-0.80.7-0.6.el7.x86_64                                                                                                                                             98/103
  Installing : vsm-2.0.0-216.noarch                                                                                                                                                     99/103
  Installing : vsm-deploy-2.0.0-216.x86_64                                                                                                                                             100/103
  Cleanup    : 1:openssl-1.0.1e-34.el7_0.7.x86_64                                                                                                                                      101/103
  Cleanup    : 1:openssl-libs-1.0.1e-34.el7_0.7.x86_64                                                                                                                                 102/103
  Cleanup    : cryptsetup-libs-1.6.3-2.el7.x86_64                                                                                                                                      103/103
  Verifying  : lapack-3.4.2-4.el7.x86_64                                                                                                                                                 1/103
  Verifying  : 1:librbd1-0.80.7-2.el7.x86_64                                                                                                                                             2/103
  Verifying  : python-itsdangerous-0.23-2.el7.noarch                                                                                                                                     3/103
  Verifying  : python-lxml-3.2.1-4.el7.x86_64                                                                                                                                            4/103
  Verifying  : python-routes-1.13-2.el7.noarch                                                                                                                                           5/103
  Verifying  : python-six-1.7.3-1.el7.centos.noarch                                                                                                                                      6/103
  Verifying  : 1:ceph-0.80.7-0.6.el7.x86_64                                                                                                                                              7/103
  Verifying  : psmisc-22.20-8.el7.x86_64                                                                                                                                                 8/103
  Verifying  : python-simplejson-3.3.3-1.el7.x86_64                                                                                                                                      9/103
  Verifying  : python-iso8601-0.1.10-1.el7.noarch                                                                                                                                       10/103
  Verifying  : 1:numpy-1.7.1-10.el7.x86_64                                                                                                                                              11/103
  Verifying  : python-markupsafe-0.11-10.el7.x86_64                                                                                                                                     12/103
  Verifying  : spax-1.5.2-11.el7.x86_64                                                                                                                                                 13/103
  Verifying  : apr-util-1.5.2-6.el7.x86_64                                                                                                                                              14/103
  Verifying  : python-repoze-lru-0.4-3.el7.noarch                                                                                                                                       15/103
  Verifying  : vsm-deploy-2.0.0-216.x86_64                                                                                                                                              16/103
  Verifying  : libicu-50.1.2-11.el7.x86_64                                                                                                                                              17/103
  Verifying  : 2:python-oslo-config-1.4.0-1.el7.centos.noarch                                                                                                                           18/103
  Verifying  : 1:python-lockfile-0.9.1-4.el7.noarch                                                                                                                                     19/103
  Verifying  : python-sqlalchemy-0.9.8-1.el7.x86_64                                                                                                                                     20/103
  Verifying  : python-eventlet-0.15.2-1.el7.noarch                                                                                                                                      21/103
  Verifying  : python-cinderclient-1.1.1-1.el7.centos.noarch                                                                                                                            22/103
  Verifying  : 1:libcephfs1-0.80.7-0.6.el7.x86_64                                                                                                                                       23/103
  Verifying  : gperftools-libs-2.4-5.el7.x86_64                                                                                                                                         24/103
  Verifying  : python-jinja2-2.7.2-2.el7.noarch                                                                                                                                         25/103
  Verifying  : redhat-lsb-submod-security-4.1-27.el7.centos.1.x86_64                                                                                                                    26/103
  Verifying  : httpd-2.4.6-31.el7.centos.1.x86_64                                                                                                                                       27/103
  Verifying  : 1:librados2-0.80.7-2.el7.x86_64                                                                                                                                          28/103
  Verifying  : python-sqlparse-0.1.11-2.el7.noarch                                                                                                                                      29/103
  Verifying  : 1:python-rbd-0.80.7-2.el7.x86_64                                                                                                                                         30/103
  Verifying  : python-oslo-utils-1.0.0-1.el7.centos.noarch                                                                                                                              31/103
  Verifying  : python-babel-0.9.6-8.el7.noarch                                                                                                                                          32/103
  Verifying  : python-paste-1.7.5.1-9.20111221hg1498.el7.noarch                                                                                                                         33/103
  Verifying  : leveldb-1.12.0-5.el7.x86_64                                                                                                                                              34/103
  Verifying  : python-pbr-0.10.0-1.el7.noarch                                                                                                                                           35/103
  Verifying  : python-nose-1.3.0-2.el7.noarch                                                                                                                                           36/103
  Verifying  : python-werkzeug-0.9.1-2.el7.noarch                                                                                                                                       37/103
  Verifying  : 1:tcl-8.5.13-4.el7.x86_64                                                                                                                                                38/103
  Verifying  : python-keyring-5.0-1.el7.noarch                                                                                                                                          39/103
  Verifying  : python-stevedore-0.14-1.el7.noarch                                                                                                                                       40/103
  Verifying  : ed-1.9-4.el7.x86_64                                                                                                                                                      41/103
  Verifying  : redhat-lsb-core-4.1-27.el7.centos.1.x86_64                                                                                                                               42/103
  Verifying  : boost-thread-1.53.0-23.el7.x86_64                                                                                                                                        43/103
  Verifying  : mailx-12.5-12.el7_0.x86_64                                                                                                                                               44/103
  Verifying  : 1:openssl-1.0.1e-42.el7.9.x86_64                                                                                                                                         45/103
  Verifying  : 1:python-flask-0.10.1-4.el7.noarch                                                                                                                                       46/103
  Verifying  : python-ordereddict-1.1-6.el7.noarch                                                                                                                                      47/103
  Verifying  : mailcap-2.1.41-2.el7.noarch                                                                                                                                              48/103
  Verifying  : python-anyjson-0.3.3-3.el7.noarch                                                                                                                                        49/103
  Verifying  : python-prettytable-0.7.2-2.el7.centos.noarch                                                                                                                             50/103
  Verifying  : m4-1.4.16-9.el7.x86_64                                                                                                                                                   51/103
  Verifying  : libgfortran-4.8.3-9.el7.x86_64                                                                                                                                           52/103
  Verifying  : python-psutil-1.2.1-1.el7.x86_64                                                                                                                                         53/103
  Verifying  : bc-1.06.95-13.el7.x86_64                                                                                                                                                 54/103
  Verifying  : 1:mod_ssl-2.4.6-31.el7.centos.1.x86_64                                                                                                                                   55/103
  Verifying  : python-ecdsa-0.11-3.el7.centos.noarch                                                                                                                                    56/103
  Verifying  : python-amqp-1.4.5-1.el7.noarch                                                                                                                                           57/103
  Verifying  : pyOpenSSL-0.13.1-3.el7.x86_64                                                                                                                                            58/103
  Verifying  : gdisk-0.8.6-5.el7.x86_64                                                                                                                                                 59/103
  Verifying  : 1:ceph-common-0.80.7-2.el7.x86_64                                                                                                                                        60/103
  Verifying  : python-crypto-2.6.1-1.el7.centos.x86_64                                                                                                                                  61/103
  Verifying  : boost-system-1.53.0-23.el7.x86_64                                                                                                                                        62/103
  Verifying  : python-amqplib-1.0.2-7.el7.noarch                                                                                                                                        63/103
  Verifying  : python-kombu-2.5.16-1.el7.noarch                                                                                                                                         64/103
  Verifying  : 1:python-rados-0.80.7-2.el7.x86_64                                                                                                                                       65/103
  Verifying  : 1:python-keystoneclient-0.11.1-1.el7.centos.noarch                                                                                                                       66/103
  Verifying  : atlas-3.10.1-7.el7.x86_64                                                                                                                                                67/103
  Verifying  : python-pip-7.1.0-1.el7.noarch                                                                                                                                            68/103
  Verifying  : python-suds-0.4.1-5.el7.noarch                                                                                                                                           69/103
  Verifying  : 1:openssl-libs-1.0.1e-42.el7.9.x86_64                                                                                                                                    70/103
  Verifying  : httpd-tools-2.4.6-31.el7.centos.1.x86_64                                                                                                                                 71/103
  Verifying  : at-3.1.13-17.el7_0.1.x86_64                                                                                                                                              72/103
  Verifying  : time-1.7-45.el7.x86_64                                                                                                                                                   73/103
  Verifying  : expect-5.45-14.el7_1.x86_64                                                                                                                                              74/103
  Verifying  : python-requests-2.6.0-1.el7_1.noarch                                                                                                                                     75/103
  Verifying  : libquadmath-4.8.3-9.el7.x86_64                                                                                                                                           76/103
  Verifying  : 1:python-novaclient-2.20.0-1.el7.centos.noarch                                                                                                                           77/103
  Verifying  : python-greenlet-0.4.2-3.el7.x86_64                                                                                                                                       78/103
  Verifying  : MySQL-python-1.2.3-11.el7.x86_64                                                                                                                                         79/103
  Verifying  : libunwind-1.1-10.el7.x86_64                                                                                                                                              80/103
  Verifying  : 1:cups-client-1.6.3-17.el7_1.1.x86_64                                                                                                                                    81/103
  Verifying  : libaio-0.3.109-12.el7.x86_64                                                                                                                                             82/103
  Verifying  : cryptsetup-1.6.6-3.el7.x86_64                                                                                                                                            83/103
  Verifying  : hdparm-9.43-5.el7.x86_64                                                                                                                                                 84/103
  Verifying  : apr-1.4.8-3.el7.x86_64                                                                                                                                                   85/103
  Verifying  : blas-3.4.2-4.el7.x86_64                                                                                                                                                  86/103
  Verifying  : vsm-2.0.0-216.noarch                                                                                                                                                     87/103
  Verifying  : cryptsetup-libs-1.6.6-3.el7.x86_64                                                                                                                                       88/103
  Verifying  : python-netaddr-0.7.5-7.el7.noarch                                                                                                                                        89/103
  Verifying  : 1:python-cephfs-0.80.7-0.6.el7.x86_64                                                                                                                                    90/103
  Verifying  : python-oslo-i18n-1.0.0-1.el7.centos.noarch                                                                                                                               91/103
  Verifying  : libxslt-1.1.28-5.el7.x86_64                                                                                                                                              92/103
  Verifying  : python-webob-1.2.3-6.el7.noarch                                                                                                                                          93/103
  Verifying  : 1:cups-libs-1.6.3-17.el7_1.1.x86_64                                                                                                                                      94/103
  Verifying  : python-paste-deploy-1.5.0-10.el7.noarch                                                                                                                                  95/103
  Verifying  : python-tempita-0.5.1-6.el7.noarch                                                                                                                                        96/103
  Verifying  : python-migrate-0.9.2-2.el7.noarch                                                                                                                                        97/103
  Verifying  : python-chardet-2.2.1-1.el7_1.noarch                                                                                                                                      98/103
  Verifying  : python-urllib3-1.10.2-2.el7_1.noarch                                                                                                                                     99/103
  Verifying  : python-paramiko-1.15.1-1.el7.noarch                                                                                                                                     100/103
  Verifying  : 1:openssl-libs-1.0.1e-34.el7_0.7.x86_64                                                                                                                                 101/103
  Verifying  : 1:openssl-1.0.1e-34.el7_0.7.x86_64                                                                                                                                      102/103
  Verifying  : cryptsetup-libs-1.6.3-2.el7.x86_64                                                                                                                                      103/103

Installed:
  vsm.noarch 0:2.0.0-216                                                                     vsm-deploy.x86_64 0:2.0.0-216

Dependency Installed:
  MySQL-python.x86_64 0:1.2.3-11.el7                             apr.x86_64 0:1.4.8-3.el7                                            apr-util.x86_64 0:1.5.2-6.el7
  at.x86_64 0:3.1.13-17.el7_0.1                                  atlas.x86_64 0:3.10.1-7.el7                                         bc.x86_64 0:1.06.95-13.el7
  blas.x86_64 0:3.4.2-4.el7                                      boost-system.x86_64 0:1.53.0-23.el7                                 boost-thread.x86_64 0:1.53.0-23.el7
  ceph.x86_64 1:0.80.7-0.6.el7                                   ceph-common.x86_64 1:0.80.7-2.el7                                   cryptsetup.x86_64 0:1.6.6-3.el7
  cups-client.x86_64 1:1.6.3-17.el7_1.1                          cups-libs.x86_64 1:1.6.3-17.el7_1.1                                 ed.x86_64 0:1.9-4.el7
  expect.x86_64 0:5.45-14.el7_1                                  gdisk.x86_64 0:0.8.6-5.el7                                          gperftools-libs.x86_64 0:2.4-5.el7
  hdparm.x86_64 0:9.43-5.el7                                     httpd.x86_64 0:2.4.6-31.el7.centos.1                                httpd-tools.x86_64 0:2.4.6-31.el7.centos.1
  lapack.x86_64 0:3.4.2-4.el7                                    leveldb.x86_64 0:1.12.0-5.el7                                       libaio.x86_64 0:0.3.109-12.el7
  libcephfs1.x86_64 1:0.80.7-0.6.el7                             libgfortran.x86_64 0:4.8.3-9.el7                                    libicu.x86_64 0:50.1.2-11.el7
  libquadmath.x86_64 0:4.8.3-9.el7                               librados2.x86_64 1:0.80.7-2.el7                                     librbd1.x86_64 1:0.80.7-2.el7
  libunwind.x86_64 0:1.1-10.el7                                  libxslt.x86_64 0:1.1.28-5.el7                                       m4.x86_64 0:1.4.16-9.el7
  mailcap.noarch 0:2.1.41-2.el7                                  mailx.x86_64 0:12.5-12.el7_0                                        mod_ssl.x86_64 1:2.4.6-31.el7.centos.1
  numpy.x86_64 1:1.7.1-10.el7                                    psmisc.x86_64 0:22.20-8.el7                                         pyOpenSSL.x86_64 0:0.13.1-3.el7
  python-amqp.noarch 0:1.4.5-1.el7                               python-amqplib.noarch 0:1.0.2-7.el7                                 python-anyjson.noarch 0:0.3.3-3.el7
  python-babel.noarch 0:0.9.6-8.el7                              python-cephfs.x86_64 1:0.80.7-0.6.el7                               python-chardet.noarch 0:2.2.1-1.el7_1
  python-cinderclient.noarch 0:1.1.1-1.el7.centos                python-crypto.x86_64 0:2.6.1-1.el7.centos                           python-ecdsa.noarch 0:0.11-3.el7.centos
  python-eventlet.noarch 0:0.15.2-1.el7                          python-flask.noarch 1:0.10.1-4.el7                                  python-greenlet.x86_64 0:0.4.2-3.el7
  python-iso8601.noarch 0:0.1.10-1.el7                           python-itsdangerous.noarch 0:0.23-2.el7                             python-jinja2.noarch 0:2.7.2-2.el7
  python-keyring.noarch 0:5.0-1.el7                              python-keystoneclient.noarch 1:0.11.1-1.el7.centos                  python-kombu.noarch 0:2.5.16-1.el7
  python-lockfile.noarch 1:0.9.1-4.el7                           python-lxml.x86_64 0:3.2.1-4.el7                                    python-markupsafe.x86_64 0:0.11-10.el7
  python-migrate.noarch 0:0.9.2-2.el7                            python-netaddr.noarch 0:0.7.5-7.el7                                 python-nose.noarch 0:1.3.0-2.el7
  python-novaclient.noarch 1:2.20.0-1.el7.centos                 python-ordereddict.noarch 0:1.1-6.el7                               python-oslo-config.noarch 2:1.4.0-1.el7.centos
  python-oslo-i18n.noarch 0:1.0.0-1.el7.centos                   python-oslo-utils.noarch 0:1.0.0-1.el7.centos                       python-paramiko.noarch 0:1.15.1-1.el7
  python-paste.noarch 0:1.7.5.1-9.20111221hg1498.el7             python-paste-deploy.noarch 0:1.5.0-10.el7                           python-pbr.noarch 0:0.10.0-1.el7
  python-pip.noarch 0:7.1.0-1.el7                                python-prettytable.noarch 0:0.7.2-2.el7.centos                      python-psutil.x86_64 0:1.2.1-1.el7
  python-rados.x86_64 1:0.80.7-2.el7                             python-rbd.x86_64 1:0.80.7-2.el7                                    python-repoze-lru.noarch 0:0.4-3.el7
  python-requests.noarch 0:2.6.0-1.el7_1                         python-routes.noarch 0:1.13-2.el7                                   python-simplejson.x86_64 0:3.3.3-1.el7
  python-six.noarch 0:1.7.3-1.el7.centos                         python-sqlalchemy.x86_64 0:0.9.8-1.el7                              python-sqlparse.noarch 0:0.1.11-2.el7
  python-stevedore.noarch 0:0.14-1.el7                           python-suds.noarch 0:0.4.1-5.el7                                    python-tempita.noarch 0:0.5.1-6.el7
  python-urllib3.noarch 0:1.10.2-2.el7_1                         python-webob.noarch 0:1.2.3-6.el7                                   python-werkzeug.noarch 0:0.9.1-2.el7
  redhat-lsb-core.x86_64 0:4.1-27.el7.centos.1                   redhat-lsb-submod-security.x86_64 0:4.1-27.el7.centos.1             spax.x86_64 0:1.5.2-11.el7
  tcl.x86_64 1:8.5.13-4.el7                                      time.x86_64 0:1.7-45.el7

Dependency Updated:
  cryptsetup-libs.x86_64 0:1.6.6-3.el7                            openssl.x86_64 1:1.0.1e-42.el7.9                            openssl-libs.x86_64 1:1.0.1e-42.el7.9

Complete!
Connection to 192.168.123.103 closed.
+ ssh -t cephuser@192.168.123.103 'sudo -E env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin preinstall agent'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Package 1:ceph-0.80.7-0.6.el7.x86_64 already installed and latest version
Package 1:librbd1-0.80.7-2.el7.x86_64 already installed and latest version
Package 1:python-keystoneclient-0.11.1-1.el7.centos.noarch already installed and latest version
Resolving Dependencies
--> Running transaction check
---> Package librbd1-devel.x86_64 1:0.80.7-2.el7 will be installed
--> Processing Dependency: librados2-devel = 1:0.80.7-2.el7 for package: 1:librbd1-devel-0.80.7-2.el7.x86_64
---> Package ntp.x86_64 0:4.2.6p5-19.el7.centos.3 will be installed
--> Processing Dependency: ntpdate = 4.2.6p5-19.el7.centos.3 for package: ntp-4.2.6p5-19.el7.centos.3.x86_64
--> Processing Dependency: libopts.so.25()(64bit) for package: ntp-4.2.6p5-19.el7.centos.3.x86_64
---> Package openssh-server.x86_64 0:6.4p1-8.el7 will be updated
---> Package openssh-server.x86_64 0:6.6.1p1-12.el7_1 will be an update
--> Processing Dependency: openssh = 6.6.1p1-12.el7_1 for package: openssh-server-6.6.1p1-12.el7_1.x86_64
---> Package openstack-utils.noarch 0:2014.2-1.el7.centos will be installed
--> Processing Dependency: crudini for package: openstack-utils-2014.2-1.el7.centos.noarch
---> Package python-devel.x86_64 0:2.7.5-18.el7_1.1 will be installed
--> Processing Dependency: python(x86-64) = 2.7.5-18.el7_1.1 for package: python-devel-2.7.5-18.el7_1.1.x86_64
---> Package rbd-fuse.x86_64 1:0.80.7-0.6.el7 will be installed
--> Processing Dependency: libfuse.so.2(FUSE_2.6)(64bit) for package: 1:rbd-fuse-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libfuse.so.2(FUSE_2.5)(64bit) for package: 1:rbd-fuse-0.80.7-0.6.el7.x86_64
--> Processing Dependency: libfuse.so.2()(64bit) for package: 1:rbd-fuse-0.80.7-0.6.el7.x86_64
---> Package smartmontools.x86_64 1:6.2-4.el7 will be installed
--> Running transaction check
---> Package autogen-libopts.x86_64 0:5.18-5.el7 will be installed
---> Package crudini.noarch 0:0.7-1.el7 will be installed
---> Package fuse-libs.x86_64 0:2.9.2-5.el7 will be installed
---> Package librados2-devel.x86_64 1:0.80.7-2.el7 will be installed
---> Package ntpdate.x86_64 0:4.2.6p5-19.el7.centos.3 will be installed
---> Package openssh.x86_64 0:6.4p1-8.el7 will be updated
--> Processing Dependency: openssh = 6.4p1-8.el7 for package: openssh-clients-6.4p1-8.el7.x86_64
---> Package openssh.x86_64 0:6.6.1p1-12.el7_1 will be an update
---> Package python.x86_64 0:2.7.5-16.el7 will be updated
---> Package python.x86_64 0:2.7.5-18.el7_1.1 will be an update
--> Processing Dependency: python-libs(x86-64) = 2.7.5-18.el7_1.1 for package: python-2.7.5-18.el7_1.1.x86_64
--> Running transaction check
---> Package openssh-clients.x86_64 0:6.4p1-8.el7 will be updated
---> Package openssh-clients.x86_64 0:6.6.1p1-12.el7_1 will be an update
---> Package python-libs.x86_64 0:2.7.5-16.el7 will be updated
---> Package python-libs.x86_64 0:2.7.5-18.el7_1.1 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                        Arch                                  Version                                                  Repository                                 Size
===============================================================================================================================================================================================
Installing:
 librbd1-devel                                  x86_64                                1:0.80.7-2.el7                                           vsmdeprepo                                 19 k
 ntp                                            x86_64                                4.2.6p5-19.el7.centos.3                                  vsmdeprepo                                541 k
 openstack-utils                                noarch                                2014.2-1.el7.centos                                      vsmdeprepo                                 21 k
 python-devel                                   x86_64                                2.7.5-18.el7_1.1                                         vsmdeprepo                                389 k
 rbd-fuse                                       x86_64                                1:0.80.7-0.6.el7                                         vsmdeprepo                                 23 k
 smartmontools                                  x86_64                                1:6.2-4.el7                                              vsmdeprepo                                403 k
Updating:
 openssh-server                                 x86_64                                6.6.1p1-12.el7_1                                         vsmdeprepo                                432 k
Installing for dependencies:
 autogen-libopts                                x86_64                                5.18-5.el7                                               vsmdeprepo                                 66 k
 crudini                                        noarch                                0.7-1.el7                                                vsmdeprepo                                 23 k
 fuse-libs                                      x86_64                                2.9.2-5.el7                                              vsmdeprepo                                 93 k
 librados2-devel                                x86_64                                1:0.80.7-2.el7                                           vsmdeprepo                                 41 k
 ntpdate                                        x86_64                                4.2.6p5-19.el7.centos.3                                  vsmdeprepo                                 83 k
Updating for dependencies:
 openssh                                        x86_64                                6.6.1p1-12.el7_1                                         vsmdeprepo                                431 k
 openssh-clients                                x86_64                                6.6.1p1-12.el7_1                                         vsmdeprepo                                634 k
 python                                         x86_64                                2.7.5-18.el7_1.1                                         vsmdeprepo                                 86 k
 python-libs                                    x86_64                                2.7.5-18.el7_1.1                                         vsmdeprepo                                5.6 M

Transaction Summary
===============================================================================================================================================================================================
Install  6 Packages (+5 Dependent packages)
Upgrade  1 Package  (+4 Dependent packages)

Total download size: 8.8 M
Downloading packages:
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                                                           57 MB/s | 8.8 MB  00:00:00
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : openssh-6.6.1p1-12.el7_1.x86_64                                                                                                                                            1/21
  Updating   : python-libs-2.7.5-18.el7_1.1.x86_64                                                                                                                                        2/21
  Updating   : python-2.7.5-18.el7_1.1.x86_64                                                                                                                                             3/21
  Installing : crudini-0.7-1.el7.noarch                                                                                                                                                   4/21
  Installing : fuse-libs-2.9.2-5.el7.x86_64                                                                                                                                               5/21
  Installing : 1:librados2-devel-0.80.7-2.el7.x86_64                                                                                                                                      6/21
  Installing : ntpdate-4.2.6p5-19.el7.centos.3.x86_64                                                                                                                                     7/21
  Installing : autogen-libopts-5.18-5.el7.x86_64                                                                                                                                          8/21
  Installing : ntp-4.2.6p5-19.el7.centos.3.x86_64                                                                                                                                         9/21
  Installing : 1:librbd1-devel-0.80.7-2.el7.x86_64                                                                                                                                       10/21
  Installing : 1:rbd-fuse-0.80.7-0.6.el7.x86_64                                                                                                                                          11/21
  Installing : openstack-utils-2014.2-1.el7.centos.noarch                                                                                                                                12/21
  Installing : python-devel-2.7.5-18.el7_1.1.x86_64                                                                                                                                      13/21
  Updating   : openssh-clients-6.6.1p1-12.el7_1.x86_64                                                                                                                                   14/21
warning: /etc/ssh/ssh_config created as /etc/ssh/ssh_config.rpmnew
  Updating   : openssh-server-6.6.1p1-12.el7_1.x86_64                                                                                                                                    15/21
warning: /etc/ssh/sshd_config created as /etc/ssh/sshd_config.rpmnew
  Installing : 1:smartmontools-6.2-4.el7.x86_64                                                                                                                                          16/21
  Cleanup    : openssh-server-6.4p1-8.el7.x86_64                                                                                                                                         17/21
  Cleanup    : python-2.7.5-16.el7.x86_64                                                                                                                                                18/21
  Cleanup    : openssh-clients-6.4p1-8.el7.x86_64                                                                                                                                        19/21
  Cleanup    : openssh-6.4p1-8.el7.x86_64                                                                                                                                                20/21
  Cleanup    : python-libs-2.7.5-16.el7.x86_64                                                                                                                                           21/21
  Verifying  : 1:rbd-fuse-0.80.7-0.6.el7.x86_64                                                                                                                                           1/21
  Verifying  : openssh-clients-6.6.1p1-12.el7_1.x86_64                                                                                                                                    2/21
  Verifying  : python-devel-2.7.5-18.el7_1.1.x86_64                                                                                                                                       3/21
  Verifying  : openstack-utils-2014.2-1.el7.centos.noarch                                                                                                                                 4/21
  Verifying  : 1:smartmontools-6.2-4.el7.x86_64                                                                                                                                           5/21
  Verifying  : python-2.7.5-18.el7_1.1.x86_64                                                                                                                                             6/21
  Verifying  : autogen-libopts-5.18-5.el7.x86_64                                                                                                                                          7/21
  Verifying  : python-libs-2.7.5-18.el7_1.1.x86_64                                                                                                                                        8/21
  Verifying  : crudini-0.7-1.el7.noarch                                                                                                                                                   9/21
  Verifying  : ntpdate-4.2.6p5-19.el7.centos.3.x86_64                                                                                                                                    10/21
  Verifying  : 1:librbd1-devel-0.80.7-2.el7.x86_64                                                                                                                                       11/21
  Verifying  : openssh-server-6.6.1p1-12.el7_1.x86_64                                                                                                                                    12/21
  Verifying  : ntp-4.2.6p5-19.el7.centos.3.x86_64                                                                                                                                        13/21
  Verifying  : 1:librados2-devel-0.80.7-2.el7.x86_64                                                                                                                                     14/21
  Verifying  : fuse-libs-2.9.2-5.el7.x86_64                                                                                                                                              15/21
  Verifying  : openssh-6.6.1p1-12.el7_1.x86_64                                                                                                                                           16/21
  Verifying  : python-2.7.5-16.el7.x86_64                                                                                                                                                17/21
  Verifying  : python-libs-2.7.5-16.el7.x86_64                                                                                                                                           18/21
  Verifying  : openssh-server-6.4p1-8.el7.x86_64                                                                                                                                         19/21
  Verifying  : openssh-clients-6.4p1-8.el7.x86_64                                                                                                                                        20/21
  Verifying  : openssh-6.4p1-8.el7.x86_64                                                                                                                                                21/21

Installed:
  librbd1-devel.x86_64 1:0.80.7-2.el7         ntp.x86_64 0:4.2.6p5-19.el7.centos.3         openstack-utils.noarch 0:2014.2-1.el7.centos         python-devel.x86_64 0:2.7.5-18.el7_1.1
  rbd-fuse.x86_64 1:0.80.7-0.6.el7            smartmontools.x86_64 1:6.2-4.el7

Dependency Installed:
  autogen-libopts.x86_64 0:5.18-5.el7    crudini.noarch 0:0.7-1.el7    fuse-libs.x86_64 0:2.9.2-5.el7    librados2-devel.x86_64 1:0.80.7-2.el7    ntpdate.x86_64 0:4.2.6p5-19.el7.centos.3

Updated:
  openssh-server.x86_64 0:6.6.1p1-12.el7_1

Dependency Updated:
  openssh.x86_64 0:6.6.1p1-12.el7_1           openssh-clients.x86_64 0:6.6.1p1-12.el7_1           python.x86_64 0:2.7.5-18.el7_1.1           python-libs.x86_64 0:2.7.5-18.el7_1.1

Complete!
Connection to 192.168.123.103 closed.
+ setup_remote_agent 192.168.123.103
+ ssh -t cephuser@192.168.123.103 'sudo -E rm -rf /etc/manifest/server.manifest'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
++ cat ./.token
+ TOKEN=e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba
+ sudo -E sed -i '/^\[auth_key\]$/,/^\[.*\]/ s/^.*-.*$/e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba/' manifest/192.168.123.103/server.manifest
+ scp manifest/192.168.123.103/server.manifest cephuser@192.168.123.103:/tmp
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
server.manifest                                                                                                                                              100%  777     0.8KB/s   00:00
+ ssh -t cephuser@192.168.123.103 'sudo -E mv /tmp/server.manifest /etc/manifest'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ ssh -t cephuser@192.168.123.103 'sudo -E chown root:vsm /etc/manifest/server.manifest; sudo -E chmod 755 /etc/manifest/server.manifest'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
++ ssh -t cephuser@192.168.123.103 'env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin server_manifest'
++ grep ERROR
++ wc -l
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ is_server_manifest_error=0
+ '[' 0 -gt 0 ']'
+ ssh -t cephuser@192.168.123.103 'sudo -E env PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin vsm-node'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
+ cat
+ service sshd restart
Redirecting to /bin/systemctl restart  sshd.service
+++ dirname /usr/local/bin/vsm-node
++ cd /usr/local/bin
++ pwd
+ TOPDIR=/usr/local/bin
++ mktemp
+ TEMP=/tmp/tmp.RzJa0JEsTX
+ rm -rfv /tmp/tmp.RzJa0JEsTX
+ mkdir -p /tmp/tmp.RzJa0JEsTX
+ '[' 0 -gt 0 ']'
+ source /usr/local/bin/tools/lib/services
+ source /usr/local/bin/tools/lib/mysql
++ ls /usr/local/bin/tools/lib/
++ grep -v services
++ grep -v manifest
++ grep -v check
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/createrepo
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/dir
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/keystone
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/mysql
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/network
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/ntp
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/rabbitmq
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/repo
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/user
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/vsm
+ for n in '`ls $TOPDIR/tools/lib/ | grep -v services | grep -v manifest | grep -v check`'
+ source /usr/local/bin/tools/lib/vsmdash
+ rm -rf /etc/vsm/api-paste.ini /etc/vsm/cache-tier.conf /etc/vsm/ceph.conf.template /etc/vsm/logging.conf /etc/vsm/policy.json /etc/vsm/prepools /etc/vsm/rootwrap.conf /etc/vsm/rootwrap.d /etc/vsm/vsm.conf
+ cp -rf /usr/local/bin/tools/etc/vsm/api-paste.ini /usr/local/bin/tools/etc/vsm/cache-tier.conf /usr/local/bin/tools/etc/vsm/ceph.conf.template /usr/local/bin/tools/etc/vsm/cluster.manifest /usr/local/bin/tools/etc/vsm/logging_sample.conf /usr/local/bin/tools/etc/vsm/policy.json /usr/local/bin/tools/etc/vsm/prepools /usr/local/bin/tools/etc/vsm/rootwrap.conf /usr/local/bin/tools/etc/vsm/rootwrap.d /usr/local/bin/tools/etc/vsm/server.manifest /usr/local/bin/tools/etc/vsm/vsm.conf.sample /etc/vsm/
+ mv /etc/vsm/vsm.conf.sample /etc/vsm/vsm.conf
+ /usr/bin/key
spawn ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /root/.ssh/id_rsa.
Your public key has been saved in /root/.ssh/id_rsa.pub.
The key fingerprint is:
f6:b5:c8:74:60:8e:03:b2:23:b6:44:ac:74:16:c8:98 root@vsm-node3
The key's randomart image is:
+--[ RSA 2048]----+
|o...             |
|E+  .            |
| .oo. .   o      |
|.oo  o . + .     |
|. + o   S o o    |
| o o . . = + .   |
|  .       + .    |
|                 |
|                 |
+-----------------+
+ server_manifest
No handlers could be found for logger "vsm.utils"
{'cluster_ip': '192.168.123.100', 'zone': 'zone_one', 'auth_key': 'e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba', 'ip': '10.0.2.15,192.168.123.103', 'id_rsa_pub': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCYdeof54NBb8903QZcJJVM1lAvSVmEc5nm/JzUshPkk8BNnoxKlv8gnJoJmsUx6oFj7q5bjVxc5y+lVMR+vB5NsBT5TID+TqbYJFoY6y0nz5mhovbPWRFsubbz45nch2hUw5GXvEzQM8v4h4/M/MyEcV0WLjcupkcTcJicDl4d94afw1E7jZD2yE34WHgjnGEw4EO4i3x6KYgmIsp45jR82B/f8sOW4hf+ypoGVqWwwiCz7akMOw0fBoJDqHTDvl/uvjettxBOQjoxK62zv5Nkte9rxAtJLnns1YIKRjSJTYEQzSXCC+sW00T1LrAk0Tsqavn6Zm8QTTKpy9hYv1UX root@vsm-node3\n', 'host': 'vsm-node3', 'vsm_controller_ip': '192.168.123.100', 'role': 'monitor,storage,', 'controller_ip': '192.168.123.100'}
{
  "api-paste.ini": "#############\n# OpenStack #\n#############\n\n[composite:vsmapi_storage]\nuse = call:vsm.api:root_app_factory\n/: apiversions\n/v1: openstack_storage_api_v1\n\n[composite:openstack_storage_api_v1]\nuse = call:vsm.api.middleware.auth:pipeline_factory\nnoauth = faultwrap sizelimit noauth apiv1\nkeystone = faultwrap sizelimit authtoken keystonecontext apiv1\nkeystone_nolimit = faultwrap sizelimit authtoken keystonecontext apiv1\n\n[filter:faultwrap]\npaste.filter_factory = vsm.api.middleware.fault:FaultWrapper.factory\n\n[filter:noauth]\npaste.filter_factory = vsm.api.middleware.auth:NoAuthMiddleware.factory\n\n[filter:sizelimit]\npaste.filter_factory = vsm.api.middleware.sizelimit:RequestBodySizeLimiter.factory\n\n[app:apiv1]\npaste.app_factory = vsm.api.v1.router:APIRouter.factory\n\n[pipeline:apiversions]\npipeline = faultwrap osstorageversionapp\n\n[app:osstorageversionapp]\npaste.app_factory = vsm.api.versions:Versions.factory\n\n\n##########\n# Shared #\n##########\n\n[filter:keystonecontext]\npaste.filter_factory = vsm.api.middleware.auth:VsmKeystoneContext.factory\n\n[filter:authtoken]\npaste.filter_factory = keystoneclient.middleware.auth_token:filter_factory\n",
  "cache_tier_defaults": [
    {
      "default_value": "1",
      "name": "ct_hit_set_count",
      "value": "1"
    },
    {
      "default_value": "3600",
      "name": "ct_hit_set_period_s",
      "value": "3600"
    },
    {
      "default_value": "1000000",
      "name": "ct_target_max_mem_mb",
      "value": "1000000"
    },
    {
      "default_value": "0.4",
      "name": "ct_target_dirty_ratio",
      "value": 0.4
    },
    {
      "default_value": "0.8",
      "name": "ct_target_full_ratio",
      "value": 0.8
    },
    {
      "default_value": "1000000",
      "name": "ct_target_max_objects",
      "value": "1000000"
    },
    {
      "default_value": "10",
      "name": "ct_target_min_flush_age_m",
      "value": "10"
    },
    {
      "default_value": "20",
      "name": "ct_target_min_evict_age_m",
      "value": "20"
    }
  ],
  "cluster": {
    "ceph_conf": "",
    "ceph_public_network": "192.168.123.0/24",
    "cluster_addr": "192.168.123.0/24",
    "cluster_name": "cluster_a",
    "cluster_network": "192.168.123.0/24",
    "file_system": "xfs",
    "management_network": "192.168.123.0/24",
    "name": "cluster_a",
    "osd_heartbeat_grace": null,
    "osd_heartbeat_interval": null,
    "public_addr": "192.168.123.0/24",
    "secondary_public_addr": "192.168.123.0/24"
  },
  "ec_profiles": [
    {
      "name": "default_profile",
      "pg_num": "3",
      "plugin": "jerasure",
      "plugin_kv_pair": "{\"k\":2,\"m\":1,\"technique\":\"reed_sol_van\"}",
      "plugin_path": "/usr/lib64/ceph/erasure-code"
    }
  ],
  "etc_hosts": "127.0.0.1   vsm-controller localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n\n################ VSM host entry ######################\n\n192.168.123.100 vsm-controller\n192.168.123.101 vsm-node1\n192.168.123.102 vsm-node2\n192.168.123.103 vsm-node3\n\n\n######################################################\n\n",
  "ntp_keys": null,
  "openstack_ip": [],
  "settings": [
    {
      "default_value": "65",
      "name": "storage_group_near_full_threshold",
      "value": "65"
    },
    {
      "default_value": "85",
      "name": "storage_group_full_threshold",
      "value": "85"
    },
    {
      "default_value": "75",
      "name": "ceph_near_full_threshold",
      "value": "75"
    },
    {
      "default_value": "90",
      "name": "ceph_full_threshold",
      "value": "90"
    },
    {
      "default_value": "100",
      "name": "pg_count_factor",
      "value": "100"
    },
    {
      "default_value": "5",
      "name": "heartbeat_interval",
      "value": "5"
    },
    {
      "default_value": "10",
      "name": "osd_heartbeat_interval",
      "value": "10"
    },
    {
      "default_value": "10",
      "name": "osd_heartbeat_grace",
      "value": "10"
    },
    {
      "default_value": "75",
      "name": "disk_near_full_threshold",
      "value": "75"
    },
    {
      "default_value": "90",
      "name": "disk_full_threshold",
      "value": "90"
    },
    {
      "default_value": "3",
      "name": "osd_pool_default_size",
      "value": "3"
    }
  ],
  "storage_class": [
    "10krpm_sas",
    "7200_rpm_sata",
    "ssd"
  ],
  "storage_group": [
    {
      "friendly_name": "Performance_Disk",
      "name": "performance",
      "rule_id": 0,
      "storage_class": "10krpm_sas"
    },
    {
      "friendly_name": "Economy_Disk",
      "name": "capacity",
      "rule_id": 1,
      "storage_class": "7200_rpm_sata"
    },
    {
      "friendly_name": "High_Performance",
      "name": "high_performance",
      "rule_id": 2,
      "storage_class": "ssd"
    }
  ],
  "vsm.conf": "[DEFAULT]\nrabbit_password = 4f464a36cfe791ecde59\nrabbit_host = 192.168.123.100\nrabbit_port=5673\nstate_path = /opt/stack/data/vsm\nosapi_volume_extension = vsm.api.openstack.volume.contrib.standard_extensions\nrootwrap_config = /etc/vsm/rootwrap.conf\napi_paste_config = /etc/vsm/api-paste.ini\nsql_connection = mysql://vsm:d1daebe97c7580e2a091@192.168.123.100/vsm?charset=utf8\nverbose = True\nauth_strategy = keystone\n\n[keystone_authtoken]\nauth_uri = http://192.168.123.100:5000/v2.0\nidentity_uri = http://192.168.123.100:35357\nadmin_tenant_name = service\nadmin_user = vsm\nadmin_password = 90d438b695923decaf8a",
  "zone": [
    "zone_one"
  ]
}
section = vsm_controller_ip
section = role
section = auth_key
section = ssd
section = 7200_rpm_sata
section = 10krpm_sas
section = ssd_cached_7200rpm_sata
section = ssd_cached_10krpm_sas
['vsm_controller_ip', 'role', 'auth_key', '7200_rpm_sata']
[u'10krpm_sas', u'7200_rpm_sata', u'ssd', 'vsm_controller_ip', 'role', 'auth_key', 'zone']
[ssd_cached_7200rpm_sata]
sec 10krpm_sas has lines: []
[10krpm_sas]
sec 7200_rpm_sata has lines: ['/dev/sdb1 /dev/sdb2', '/dev/sdc1 /dev/sdc2', '/dev/sdd1 /dev/sdd2']
[7200_rpm_sata]
sec ssd has lines: []
['/dev/sdb1', '/dev/sdc1', '/dev/sdd1']
['/dev/sdb2', '/dev/sdc2', '/dev/sdd2']
['10.0.2.15', '192.168.123.103']
[u'192.168.123.0/24', u'192.168.123.0/24', u'192.168.123.0/24']
['10.0.2.15', '192.168.123.103']
[u'192.168.123.0/24', u'192.168.123.0/24', u'192.168.123.0/24']
Warning: There are some networks be the same.
Controller ip lan = [u'192.168.123.0/24', u'192.168.123.0/24', u'192.168.123.0/24']
[auth_key]
--------------------------------------
Check Success ~~
{
  "auth_key": "e42576c97c56438d9d0a387b2b8079a0-891d5f7f7fe64882955cb9c3feb3fcba",
  "cluster_ip": "192.168.123.100",
  "controller_ip": "192.168.123.100",
  "host": "vsm-node3",
  "id_rsa_pub": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCYdeof54NBb8903QZcJJVM1lAvSVmEc5nm/JzUshPkk8BNnoxKlv8gnJoJmsUx6oFj7q5bjVxc5y+lVMR+vB5NsBT5TID+TqbYJFoY6y0nz5mhovbPWRFsubbz45nch2hUw5GXvEzQM8v4h4/M/MyEcV0WLjcupkcTcJicDl4d94afw1E7jZD2yE34WHgjnGEw4EO4i3x6KYgmIsp45jR82B/f8sOW4hf+ypoGVqWwwiCz7akMOw0fBoJDqHTDvl/uvjettxBOQjoxK62zv5Nkte9rxAtJLnns1YIKRjSJTYEQzSXCC+sW00T1LrAk0Tsqavn6Zm8QTTKpy9hYv1UX root@vsm-node3\n",
  "ip": "10.0.2.15,192.168.123.103",
  "role": "monitor,storage,",
  "vsm_controller_ip": "192.168.123.100",
  "zone": "zone_one"
}
Check Success ~~
--------------------------------------
+ sed -i 's/\(^Defaults.*requiretty.*$\)/#\1/' /etc/sudoers
+ cp -rf /usr/local/bin/tools/etc/sudoers.d/vsm /etc/sudoers.d/
+ service vsm-agent restart
Restarting vsm-agent (via systemctl):                      [  OK  ]
+ chkconfig vsm-agent on
+ sed -i /exit/d /etc/rc.local
+ echo 'service vsm-agent restart'
+ echo 'service vsm-physical restart'
+ echo 'exit 0'
+ chmod +x /etc/vsm/prepools/main
+ echo ...
...
+ sleep 5
+ service vsm-physical restart
Restarting vsm-physical (via systemctl):                   [  OK  ]
+ chkconfig vsm-physical on
+ echo 'The End!'
The End!
+ set +o xtrace
Connection to 192.168.123.103 closed.
+ install_setup_diamond 192.168.123.103
+ kill_diamond 192.168.123.103
+ cat
+ scp kill_diamond.sh cephuser@192.168.123.103:/tmp
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
kill_diamond.sh                                                                                                                                              100%  154     0.2KB/s   00:00
+ ssh -t cephuser@192.168.123.103 'sudo -E chmod 755 /tmp/kill_diamond.sh;' 'cd /tmp;' './kill_diamond.sh;' 'sudo -E rm -rf kill_diamond'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ ssh -t cephuser@192.168.123.103 'sudo -E yum install -y diamond'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
Resolving Dependencies
--> Running transaction check
---> Package diamond.noarch 0:4-0 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================================================================================================================
 Package                                       Arch                                         Version                                     Repository                                        Size
===============================================================================================================================================================================================
Installing:
 diamond                                       noarch                                       4-0                                         vsmdeprepo                                       403 k

Transaction Summary
===============================================================================================================================================================================================
Install  1 Package

Total download size: 403 k
Installed size: 1.5 M
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : diamond-4-0.noarch                                                                                                                                                          1/1
Adding and activating diamond service
  Verifying  : diamond-4-0.noarch                                                                                                                                                          1/1

Installed:
  diamond.noarch 0:4-0

Complete!
Connection to 192.168.123.103 closed.
+ DEPLOYRC_FILE=/etc/vsmdeploy/deployrc
+ [[ 1 -eq 0 ]]
+ source /etc/vsmdeploy/deployrc
++ STACK_USER=stack
++ REPO_HOST=192.168.123.100
++ VSM_HTTPS_PASSWORD=d8bc641984ebd4ec6c18
++ MYSQL_ROOT_PASSWORD=4bdef4f446d34469d273
++ MYSQL_HOST=192.168.123.100
++ RABBITMQ_HOST=192.168.123.100
++ RABBITMQ_USER=guest
++ RABBITMQ_PASSWORD=4f464a36cfe791ecde59
++ RABBITMQ_NODENAME=deploy_rabbitmq
++ RABBITMQ_PORT=5673
++ MYSQL_KEYSTONE_USER=keystone
++ MYSQL_KEYSTONE_PASSWORD=9178410ea75208991a3e
++ KEYSTONE_HOST=192.168.123.100
++ ADMIN_PASSWORD=638404a913cb18d6543d
++ ADMIN_TOKEN=4c6e4d205a80939e0e69
++ AGENT_PASSWORD=a0d9eca47d38df291271
++ VSM_HOST=192.168.123.100
++ MYSQL_VSM_USER=vsm
++ MYSQL_VSM_PASSWORD=d1daebe97c7580e2a091
++ KEYSTONE_VSM_SERVICE_PASSWORD=90d438b695923decaf8a
++ VSM_RUNNING_SERVICE=vsm-api,vsm-conductor,vsm-scheduler
++ DASHBOARD_HOST=192.168.123.100
++ MYSQL_DASHBOARD_USER=dashboard
++ MYSQL_DASHBOARD_PASSWORD=83e3104f2066577cc328
++ python -V
++ cut '-d ' -f2
++ cut -d. -f1,2
+ PY_VER=2.7
+ echo 'Python version: 2.7'
Python version: 2.7
+ VSMMYSQL_FILE_PATH=/usr/lib/python2.7/site-packages/vsm/diamond/handlers/vsmmysql.py
+ HANDLER_PATH=/usr/lib/python2.7/site-packages/diamond/handler
+ DIAMOND_CONFIG_PATH=/etc/diamond
+ ssh -t cephuser@192.168.123.103 'sudo -E cp /etc/diamond/diamond.conf.example /etc/diamond/diamond.conf;' 'sudo -E cp /usr/lib/python2.7/site-packages/vsm/diamond/handlers/vsmmysql.py /usr/lib/python2.7/site-packages/diamond/handler;' 'sudo -E sed -i "s/MySQLHandler/VSMMySQLHandler/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/^handlers = *.*ArchiveHandler$/handlers =  diamond.handler.vsmmysql.VSMMySQLHandler/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/host = graphite/host = 127.0.0.1/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/^hostname*=*.*/hostname    = 192.168.123.100/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/username    = root/username    = vsm/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/password*=*.*/password    = d1daebe97c7580e2a091/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/database    = diamond/database    = vsm/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/a\# VARCHAR(255) NOT NULL" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/acol_instance = instance" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/a\# VARCHAR(255) NOT NULL" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# INT UNSIGNED NOT NULL/acol_hostname    = hostname" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# And any other config settings from GraphiteHandler are valid here/i\[\[SignalfxHandler\]\]" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\# And any other config settings from GraphiteHandler are valid here/iauth_token = abcdefghijklmnopqrstuvwxyz" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\# interval = 300/interval = 20/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/enabled = True/#enabled = True/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[DiskSpaceCollector\]\]/\#\[\[DiskSpaceCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[DiskUsageCollector\]\]/\#\[\[DiskUsageCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[LoadAverageCollector\]\]/\#\[\[LoadAverageCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[MemoryCollector\]\]/\#\[\[MemoryCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "s/\[\[VMStatCollector\]\]/\#\[\[VMStatCollector\]\]/g" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/i\[\[CephCollector\]\]" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/ienabled = True" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/i\[\[NetworkCollector\]\]" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/ienabled = True" /etc/diamond/diamond.conf;' 'sudo -E sed -i "/\[\[CPUCollector\]\]/aenabled = True" /etc/diamond/diamond.conf;' 'sudo -E diamond'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ ssh -t cephuser@192.168.123.103 'cd /etc/yum.repos.d; if [[ -d /tmp/backup ]]; then sudo -E mv /tmp/backup/* .; sudo -E rm -rf /tmp/backup; fi'
Warning: Permanently added '192.168.123.103' (ECDSA) to the list of known hosts.
cephuser@192.168.123.103's password:
Connection to 192.168.123.103 closed.
+ echo Finished.
Finished.
+ set +o xtrace
[cephuser@vsm-controller 2.0.0-216]$
